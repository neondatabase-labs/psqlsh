const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DzYu25Zv.js","assets/is-plan-event-enabled-DZPL-m0P.js","assets/index-B7vbM8kF.js"])))=>i.map(i=>d[i]);
var fd=Object.defineProperty;var Ed=(e,t,n)=>t in e?fd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Be=(e,t,n)=>Ed(e,typeof t!="symbol"?t+"":t,n);(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2e7dd898-c17b-495e-a174-2092dfbc682d",e._sentryDebugIdIdentifier="sentry-dbid-2e7dd898-c17b-495e-a174-2092dfbc682d")}catch{}})();var hd=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};hd.SENTRY_RELEASE={id:"75b558493e6d3216fac3560e2b41892b775d55c6"};(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const gd="modulepreload",md=function(e){return"/"+e},ec={},Ft=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=md(l),l in ec)return;ec[l]=!0;const E=l.endsWith(".css"),h=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const g=document.createElement("link");if(g.rel=E?"stylesheet":gd,E||(g.as="script"),g.crossOrigin="",g.href=l,c&&g.setAttribute("nonce",c),document.head.appendChild(g),E)return new Promise((S,A)=>{g.addEventListener("load",S),g.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};var fa=function(e,t){return fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},fa(e,t)};function yt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");fa(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ne=function(){return ne=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ne.apply(this,arguments)};function Tl(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function de(e,t,n,s){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function c(h){try{E(s.next(h))}catch(g){o(g)}}function l(h){try{E(s.throw(h))}catch(g){o(g)}}function E(h){h.done?a(h.value):i(h.value).then(c,l)}E((s=s.apply(e,t||[])).next())})}function fe(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(E){return function(h){return l([E,h])}}function l(E){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,E[0]&&(n=0)),n;)try{if(s=1,i&&(a=E[0]&2?i.return:E[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,E[1])).done)return a;switch(i=0,a&&(E=[E[0]&2,a.value]),E[0]){case 0:case 1:a=E;break;case 4:return n.label++,{value:E[1],done:!1};case 5:n.label++,i=E[1],E=[0];continue;case 7:E=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(E[0]===6||E[0]===2)){n=0;continue}if(E[0]===3&&(!a||E[1]>a[0]&&E[1]<a[3])){n.label=E[1];break}if(E[0]===6&&n.label<a[1]){n.label=a[1],a=E;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(E);break}a[2]&&n.ops.pop(),n.trys.pop();continue}E=t.call(e,n)}catch(h){E=[6,h],i=0}finally{s=a=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}}function rt(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,a;s<i;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}function Ea(e,t,n){t.split&&(t=t.split("."));for(var s=0,i=t.length,a=e,o,c;s<i&&(c=""+t[s++],!(c==="__proto__"||c==="constructor"||c==="prototype"));)a=a[c]=s===i?n:typeof(o=a[c])==typeof t?o:t[s]*0!==0||~(""+t[s]).indexOf(".")?{}:[]}var _d=function(e,t){return Object.keys(e).filter(function(n){return t(n,e[n])}).reduce(function(n,s){return n[s]=e[s],n},{})},Yn=function(e){yt(t,e);function t(n,s){var i=e.call(this,"".concat(n," ").concat(s))||this;return i.field=n,i}return t}(Error);function Jn(e){return typeof e=="string"}function ha(e){return typeof e=="number"}function mr(e){return typeof e=="function"}function Td(e){return e!=null}function xt(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()==="object"}var za="is not a string",Ja="is not an object",Sd="is nil";function Rd(e){if(!Td(e))throw new Yn("Event",Sd);if(typeof e!="object")throw new Yn("Event",Ja)}function Ad(e){if(!Jn(e.type))throw new Yn(".type",za)}function yd(e){if(!Jn(e.event))throw new Yn(".event",za)}function Nd(e){if(!xt(e.properties))throw new Yn(".properties",Ja)}function vd(e){if(!xt(e.traits))throw new Yn(".traits",Ja)}function Id(e){if(!Jn(e.messageId))throw new Yn(".messageId",za)}function Od(e){Rd(e),Ad(e),Id(e),e.type==="track"&&(yd(e),Nd(e)),["group","identify"].includes(e.type)&&vd(e)}var bd=function(){function e(t){var n,s;this.settings=t,this.createMessageId=t.createMessageId,this.onEventMethodCall=(n=t.onEventMethodCall)!==null&&n!==void 0?n:function(){},this.onFinishedEvent=(s=t.onFinishedEvent)!==null&&s!==void 0?s:function(){}}return e}(),Ld=function(){function e(t){this.settings=new bd(t)}return e.prototype.track=function(t,n,s,i){return this.settings.onEventMethodCall({type:"track",options:s}),this.normalize(ne(ne({},this.baseEvent()),{event:t,type:"track",properties:n??{},options:ne({},s),integrations:ne({},i)}))},e.prototype.page=function(t,n,s,i,a){var o;this.settings.onEventMethodCall({type:"page",options:i});var c={type:"page",properties:ne({},s),options:ne({},i),integrations:ne({},a)};return t!==null&&(c.category=t,c.properties=(o=c.properties)!==null&&o!==void 0?o:{},c.properties.category=t),n!==null&&(c.name=n),this.normalize(ne(ne({},this.baseEvent()),c))},e.prototype.screen=function(t,n,s,i,a){this.settings.onEventMethodCall({type:"screen",options:i});var o={type:"screen",properties:ne({},s),options:ne({},i),integrations:ne({},a)};return t!==null&&(o.category=t),n!==null&&(o.name=n),this.normalize(ne(ne({},this.baseEvent()),o))},e.prototype.identify=function(t,n,s,i){return this.settings.onEventMethodCall({type:"identify",options:s}),this.normalize(ne(ne({},this.baseEvent()),{type:"identify",userId:t,traits:n??{},options:ne({},s),integrations:i}))},e.prototype.group=function(t,n,s,i){return this.settings.onEventMethodCall({type:"group",options:s}),this.normalize(ne(ne({},this.baseEvent()),{type:"group",traits:n??{},options:ne({},s),integrations:ne({},i),groupId:t}))},e.prototype.alias=function(t,n,s,i){this.settings.onEventMethodCall({type:"alias",options:s});var a={userId:t,type:"alias",options:ne({},s),integrations:ne({},i)};return n!==null&&(a.previousId=n),t===void 0?this.normalize(ne(ne({},a),this.baseEvent())):this.normalize(ne(ne({},this.baseEvent()),a))},e.prototype.baseEvent=function(){return{integrations:{},options:{}}},e.prototype.context=function(t){var n,s=["userId","anonymousId","timestamp","messageId"];delete t.integrations;var i=Object.keys(t),a=(n=t.context)!==null&&n!==void 0?n:{},o={};return i.forEach(function(c){c!=="context"&&(s.includes(c)?Ea(o,c,t[c]):Ea(a,c,t[c]))}),[a,o]},e.prototype.normalize=function(t){var n,s,i=Object.keys((n=t.integrations)!==null&&n!==void 0?n:{}).reduce(function(S,A){var p,f;return ne(ne({},S),(p={},p[A]=!!(!((f=t.integrations)===null||f===void 0)&&f[A]),p))},{});t.options=_d(t.options||{},function(S,A){return A!==void 0});var a=ne(ne({},i),(s=t.options)===null||s===void 0?void 0:s.integrations),o=t.options?this.context(t.options):[],c=o[0],l=o[1],E=t.options,h=Tl(t,["options"]),g=ne(ne(ne(ne({timestamp:new Date},h),{context:c,integrations:a}),l),{messageId:E.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(g),Od(g),g},e}();function Cd(e,t){return new Promise(function(n,s){var i=setTimeout(function(){s(Error("Promise timed out"))},t);e.then(function(a){return clearTimeout(i),n(a)}).catch(s)})}function wd(e){return new Promise(function(t){return setTimeout(t,e)})}function Dd(e,t,n){var s=function(){try{return Promise.resolve(t(e))}catch(i){return Promise.reject(i)}};return wd(n).then(function(){return Cd(s(),1e3)}).catch(function(i){e==null||e.log("warn","Callback Error",{error:i}),e==null||e.stats.increment("callback_error")}).then(function(){return e})}var Sl=function(){var e,t,n=!1,s=new Promise(function(i,a){e=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];n=!0,i.apply(void 0,o)},t=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];n=!0,a.apply(void 0,o)}});return{resolve:e,reject:t,promise:s,isSettled:function(){return n}}},Za=function(){function e(t){var n;this.callbacks={},this.warned=!1,this.maxListeners=(n=t==null?void 0:t.maxListeners)!==null&&n!==void 0?n:10}return e.prototype.warnIfPossibleMemoryLeak=function(t){this.warned||this.maxListeners&&this.callbacks[t].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(t)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},e.prototype.on=function(t,n){return this.callbacks[t]?(this.callbacks[t].push(n),this.warnIfPossibleMemoryLeak(t)):this.callbacks[t]=[n],this},e.prototype.once=function(t,n){var s=this,i=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];s.off(t,i),n.apply(s,a)};return this.on(t,i),this},e.prototype.off=function(t,n){var s,i=(s=this.callbacks[t])!==null&&s!==void 0?s:[],a=i.filter(function(o){return o!==n});return this.callbacks[t]=a,this},e.prototype.emit=function(t){for(var n=this,s,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var o=(s=this.callbacks[t])!==null&&s!==void 0?s:[];return o.forEach(function(c){c.apply(n,i)}),this},e}();function Pd(e){var t=Math.random()+1,n=e.minTimeout,s=n===void 0?500:n,i=e.factor,a=i===void 0?2:i,o=e.attempt,c=e.maxTimeout,l=c===void 0?1/0:c;return Math.min(t*s*Math.pow(a,o),l)}var Rl="onRemoveFromFuture",eo=function(e){yt(t,e);function t(n,s,i){var a=e.call(this)||this;return a.future=[],a.maxAttempts=n,a.queue=s,a.seen=i??{},a}return t.prototype.push=function(){for(var n=this,s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];var a=s.map(function(o){var c=n.updateAttempts(o);return c>n.maxAttempts||n.includes(o)?!1:(n.queue.push(o),!0)});return this.queue=this.queue.sort(function(o,c){return n.getAttempts(o)-n.getAttempts(c)}),a},t.prototype.pushWithBackoff=function(n,s){var i=this;if(s===void 0&&(s=0),s==0&&this.getAttempts(n)===0)return this.push(n)[0];var a=this.updateAttempts(n);if(a>this.maxAttempts||this.includes(n))return!1;var o=Pd({attempt:a-1});return s>0&&o<s&&(o=s),setTimeout(function(){i.queue.push(n),i.future=i.future.filter(function(c){return c.id!==n.id}),i.emit(Rl)},o),this.future.push(n),!0},t.prototype.getAttempts=function(n){var s;return(s=this.seen[n.id])!==null&&s!==void 0?s:0},t.prototype.updateAttempts=function(n){return this.seen[n.id]=this.getAttempts(n)+1,this.getAttempts(n)},t.prototype.includes=function(n){return this.queue.includes(n)||this.future.includes(n)||!!this.queue.find(function(s){return s.id===n.id})||!!this.future.find(function(s){return s.id===n.id})},t.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),t}(Za),Fn=256,ei=[],Bs;for(;Fn--;)ei[Fn]=(Fn+256).toString(16).substring(1);function to(){var e=0,t,n="";if(!Bs||Fn+16>256){for(Bs=Array(e=256);e--;)Bs[e]=256*Math.random()|0;e=Fn=0}for(;e<16;e++)t=Bs[Fn+e],e==6?n+=ei[t&15|64]:e==8?n+=ei[t&63|128]:n+=ei[t],e&1&&e>1&&e<11&&(n+="-");return Fn++,n}var Ud=function(){function e(){this._logs=[]}return e.prototype.log=function(t,n,s){var i=new Date;this._logs.push({level:t,message:n,time:i,extras:s})},Object.defineProperty(e.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),e.prototype.flush=function(){if(this.logs.length>1){var t=this._logs.reduce(function(n,s){var i,a,o,c=ne(ne({},s),{json:JSON.stringify(s.extras,null," "),extras:s.extras});delete c.time;var l=(o=(a=s.time)===null||a===void 0?void 0:a.toISOString())!==null&&o!==void 0?o:"";return n[l]&&(l="".concat(l,"-").concat(Math.random())),ne(ne({},n),(i={},i[l]=c,i))},{});console.table?console.table(t):console.log(t)}else this.logs.forEach(function(n){var s=n.level,i=n.message,a=n.extras;s==="info"||s==="debug"?console.log(i,a??""):console[s](i,a??"")});this._logs=[]},e}(),Md=function(e){var t={gauge:"g",counter:"c"};return t[e]},Al=function(){function e(){this.metrics=[]}return e.prototype.increment=function(t,n,s){n===void 0&&(n=1),this.metrics.push({metric:t,value:n,tags:s??[],type:"counter",timestamp:Date.now()})},e.prototype.gauge=function(t,n,s){this.metrics.push({metric:t,value:n,tags:s??[],type:"gauge",timestamp:Date.now()})},e.prototype.flush=function(){var t=this.metrics.map(function(n){return ne(ne({},n),{tags:n.tags.join(",")})});console.table?console.table(t):console.log(t),this.metrics=[]},e.prototype.serialize=function(){return this.metrics.map(function(t){return{m:t.metric,v:t.value,t:t.tags,k:Md(t.type),e:t.timestamp}})},e}(),Fd=function(e){yt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.gauge=function(){},t.prototype.increment=function(){},t.prototype.flush=function(){},t.prototype.serialize=function(){return[]},t}(Al),Rr=function(){function e(t){var n,s,i;this.retry=(n=t.retry)!==null&&n!==void 0?n:!0,this.type=(s=t.type)!==null&&s!==void 0?s:"plugin Error",this.reason=(i=t.reason)!==null&&i!==void 0?i:""}return e}(),li=function(){function e(t,n,s,i){n===void 0&&(n=to()),s===void 0&&(s=new Fd),i===void 0&&(i=new Ud),this.attempts=0,this.event=t,this._id=n,this.logger=i,this.stats=s}return e.system=function(){},e.prototype.isSame=function(t){return t.id===this.id},e.prototype.cancel=function(t){throw t||new Rr({reason:"Context Cancel"})},e.prototype.log=function(t,n,s){this.logger.log(t,n,s)},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.updateEvent=function(t,n){var s;if(t.split(".")[0]==="integrations"){var i=t.split(".")[1];if(((s=this.event.integrations)===null||s===void 0?void 0:s[i])===!1)return this.event}return Ea(this.event,t,n),this.event},e.prototype.failedDelivery=function(){return this._failedDelivery},e.prototype.setFailedDelivery=function(t){this._failedDelivery=t},e.prototype.logs=function(){return this.logger.logs},e.prototype.flush=function(){this.logger.flush(),this.stats.flush()},e.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},e}();function xd(e,t){var n={};return e.forEach(function(s){var i,a=void 0;{var o=s[t];a=typeof o!="string"?JSON.stringify(o):o}a!==void 0&&(n[a]=rt(rt([],(i=n[a])!==null&&i!==void 0?i:[],!0),[s],!1))}),n}var kd=function(e){return typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"},Hd=function(){var e,t,n=0;return{done:function(){return e},run:function(s){var i=s();return kd(i)&&(++n===1&&(e=new Promise(function(a){return t=a})),i.finally(function(){return--n===0&&t()})),i}}};function Bd(e){return de(this,void 0,void 0,function(){var t;return fe(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,n.sent()];case 2:return t=n.sent(),[2,Promise.reject(t)];case 3:return[2]}})})}function os(e,t){e.log("debug","plugin",{plugin:t.name});var n=new Date().getTime(),s=t[e.event.type];if(s===void 0)return Promise.resolve(e);var i=Bd(function(){return s.apply(t,[e])}).then(function(a){var o=new Date().getTime()-n;return a.stats.gauge("plugin_time",o,["plugin:".concat(t.name)]),a}).catch(function(a){if(a instanceof Rr&&a.type==="middleware_cancellation")throw a;return a instanceof Rr?(e.log("warn",a.type,{plugin:t.name,error:a}),a):(e.log("error","plugin Error",{plugin:t.name,error:a}),e.stats.increment("plugin_error",1,["plugin:".concat(t.name)]),a)});return i}function Wd(e,t){return os(e,t).then(function(n){if(n instanceof li)return n;e.log("debug","Context canceled"),e.stats.increment("context_canceled"),e.cancel(n)})}var Gd=function(e){yt(t,e);function t(n){var s=e.call(this)||this;return s.criticalTasks=Hd(),s.plugins=[],s.failedInitializations=[],s.flushing=!1,s.queue=n,s.queue.on(Rl,function(){s.scheduleFlush(0)}),s}return t.prototype.register=function(n,s,i){return de(this,void 0,void 0,function(){var a,o,c=this;return fe(this,function(l){switch(l.label){case 0:return this.plugins.push(s),a=function(E){c.failedInitializations.push(s.name),c.emit("initialization_failure",s),console.warn(s.name,E),n.log("warn","Failed to load destination",{plugin:s.name,error:E}),c.plugins=c.plugins.filter(function(h){return h!==s})},s.type==="destination"&&s.name!=="Segment.io"?(s.load(n,i).catch(a),[3,4]):[3,1];case 1:return l.trys.push([1,3,,4]),[4,s.load(n,i)];case 2:return l.sent(),[3,4];case 3:return o=l.sent(),a(o),[3,4];case 4:return[2]}})})},t.prototype.deregister=function(n,s,i){return de(this,void 0,void 0,function(){var a;return fe(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),s.unload?[4,Promise.resolve(s.unload(n,i))]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.plugins=this.plugins.filter(function(c){return c.name!==s.name}),[3,4];case 3:return a=o.sent(),n.log("warn","Failed to unload destination",{plugin:s.name,error:a}),[3,4];case 4:return[2]}})})},t.prototype.dispatch=function(n){return de(this,void 0,void 0,function(){var s;return fe(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.push(n),s=this.subscribeToDelivery(n),this.scheduleFlush(0),[2,s]})})},t.prototype.subscribeToDelivery=function(n){return de(this,void 0,void 0,function(){var s=this;return fe(this,function(i){return[2,new Promise(function(a){var o=function(c,l){c.isSame(n)&&(s.off("flush",o),a(c))};s.on("flush",o)})]})})},t.prototype.dispatchSingle=function(n){return de(this,void 0,void 0,function(){var s=this;return fe(this,function(i){return n.log("debug","Dispatching"),n.stats.increment("message_dispatched"),this.queue.updateAttempts(n),n.attempts=1,[2,this.deliver(n).catch(function(a){var o=s.enqueuRetry(a,n);return o?s.subscribeToDelivery(n):(n.setFailedDelivery({reason:a}),n)})]})})},t.prototype.isEmpty=function(){return this.queue.length===0},t.prototype.scheduleFlush=function(n){var s=this;n===void 0&&(n=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){s.flush().then(function(){setTimeout(function(){s.flushing=!1,s.queue.length&&s.scheduleFlush(0)},0)})},n))},t.prototype.deliver=function(n){return de(this,void 0,void 0,function(){var s,i,a,o;return fe(this,function(c){switch(c.label){case 0:return[4,this.criticalTasks.done()];case 1:c.sent(),s=Date.now(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.flushOne(n)];case 3:return n=c.sent(),i=Date.now()-s,this.emit("delivery_success",n),n.stats.gauge("delivered",i),n.log("debug","Delivered",n.event),[2,n];case 4:throw a=c.sent(),o=a,n.log("error","Failed to deliver",o),this.emit("delivery_failure",n,o),n.stats.increment("delivery_failed"),a;case 5:return[2]}})})},t.prototype.enqueuRetry=function(n,s){var i=!(n instanceof Rr)||n.retry;return i?this.queue.pushWithBackoff(s):!1},t.prototype.flush=function(){return de(this,void 0,void 0,function(){var n,s,i;return fe(this,function(a){switch(a.label){case 0:if(this.queue.length===0)return[2,[]];if(n=this.queue.pop(),!n)return[2,[]];n.attempts=this.queue.getAttempts(n),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.deliver(n)];case 2:return n=a.sent(),this.emit("flush",n,!0),[3,4];case 3:return s=a.sent(),i=this.enqueuRetry(s,n),i||(n.setFailedDelivery({reason:s}),this.emit("flush",n,!1)),[2,[]];case 4:return[2,[n]]}})})},t.prototype.isReady=function(){return!0},t.prototype.availableExtensions=function(n){var s=this.plugins.filter(function(A){var p,f,d;if(A.type!=="destination"&&A.name!=="Segment.io")return!0;var w=void 0;return(p=A.alternativeNames)===null||p===void 0||p.forEach(function(D){n[D]!==void 0&&(w=n[D])}),(d=(f=n[A.name])!==null&&f!==void 0?f:w)!==null&&d!==void 0?d:(A.name==="Segment.io"?!0:n.All)!==!1}),i=xd(s,"type"),a=i.before,o=a===void 0?[]:a,c=i.enrichment,l=c===void 0?[]:c,E=i.destination,h=E===void 0?[]:E,g=i.after,S=g===void 0?[]:g;return{before:o,enrichment:l,destinations:h,after:S}},t.prototype.flushOne=function(n){var s,i;return de(this,void 0,void 0,function(){var a,o,c,l,E,h,p,g,S,A,p,f,d,w,D;return fe(this,function(M){switch(M.label){case 0:if(!this.isReady())throw new Error("Not ready");n.attempts>1&&this.emit("delivery_retry",n),a=this.availableExtensions((s=n.event.integrations)!==null&&s!==void 0?s:{}),o=a.before,c=a.enrichment,l=0,E=o,M.label=1;case 1:return l<E.length?(h=E[l],[4,Wd(n,h)]):[3,4];case 2:p=M.sent(),p instanceof li&&(n=p),this.emit("message_enriched",n,h),M.label=3;case 3:return l++,[3,1];case 4:g=0,S=c,M.label=5;case 5:return g<S.length?(A=S[g],[4,os(n,A)]):[3,8];case 6:p=M.sent(),p instanceof li&&(n=p),this.emit("message_enriched",n,A),M.label=7;case 7:return g++,[3,5];case 8:return f=this.availableExtensions((i=n.event.integrations)!==null&&i!==void 0?i:{}),d=f.destinations,w=f.after,[4,new Promise(function(V,j){setTimeout(function(){var C=d.map(function(W){return os(n,W)});Promise.all(C).then(V).catch(j)},0)})];case 9:return M.sent(),n.stats.increment("message_delivered"),this.emit("message_delivered",n),D=w.map(function(V){return os(n,V)}),[4,Promise.all(D)];case 10:return M.sent(),[2,n]}})})},t}(Za),qd=function(e,t){var n=Date.now()-e;return Math.max((t??300)-n,0)};function Yd(e,t,n,s){return de(this,void 0,void 0,function(){var i,a;return fe(this,function(o){switch(o.label){case 0:return n.emit("dispatch_start",e),i=Date.now(),t.isEmpty()?[4,t.dispatchSingle(e)]:[3,2];case 1:return a=o.sent(),[3,4];case 2:return[4,t.dispatch(e)];case 3:a=o.sent(),o.label=4;case 4:return s!=null&&s.callback?[4,Dd(a,s.callback,qd(i,s.timeout))]:[3,6];case 5:a=o.sent(),o.label=6;case 6:return s!=null&&s.debug&&a.flush(),[2,a]}})})}function jd(e,t,n,s){var i,a=[e,t,n,s],o=xt(e)?e.event:e;if(!o||!Jn(o))throw new Error("Event missing");var c=xt(e)?(i=e.properties)!==null&&i!==void 0?i:{}:xt(t)?t:{},l={};mr(n)||(l=n??{}),xt(e)&&!mr(t)&&(l=t??{});var E=a.find(mr);return[o,c,l,E]}function tc(e,t,n,s,i){var a,o,c=null,l=null,E=[e,t,n,s,i],h=E.filter(Jn);h[0]!==void 0&&h[1]!==void 0&&(c=h[0],l=h[1]),h.length===1&&(c=null,l=h[0]);var g=E.find(mr),S=E.filter(function(f){return l===null?xt(f):xt(f)||f===null}),A=(a=S[0])!==null&&a!==void 0?a:{},p=(o=S[1])!==null&&o!==void 0?o:{};return[c,l,A,p,g]}var nc=function(e){return function(){for(var t,n,s,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];for(var o={},c=["callback","options","traits","id"],l=0,E=i;l<E.length;l++){var h=E[l],g=c.pop();if(g==="id"){if(Jn(h)||ha(h)){o.id=h.toString();continue}if(h==null)continue;g=c.pop()}if((g==="traits"||g==="options")&&(h==null||xt(h))&&(o[g]=h),mr(h)){o.callback=h;break}}return[(t=o.id)!==null&&t!==void 0?t:e.id(),(n=o.traits)!==null&&n!==void 0?n:{},(s=o.options)!==null&&s!==void 0?s:{},o.callback]}};function $d(e,t,n,s){ha(e)&&(e=e.toString()),ha(t)&&(t=t.toString());var i=[e,t,n,s],a=i.filter(Jn),o=a[0],c=o===void 0?e:o,l=a[1],E=l===void 0?null:l,h=i.filter(xt)[0],g=h===void 0?{}:h,S=i.find(mr);return[c,E,g,S]}function no(){return typeof window<"u"}function jv(){return!no()}function Vd(){return no()?window.navigator.onLine:!0}function ps(){return!Vd()}function Xd(e,t){return t=t||{},new Promise(function(n,s){var i=new XMLHttpRequest,a=[],o=[],c={},l=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:l,headers:{keys:function(){return a},entries:function(){return o},get:function(h){return c[h.toLowerCase()]},has:function(h){return h.toLowerCase()in c}}}};for(var E in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(h,g,S){a.push(g=g.toLowerCase()),o.push([g,S]),c[g]=c[g]?c[g]+","+S:S}),n(l())},i.onerror=s,i.withCredentials=t.credentials=="include",t.headers)i.setRequestHeader(E,t.headers[E]);i.send(t.body||null)})}var ro=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null},_i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ro();return(n&&n.fetch||Xd).apply(void 0,e)},Ti="1.75.0",yl="api.segment.io/v1",Qd=function(e,t,n){var s=t.reduce(function(i,a){var o=a.split(":"),c=o[0],l=o[1];return i[c]=l,i},{});return{type:"Counter",metric:e,value:1,tags:ne(ne({},s),{library:"analytics.js",library_version:"npm:next-".concat(Ti)})}};function $i(e){console.error("Error sending segment performance metrics",e)}var Kd=function(){function e(t){var n=this,s,i,a,o,c;if(this.host=(s=t==null?void 0:t.host)!==null&&s!==void 0?s:yl,this.sampleRate=(i=t==null?void 0:t.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(a=t==null?void 0:t.flushTimer)!==null&&a!==void 0?a:30*1e3,this.maxQueueSize=(o=t==null?void 0:t.maxQueueSize)!==null&&o!==void 0?o:20,this.protocol=(c=t==null?void 0:t.protocol)!==null&&c!==void 0?c:"https",this.queue=[],this.sampleRate>0){var l=!1,E=function(){l||(l=!0,n.flush().catch($i),l=!1,setTimeout(E,n.flushTimer))};E()}}return e.prototype.increment=function(t,n){if(t.includes("analytics_js.")&&n.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var s=Qd(t,n);this.queue.push(s),t.includes("error")&&this.flush().catch($i)}},e.prototype.flush=function(){return de(this,void 0,void 0,function(){var t=this;return fe(this,function(n){switch(n.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(s){$i(s),t.sampleRate=0})];case 1:return n.sent(),[2]}})})},e.prototype.send=function(){return de(this,void 0,void 0,function(){var t,n,s;return fe(this,function(i){return t={series:this.queue},this.queue=[],n={"Content-Type":"text/plain"},s="".concat(this.protocol,"://").concat(this.host,"/m"),[2,_i(s,{headers:n,body:JSON.stringify(t),method:"POST"})]})})},e}(),Ws,Nl=function(e){yt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.initRemoteMetrics=function(n){Ws=new Kd(n)},t.prototype.increment=function(n,s,i){e.prototype.increment.call(this,n,s,i),Ws==null||Ws.increment(n,i??[])},t}(Al),cn=function(e){yt(t,e);function t(n,s){return e.call(this,n,s,new Nl)||this}return t.system=function(){return new this({type:"track",event:"system"})},t}(li),vl="bpc",Il=function(e,t,n,s,i,a){return{__t:vl,c:t,p:s,u:e,s:n,t:i,r:a}},zd=Object.keys(Il("","","","","",""));function Jd(e){if(!xt(e)||e.__t!==vl)return!1;for(var t in e)if(!zd.includes(t))return!1;return!0}var Zd=function(e,t){return e.indexOf("?")>-1?e:e+t},ef=function(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)},tf=function(e){try{return new URL(e).pathname}catch{return e[0]==="/"?e:"/"+e}},Ol=function(e){var t=e.c,n=e.p,s=e.s,i=e.u,a=e.r,o=e.t,c=t?tf(t):n,l=t?Zd(t,s):ef(i);return{path:c,referrer:a,search:s,title:o,url:l}},bl=function(){var e=document.querySelector("link[rel='canonical']");return Il(location.href,e&&e.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},nf=function(){return Ol(bl())};function rf(e,t){return Object.assign.apply(Object,rt([{}],t.map(function(n){var s;if(e&&Object.prototype.hasOwnProperty.call(e,n))return s={},s[n]=e[n],s}),!1))}var or=function(e,t){t===void 0&&(t=nf());var n=e.context,s;e.type==="page"&&(s=e.properties&&rf(e.properties,Object.keys(t)),e.properties=ne(ne(ne({},t),e.properties),e.name?{name:e.name}:{})),n.page=ne(ne(ne({},t),s),n.page)},sf=function(e){yt(t,e);function t(n){var s=e.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(to())},onEventMethodCall:function(i){var a=i.options;s.maybeUpdateAnonId(a)},onFinishedEvent:function(i){return s.addIdentity(i),i}})||this;return s.user=n,s}return t.prototype.maybeUpdateAnonId=function(n){n!=null&&n.anonymousId&&this.user.anonymousId(n.anonymousId)},t.prototype.addIdentity=function(n){this.user.id()&&(n.userId=this.user.id()),this.user.anonymousId()&&(n.anonymousId=this.user.anonymousId())},t.prototype.track=function(n,s,i,a,o){var c=e.prototype.track.call(this,n,s,i,a);return or(c,o),c},t.prototype.page=function(n,s,i,a,o,c){var l=e.prototype.page.call(this,n,s,i,a,o);return or(l,c),l},t.prototype.screen=function(n,s,i,a,o,c){var l=e.prototype.screen.call(this,n,s,i,a,o);return or(l,c),l},t.prototype.identify=function(n,s,i,a,o){var c=e.prototype.identify.call(this,n,s,i,a);return or(c,o),c},t.prototype.group=function(n,s,i,a,o){var c=e.prototype.group.call(this,n,s,i,a);return or(c,o),c},t.prototype.alias=function(n,s,i,a,o){var c=e.prototype.alias.call(this,n,s,i,a);return or(c,o),c},t}(Ld),af=function(e){return"addMiddleware"in e&&e.type==="destination"},Xt={getItem:function(){},setItem:function(){},removeItem:function(){}};try{Xt=no()&&window.localStorage?window.localStorage:Xt}catch(e){console.warn("Unable to access localStorage",e)}function Ll(e){var t=Xt.getItem(e);return(t?JSON.parse(t):[]).map(function(n){return new cn(n.event,n.id)})}function of(e,t){var n=Ll(e),s=rt(rt([],t,!0),n,!0),i=s.reduce(function(a,o){var c;return ne(ne({},a),(c={},c[o.id]=o,c))},{});Xt.setItem(e,JSON.stringify(Object.values(i)))}function Cl(e){var t=Xt.getItem(e);return t?JSON.parse(t):{}}function cf(e,t){var n=Cl(e);Xt.setItem(e,JSON.stringify(ne(ne({},n),t)))}function rc(e){Xt.removeItem(e)}var lf=function(){return new Date().getTime()};function ga(e,t,n){n===void 0&&(n=0);var s=50,i="persisted-queue:v1:".concat(e,":lock"),a=function(E){return new Date().getTime()>E},o=Xt.getItem(i),c=o?JSON.parse(o):null,l=c===null||a(c);if(l){Xt.setItem(i,JSON.stringify(lf()+s)),t(),Xt.removeItem(i);return}!l&&n<3?setTimeout(function(){ga(e,t,n+1)},s):console.error("Unable to retrieve lock")}var so=function(e){yt(t,e);function t(n,s){var i=e.call(this,n,[])||this,a="persisted-queue:v1:".concat(s,":items"),o="persisted-queue:v1:".concat(s,":seen"),c=[],l={};return ga(s,function(){try{c=Ll(a),l=Cl(o),rc(a),rc(o),i.queue=rt(rt([],c,!0),i.queue,!0),i.seen=ne(ne({},l),i.seen)}catch(E){console.error(E)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var E=rt(rt([],i.queue,!0),i.future,!0);try{ga(s,function(){of(a,E),cf(o,i.seen)})}catch(h){console.error(h)}}}),i}return t}(eo),uf=function(e){yt(t,e);function t(n){return e.call(this,typeof n=="string"?new so(4,n):n)||this}return t.prototype.flush=function(){return de(this,void 0,void 0,function(){return fe(this,function(n){return ps()?[2,[]]:[2,e.prototype.flush.call(this)]})})},t}(Gd);function io(e){for(var t=e.constructor.prototype,n=0,s=Object.getOwnPropertyNames(t);n<s.length;n++){var i=s[n];if(i!=="constructor"){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);a&&typeof a.value=="function"&&(e[i]=e[i].bind(e))}}return e}/*! js-cookie v3.0.1 | MIT */function Gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)e[s]=n[s]}return e}var pf={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function ma(e,t){function n(i,a,o){if(!(typeof document>"u")){o=Gs({},t,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var l in o)o[l]&&(c+="; "+l,o[l]!==!0&&(c+="="+o[l].split(";")[0]));return document.cookie=i+"="+e.write(a,i)+c}}function s(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],o={},c=0;c<a.length;c++){var l=a[c].split("="),E=l.slice(1).join("=");try{var h=decodeURIComponent(l[0]);if(o[h]=e.read(E,h),i===h)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:s,remove:function(i,a){n(i,"",Gs({},a,{expires:-1}))},withAttributes:function(i){return ma(this.converter,Gs({},this.attributes,i))},withConverter:function(i){return ma(Gs({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var an=ma(pf,{path:"/"});function df(e){var t=e.hostname,n=t.split("."),s=n[n.length-1],i=[];if(n.length===4&&parseInt(s,10)>0||n.length<=1)return i;for(var a=n.length-2;a>=0;--a)i.push(n.slice(a).join("."));return i}function ff(e){try{return new URL(e)}catch{return}}function wl(e){var t=ff(e);if(t)for(var n=df(t),s=0;s<n.length;++s){var i="__tld__",a=n[s],o={domain:"."+a};try{if(an.set(i,"1",o),an.get(i))return an.remove(i,o),a}catch{return}}}var Ef=365,Dl=function(){function e(t){t===void 0&&(t=e.defaults),this.options=ne(ne({},e.defaults),t)}return Object.defineProperty(e,"defaults",{get:function(){return{maxage:Ef,domain:wl(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),e.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},e.prototype.get=function(t){var n;try{var s=an.get(t);if(s==null)return null;try{return(n=JSON.parse(s))!==null&&n!==void 0?n:null}catch{return s??null}}catch{return null}},e.prototype.set=function(t,n){typeof n=="string"?an.set(t,n,this.opts()):n===null?an.remove(t,this.opts()):an.set(t,JSON.stringify(n),this.opts())},e.prototype.remove=function(t){return an.remove(t,this.opts())},e}(),hf=function(){function e(){}return e.prototype.localStorageWarning=function(t,n){console.warn("Unable to access ".concat(t,", localStorage may be ").concat(n))},e.prototype.get=function(t){var n;try{var s=localStorage.getItem(t);if(s===null)return null;try{return(n=JSON.parse(s))!==null&&n!==void 0?n:null}catch{return s??null}}catch{return this.localStorageWarning(t,"unavailable"),null}},e.prototype.set=function(t,n){try{localStorage.setItem(t,JSON.stringify(n))}catch{this.localStorageWarning(t,"full")}},e.prototype.remove=function(t){try{return localStorage.removeItem(t)}catch{this.localStorageWarning(t,"unavailable")}},e}(),ao=function(){function e(){this.cache={}}return e.prototype.get=function(t){var n;return(n=this.cache[t])!==null&&n!==void 0?n:null},e.prototype.set=function(t,n){this.cache[t]=n},e.prototype.remove=function(t){delete this.cache[t]},e}(),St={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function Pl(e){return e&&e.stores&&Array.isArray(e.stores)&&e.stores.every(function(t){return Object.values(St).includes(t)})}function gf(e){return typeof e=="object"&&e.name!==void 0}var Vi=function(e,t,n,s){console.warn("".concat(e.constructor.name,": Can't ").concat(t,' key "').concat(n,'" | Err: ').concat(s))},xn=function(){function e(t){this.stores=t}return e.prototype.get=function(t){for(var n=null,s=0,i=this.stores;s<i.length;s++){var a=i[s];try{if(n=a.get(t),n!=null)return n}catch(o){Vi(a,"get",t,o)}}return null},e.prototype.set=function(t,n){this.stores.forEach(function(s){try{s.set(t,n)}catch(i){Vi(s,"set",t,i)}})},e.prototype.clear=function(t){this.stores.forEach(function(n){try{n.remove(t)}catch(s){Vi(n,"remove",t,s)}})},e.prototype.getAndSync=function(t){var n=this.get(t),s=typeof n=="number"?n.toString():n;return this.set(t,s),s},e}();function _a(e){var t=e.map(function(n){var s,i;switch(gf(n)?(s=n.name,i=n.settings):s=n,s){case St.Cookie:return new Dl(i);case St.LocalStorage:return new hf;case St.Memory:return new ao;default:throw new Error("Unknown Store Type: ".concat(n))}});return t}function Ul(e,t){return e.map(function(n){return t&&n===St.Cookie?{name:n,settings:t}:n})}var wn={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},Ml=function(){function e(t,n){t===void 0&&(t=wn);var s=this,i,a,o,c;this.options={},this.id=function(E){if(s.options.disable)return null;var h=s.identityStore.getAndSync(s.idKey);if(E!==void 0){s.identityStore.set(s.idKey,E);var g=E!==h&&h!==null&&E!==null;g&&s.anonymousId(null)}var S=s.identityStore.getAndSync(s.idKey);if(S)return S;var A=s.legacyUserStore.get(wn.cookie.oldKey);return A?typeof A=="object"?A.id:A:null},this.anonymousId=function(E){var h,g;if(s.options.disable)return null;if(E===void 0){var S=(h=s.identityStore.getAndSync(s.anonKey))!==null&&h!==void 0?h:(g=s.legacySIO())===null||g===void 0?void 0:g[0];if(S)return S}return E===null?(s.identityStore.set(s.anonKey,null),s.identityStore.getAndSync(s.anonKey)):(s.identityStore.set(s.anonKey,E??to()),s.identityStore.getAndSync(s.anonKey))},this.traits=function(E){var h;if(!s.options.disable)return E===null&&(E={}),E&&s.traitsStore.set(s.traitsKey,E??{}),(h=s.traitsStore.get(s.traitsKey))!==null&&h!==void 0?h:{}},this.options=ne(ne({},wn),t),this.cookieOptions=n,this.idKey=(a=(i=t.cookie)===null||i===void 0?void 0:i.key)!==null&&a!==void 0?a:wn.cookie.key,this.traitsKey=(c=(o=t.localStorage)===null||o===void 0?void 0:o.key)!==null&&c!==void 0?c:wn.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,n),this.legacyUserStore=this.createStorage(this.options,n,function(E){return E===St.Cookie}),this.traitsStore=this.createStorage(this.options,n,function(E){return E!==St.Cookie});var l=this.legacyUserStore.get(wn.cookie.oldKey);l&&typeof l=="object"&&(l.id&&this.id(l.id),l.traits&&this.traits(l.traits)),io(this)}return e.prototype.legacySIO=function(){var t=this.legacyUserStore.get("_sio");if(!t)return null;var n=t.split("----"),s=n[0],i=n[1];return[s,i]},e.prototype.identify=function(t,n){if(!this.options.disable){n=n??{};var s=this.id();(s===null||s===t)&&(n=ne(ne({},this.traits()),n)),t&&this.id(t),this.traits(n)}},e.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},e.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},e.prototype.load=function(){return new e(this.options,this.cookieOptions)},e.prototype.save=function(){return!0},e.prototype.createStorage=function(t,n,s){var i=[St.LocalStorage,St.Cookie,St.Memory];return t.disable?new xn([]):t.persist?(t.storage!==void 0&&t.storage!==null&&Pl(t.storage)&&(i=t.storage.stores),t.localStorageFallbackDisabled&&(i=i.filter(function(a){return a!==St.LocalStorage})),s&&(i=i.filter(s)),new xn(_a(Ul(i,n)))):new xn([new ao])},e.defaults=wn,e}(),sc={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},mf=function(e){yt(t,e);function t(n,s){n===void 0&&(n=sc);var i=e.call(this,ne(ne({},sc),n),s)||this;return i.anonymousId=function(a){},io(i),i}return t}(Ml),oo="analytics";function Fl(){return window[oo]}function _f(e){oo=e}function Tf(e){window[oo]=e}var Sf=function(e){return typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"},xl=function(e,t,n){n.getAndRemove(e).forEach(function(s){Si(t,s).catch(console.error)})},Rf=function(e,t){return de(void 0,void 0,void 0,function(){var n,s,i;return fe(this,function(a){switch(a.label){case 0:n=0,s=t.getAndRemove("addSourceMiddleware"),a.label=1;case 1:return n<s.length?(i=s[n],[4,Si(e,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},Af=function(e,t){return de(void 0,void 0,void 0,function(){var n,s,i;return fe(this,function(a){switch(a.label){case 0:n=0,s=t.getAndRemove("register"),a.label=1;case 1:return n<s.length?(i=s[n],[4,Si(e,i).catch(console.error)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},yf=xl.bind(void 0,"on"),Nf=xl.bind(void 0,"setAnonymousId"),vf=function(e,t){Object.keys(t.calls).forEach(function(n){t.getAndRemove(n).forEach(function(s){setTimeout(function(){Si(e,s).catch(console.error)},0)})})},cr=function(e){if(kl(e)){var t=e.pop();return Ol(t)}},kl=function(e){var t=e[e.length-1];return Jd(t)},Ta=function(){function e(t,n,s,i){s===void 0&&(s=function(){}),i===void 0&&(i=console.error),this.method=t,this.resolve=s,this.reject=i,this.called=!1,this.args=n}return e}(),If=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._callMap={},this.add.apply(this,t)}return Object.defineProperty(e.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(t){this._callMap=t},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n;return(n=this.calls[t])!==null&&n!==void 0?n:[]},e.prototype.getAndRemove=function(t){var n=this.get(t);return this.calls[t]=[],n},e.prototype.add=function(){for(var t=this,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];n.forEach(function(i){var a=["track","screen","alias","group","page","identify"];a.includes(i.method)&&!kl(i.args)&&(i.args=rt(rt([],i.args,!0),[bl()],!1)),t.calls[i.method]?t.calls[i.method].push(i):t.calls[i.method]=[i]})},e.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},e.prototype.toArray=function(){var t;return(t=[]).concat.apply(t,Object.values(this.calls))},e.prototype._pushSnippetWindowBuffer=function(){},e}();function Si(e,t){return de(this,void 0,void 0,function(){var n,s;return fe(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t.called?[2,void 0]:(t.called=!0,n=e[t.method].apply(e,t.args),Sf(n)?[4,n]:[3,2]);case 1:i.sent(),i.label=2;case 2:return t.resolve(n),[3,4];case 3:return s=i.sent(),t.reject(s),[3,4];case 4:return[2]}})})}var Of=function(){function e(t){var n=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=Ti,this._preInitBuffer=new If,this._promise=t(this._preInitBuffer),this._promise.then(function(s){var i=s[0],a=s[1];n.instance=i,n.ctx=a}).catch(function(){})}return e.prototype.then=function(){for(var t,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return(t=this._promise).then.apply(t,n)},e.prototype.catch=function(){for(var t,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return(t=this._promise).catch.apply(t,n)},e.prototype.finally=function(){for(var t,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return(t=this._promise).finally.apply(t,n)},e.prototype._createMethod=function(t){var n=this;return function(){for(var s,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n.instance){var o=(s=n.instance)[t].apply(s,i);return Promise.resolve(o)}return new Promise(function(c,l){n._preInitBuffer.add(new Ta(t,i,c,l))})}},e.prototype._createChainableMethod=function(t){var n=this;return function(){for(var s,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return n.instance?((s=n.instance)[t].apply(s,i),n):(n._preInitBuffer.add(new Ta(t,i)),n)}},e}(),nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rn={},Qt={},co={},Hl={exports:{}};(function(e){e.exports=t(n),e.exports.find=e.exports,e.exports.replace=function(c,l,E,h){return t(i).call(this,c,l,E,h),c},e.exports.del=function(c,l,E){return t(s).call(this,c,l,null,E),c};function t(c){return function(l,E,h,g){var S=g&&o(g.normalizer)?g.normalizer:a;E=S(E);for(var A,p=!1;!p;)f();function f(){for(A in l){var d=S(A);if(E.indexOf(d)===0){var w=E.substr(d.length);if(w.charAt(0)==="."||w.length===0){E=w.substr(1);var D=l[A];if(D==null){p=!0;return}if(!E.length){p=!0;return}l=D;return}}}A=void 0,p=!0}if(A)return l==null?l:c(l,A,h)}}function n(c,l){if(c.hasOwnProperty(l))return c[l]}function s(c,l){return c.hasOwnProperty(l)&&delete c[l],c}function i(c,l,E){return c.hasOwnProperty(l)&&(c[l]=E),c}function a(c){return c.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function o(c){return typeof c=="function"}})(Hl);var Ri=Hl.exports,bf=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(co,"__esModule",{value:!0});var Tn=bf(Ri);function lr(e,t){return function(){var n=this.traits(),s=this.properties?this.properties():{};return Tn.default(n,"address."+e)||Tn.default(n,e)||(t?Tn.default(n,"address."+t):null)||(t?Tn.default(n,t):null)||Tn.default(s,"address."+e)||Tn.default(s,e)||(t?Tn.default(s,"address."+t):null)||(t?Tn.default(s,t):null)}}function Lf(e){e.zip=lr("postalCode","zip"),e.country=lr("country"),e.street=lr("street"),e.state=lr("state"),e.city=lr("city"),e.region=lr("region")}co.default=Lf;var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.clone=void 0;function Sa(e){if(typeof e!="object")return e;if(Object.prototype.toString.call(e)==="[object Object]"){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Sa(e[n]));return t}else return Array.isArray(e)?e.map(Sa):e}Ai.clone=Sa;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});var Cf={Salesforce:!0};function wf(e){return!Cf[e]}lo.default=wf;var yi={},Bl=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;yi.parse=function(e){var t=[1,5,6,7,11,12],n=Bl.exec(e),s=0;if(!n)return new Date(e);for(var i=0,a;a=t[i];i++)n[a]=parseInt(n[a],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0,n[4]===" "?s=new Date().getTimezoneOffset():n[9]!=="Z"&&n[10]&&(s=n[11]*60+n[12],n[10]==="+"&&(s=0-s));var o=Date.UTC(n[1],n[2],n[3],n[5],n[6]+s,n[7],n[8]);return new Date(o)};yi.is=function(e,t){return typeof e!="string"||t&&/^\d{4}-\d{2}-\d{2}/.test(e)===!1?!1:Bl.test(e)};var uo={},Df=/\d{13}/;uo.is=function(e){return Df.test(e)};uo.parse=function(e){return e=parseInt(e,10),new Date(e)};var po={},Pf=/\d{10}/;po.is=function(e){return Pf.test(e)};po.parse=function(e){var t=parseInt(e,10)*1e3;return new Date(t)};var ic=yi,ac=uo,oc=po,Uf=Object.prototype,Wl=Uf.toString;function Mf(e){return Wl.call(e)==="[object Date]"}function Ff(e){return Wl.call(e)==="[object Number]"}var fo=function(t){return Mf(t)?t:Ff(t)?new Date(xf(t)):ic.is(t)?ic.parse(t):ac.is(t)?ac.parse(t):oc.is(t)?oc.parse(t):new Date(t)};function xf(e){return e<315576e5?e*1e3:e}var cc=yi,kf=Eo;function Eo(e,t){return t===void 0&&(t=!0),e&&typeof e=="object"?Hf(e,t):Array.isArray(e)?Bf(e,t):cc.is(e,t)?cc.parse(e):e}function Hf(e,t){return Object.keys(e).forEach(function(n){e[n]=Eo(e[n],t)}),e}function Bf(e,t){return e.forEach(function(n,s){e[s]=Eo(n,t)}),e}var gs=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.Facade=void 0;var Wf=gs(co),Ar=Ai,Gf=gs(lo),qf=gs(fo),Ra=gs(Ri),Yf=gs(kf);function Lt(e,t){t=t||{},this.raw=Ar.clone(e),"clone"in t||(t.clone=!0),t.clone&&(e=Ar.clone(e)),"traverse"in t||(t.traverse=!0),"timestamp"in e?e.timestamp=qf.default(e.timestamp):e.timestamp=new Date,t.traverse&&Yf.default(e),this.opts=t,this.obj=e}Qt.Facade=Lt;var je=Lt.prototype;je.proxy=function(e){var t=e.split(".");e=t.shift();var n=this[e]||this.obj[e];return n&&(typeof n=="function"&&(n=n.call(this)||{}),t.length===0?this.opts.clone?Aa(n):n:(n=Ra.default(n,t.join(".")),this.opts.clone?Aa(n):n))};je.field=function(e){var t=this.obj[e];return this.opts.clone?Aa(t):t};Lt.proxy=function(e){return function(){return this.proxy(e)}};Lt.field=function(e){return function(){return this.field(e)}};Lt.multi=function(e){return function(){var t=this.proxy(e+"s");if(Array.isArray(t))return t;var n=this.proxy(e);return n&&(n=[this.opts.clone?Ar.clone(n):n]),n||[]}};Lt.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var n=this.proxy(e+"s");if(Array.isArray(n))return n[0]}};je.json=function(){var e=this.opts.clone?Ar.clone(this.obj):this.obj;return this.type&&(e.type=this.type()),e};je.rawEvent=function(){return this.raw};je.options=function(e){var t=this.obj.options||this.obj.context||{},n=this.opts.clone?Ar.clone(t):t;if(!e)return n;if(this.enabled(e)){var s=this.integrations(),i=s[e]||Ra.default(s,e);return typeof i!="object"&&(i=Ra.default(this.options(),e)),typeof i=="object"?i:{}}};je.context=je.options;je.enabled=function(e){var t=this.proxy("options.providers.all");typeof t!="boolean"&&(t=this.proxy("options.all")),typeof t!="boolean"&&(t=this.proxy("integrations.all")),typeof t!="boolean"&&(t=!0);var n=t&&Gf.default(e),s=this.integrations();if(s.providers&&s.providers.hasOwnProperty(e)&&(n=s.providers[e]),s.hasOwnProperty(e)){var i=s[e];typeof i=="boolean"?n=i:n=!0}return!!n};je.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};je.active=function(){var e=this.proxy("options.active");return e==null&&(e=!0),e};je.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};je.sessionId=je.anonymousId;je.groupId=Lt.proxy("options.groupId");je.traits=function(e){var t=this.proxy("options.traits")||{},n=this.userId();e=e||{},n&&(t.id=n);for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var i=this[s]==null?this.proxy("options.traits."+s):this[s]();if(i==null)continue;t[e[s]]=i,delete t[s]}return t};je.library=function(){var e=this.proxy("options.library");return e?typeof e=="string"?{name:e,version:null}:e:{name:"unknown",version:null}};je.device=function(){var e=this.proxy("context.device");(typeof e!="object"||e===null)&&(e={});var t=this.library().name;return e.type||(t.indexOf("ios")>-1&&(e.type="ios"),t.indexOf("android")>-1&&(e.type="android")),e};je.userAgent=Lt.proxy("context.userAgent");je.timezone=Lt.proxy("context.timezone");je.timestamp=Lt.field("timestamp");je.channel=Lt.field("channel");je.ip=Lt.proxy("context.ip");je.userId=Lt.field("userId");Wf.default(je);function Aa(e){return Ar.clone(e)}var Ni={},ya={exports:{}};typeof Object.create=="function"?ya.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:ya.exports=function(t,n){if(n){t.super_=n;var s=function(){};s.prototype=n.prototype,t.prototype=new s,t.prototype.constructor=t}};var Zn=ya.exports,jf=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.Alias=void 0;var $f=jf(Zn),Gl=Qt;function kt(e,t){Gl.Facade.call(this,e,t)}Ni.Alias=kt;$f.default(kt,Gl.Facade);kt.prototype.action=function(){return"alias"};kt.prototype.type=kt.prototype.action;kt.prototype.previousId=function(){return this.field("previousId")||this.field("from")};kt.prototype.from=kt.prototype.previousId;kt.prototype.userId=function(){return this.field("userId")||this.field("to")};kt.prototype.to=kt.prototype.userId;var vi={},br={};Object.defineProperty(br,"__esModule",{value:!0});var Vf=/.+\@.+\..+/;function Xf(e){return Vf.test(e)}br.default=Xf;var ho=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vi,"__esModule",{value:!0});vi.Group=void 0;var Qf=ho(Zn),Kf=ho(br),zf=ho(fo),Lr=Qt;function go(e,t){Lr.Facade.call(this,e,t)}vi.Group=go;Qf.default(go,Lr.Facade);var Ht=go.prototype;Ht.action=function(){return"group"};Ht.type=Ht.action;Ht.groupId=Lr.Facade.field("groupId");Ht.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return zf.default(e)};Ht.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();if(Kf.default(t))return t};Ht.traits=function(e){var t=this.properties(),n=this.groupId();e=e||{},n&&(t.id=n);for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var i=this[s]==null?this.proxy("traits."+s):this[s]();if(i==null)continue;t[e[s]]=i,delete t[s]}return t};Ht.name=Lr.Facade.proxy("traits.name");Ht.industry=Lr.Facade.proxy("traits.industry");Ht.employees=Lr.Facade.proxy("traits.employees");Ht.properties=function(){return this.field("traits")||this.field("properties")||{}};var ms={},Ii=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ms,"__esModule",{value:!0});ms.Identify=void 0;var Kt=Qt,_r=Ii(Ri),Jf=Ii(Zn),Zf=Ii(br),ql=Ii(fo),kn=function(e){return e.trim()};function mo(e,t){Kt.Facade.call(this,e,t)}ms.Identify=mo;Jf.default(mo,Kt.Facade);var $e=mo.prototype;$e.action=function(){return"identify"};$e.type=$e.action;$e.traits=function(e){var t=this.field("traits")||{},n=this.userId();e=e||{},n&&(t.id=n);for(var s in e){var i=this[s]==null?this.proxy("traits."+s):this[s]();i!=null&&(t[e[s]]=i,s!==e[s]&&delete t[s])}return t};$e.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();if(Zf.default(t))return t};$e.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return ql.default(e)};$e.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return ql.default(e)};$e.companyName=function(){return this.proxy("traits.company.name")};$e.name=function(){var e=this.proxy("traits.name");if(typeof e=="string")return kn(e);var t=this.firstName(),n=this.lastName();if(t&&n)return kn(t+" "+n)};$e.firstName=function(){var e=this.proxy("traits.firstName");if(typeof e=="string")return kn(e);var t=this.proxy("traits.name");if(typeof t=="string")return kn(t).split(" ")[0]};$e.lastName=function(){var e=this.proxy("traits.lastName");if(typeof e=="string")return kn(e);var t=this.proxy("traits.name");if(typeof t=="string"){var n=kn(t).indexOf(" ");if(n!==-1)return kn(t.substr(n+1))}};$e.uid=function(){return this.userId()||this.username()||this.email()};$e.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};$e.age=function(){var e=this.birthday(),t=_r.default(this.traits(),"age");if(t!=null)return t;if(e instanceof Date){var n=new Date;return n.getFullYear()-e.getFullYear()}};$e.avatar=function(){var e=this.traits();return _r.default(e,"avatar")||_r.default(e,"photoUrl")||_r.default(e,"avatarUrl")};$e.position=function(){var e=this.traits();return _r.default(e,"position")||_r.default(e,"jobTitle")};$e.username=Kt.Facade.proxy("traits.username");$e.website=Kt.Facade.one("traits.website");$e.websites=Kt.Facade.multi("traits.website");$e.phone=Kt.Facade.one("traits.phone");$e.phones=Kt.Facade.multi("traits.phone");$e.address=Kt.Facade.proxy("traits.address");$e.gender=Kt.Facade.proxy("traits.gender");$e.birthday=Kt.Facade.proxy("traits.birthday");var Cr={},_o=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.Track=void 0;var eE=_o(Zn),ct=Qt,tE=ms,nE=_o(br),Yl=_o(Ri);function To(e,t){ct.Facade.call(this,e,t)}Cr.Track=To;eE.default(To,ct.Facade);var Ce=To.prototype;Ce.action=function(){return"track"};Ce.type=Ce.action;Ce.event=ct.Facade.field("event");Ce.value=ct.Facade.proxy("properties.value");Ce.category=ct.Facade.proxy("properties.category");Ce.id=ct.Facade.proxy("properties.id");Ce.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};Ce.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};Ce.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};Ce.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};Ce.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};Ce.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};Ce.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};Ce.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};Ce.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};Ce.sku=ct.Facade.proxy("properties.sku");Ce.tax=ct.Facade.proxy("properties.tax");Ce.name=ct.Facade.proxy("properties.name");Ce.price=ct.Facade.proxy("properties.price");Ce.total=ct.Facade.proxy("properties.total");Ce.repeat=ct.Facade.proxy("properties.repeat");Ce.coupon=ct.Facade.proxy("properties.coupon");Ce.shipping=ct.Facade.proxy("properties.shipping");Ce.discount=ct.Facade.proxy("properties.discount");Ce.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};Ce.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};Ce.description=ct.Facade.proxy("properties.description");Ce.plan=ct.Facade.proxy("properties.plan");Ce.subtotal=function(){var e=Yl.default(this.properties(),"subtotal"),t=this.total()||this.revenue();if(e)return e;if(!t)return 0;if(this.total()){var n=this.tax();n&&(t-=n),n=this.shipping(),n&&(t-=n),n=this.discount(),n&&(t+=n)}return t};Ce.products=function(){var e=this.properties(),t=Yl.default(e,"products");return Array.isArray(t)?t.filter(function(n){return n!==null}):[]};Ce.quantity=function(){var e=this.obj.properties||{};return e.quantity||1};Ce.currency=function(){var e=this.obj.properties||{};return e.currency||"USD"};Ce.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};Ce.query=ct.Facade.proxy("options.query");Ce.properties=function(e){var t=this.field("properties")||{};e=e||{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=this[n]==null?this.proxy("properties."+n):this[n]();if(s==null)continue;t[e[n]]=s,delete t[n]}return t};Ce.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};Ce.email=function(){var e=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(e)return e;var t=this.userId();if(nE.default(t))return t};Ce.revenue=function(){var e=this.proxy("properties.revenue"),t=this.event(),n=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!e&&t&&t.match(n)&&(e=this.proxy("properties.total")),rE(e)};Ce.cents=function(){var e=this.revenue();return typeof e!="number"?this.value()||0:e*100};Ce.identify=function(){var e=this.json();return e.traits=this.traits(),new tE.Identify(e,this.opts)};function rE(e){if(e){if(typeof e=="number")return e;if(typeof e=="string"&&(e=e.replace(/\$/g,""),e=parseFloat(e),!isNaN(e)))return e}}var _s={},jl=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_s,"__esModule",{value:!0});_s.Page=void 0;var sE=jl(Zn),er=Qt,iE=Cr,aE=jl(br);function So(e,t){er.Facade.call(this,e,t)}_s.Page=So;sE.default(So,er.Facade);var Rt=So.prototype;Rt.action=function(){return"page"};Rt.type=Rt.action;Rt.category=er.Facade.field("category");Rt.name=er.Facade.field("name");Rt.title=er.Facade.proxy("properties.title");Rt.path=er.Facade.proxy("properties.path");Rt.url=er.Facade.proxy("properties.url");Rt.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};Rt.properties=function(e){var t=this.field("properties")||{},n=this.category(),s=this.name();e=e||{},n&&(t.category=n),s&&(t.name=s);for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=this[i]==null?this.proxy("properties."+i):this[i]();if(a==null)continue;t[e[i]]=a,i!==e[i]&&delete t[i]}return t};Rt.email=function(){var e=this.proxy("context.traits.email")||this.proxy("properties.email");if(e)return e;var t=this.userId();if(aE.default(t))return t};Rt.fullName=function(){var e=this.category(),t=this.name();return t&&e?e+" "+t:t};Rt.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"};Rt.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new iE.Track(t,this.opts)};var Oi={},oE=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.Screen=void 0;var cE=oE(Zn),$l=_s,lE=Cr;function jn(e,t){$l.Page.call(this,e,t)}Oi.Screen=jn;cE.default(jn,$l.Page);jn.prototype.action=function(){return"screen"};jn.prototype.type=jn.prototype.action;jn.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"};jn.prototype.track=function(e){var t=this.json();return t.event=this.event(e),t.timestamp=this.timestamp(),t.properties=this.properties(),new lE.Track(t,this.opts)};var bi={},uE=nt&&nt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bi,"__esModule",{value:!0});bi.Delete=void 0;var pE=uE(Zn),Vl=Qt;function Ro(e,t){Vl.Facade.call(this,e,t)}bi.Delete=Ro;pE.default(Ro,Vl.Facade);Ro.prototype.type=function(){return"delete"};(function(e){var t=nt&&nt.__assign||function(){return t=Object.assign||function(h){for(var g,S=1,A=arguments.length;S<A;S++){g=arguments[S];for(var p in g)Object.prototype.hasOwnProperty.call(g,p)&&(h[p]=g[p])}return h},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.Delete=e.Screen=e.Page=e.Track=e.Identify=e.Group=e.Alias=e.Facade=void 0;var n=Qt;Object.defineProperty(e,"Facade",{enumerable:!0,get:function(){return n.Facade}});var s=Ni;Object.defineProperty(e,"Alias",{enumerable:!0,get:function(){return s.Alias}});var i=vi;Object.defineProperty(e,"Group",{enumerable:!0,get:function(){return i.Group}});var a=ms;Object.defineProperty(e,"Identify",{enumerable:!0,get:function(){return a.Identify}});var o=Cr;Object.defineProperty(e,"Track",{enumerable:!0,get:function(){return o.Track}});var c=_s;Object.defineProperty(e,"Page",{enumerable:!0,get:function(){return c.Page}});var l=Oi;Object.defineProperty(e,"Screen",{enumerable:!0,get:function(){return l.Screen}});var E=bi;Object.defineProperty(e,"Delete",{enumerable:!0,get:function(){return E.Delete}}),e.default=t(t({},n.Facade),{Alias:s.Alias,Group:i.Group,Identify:a.Identify,Track:o.Track,Page:c.Page,Screen:l.Screen,Delete:E.Delete})})(Rn);function ui(e,t){var n=new Rn.Facade(e,t);return e.type==="track"&&(n=new Rn.Track(e,t)),e.type==="identify"&&(n=new Rn.Identify(e,t)),e.type==="page"&&(n=new Rn.Page(e,t)),e.type==="alias"&&(n=new Rn.Alias(e,t)),e.type==="group"&&(n=new Rn.Group(e,t)),e.type==="screen"&&(n=new Rn.Screen(e,t)),Object.defineProperty(n,"obj",{value:e,writable:!0}),n}var dE=function(e){var t=!1;window.addEventListener("pagehide",function(){t||(t=!0,e(t))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(t)return;t=!0}else t=!1;e(t)})},Xl=function(e){yt(t,e);function t(n,s){var i=e.call(this,n)||this;return i.retryTimeout=s,i.name="RateLimitError",i}return t}(Error),fE=500,EE=64;function Ao(e){var t=encodeURI(JSON.stringify(e)).split(/%..|./).length-1;return t/1024}function hE(e){return Ao(e)>=fE-50}function gE(e){return Ao(e)>=EE-10}function mE(e){var t=[],n=0;return e.forEach(function(s){var i=Ao(t[n]);i>=64&&n++,t[n]?t[n].push(s):t[n]=[s]}),t}function _E(e,t){var n,s,i=[],a=!1,o=(n=t==null?void 0:t.size)!==null&&n!==void 0?n:10,c=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:5e3,l=0;function E(p){var f;if(p.length!==0){var d=(f=p[0])===null||f===void 0?void 0:f.writeKey,w=p.map(function(D){var M=D;M.sentAt;var V=Tl(M,["sentAt"]);return V});return _i("https://".concat(e,"/b"),{keepalive:(t==null?void 0:t.keepalive)||a,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify({writeKey:d,batch:w,sentAt:new Date().toISOString()})}).then(function(D){var M;if(D.status>=500)throw new Error("Bad response from server: ".concat(D.status));if(D.status===429){var V=(M=D.headers)===null||M===void 0?void 0:M.get("x-ratelimit-reset"),j=typeof V=="string"?parseInt(V)*1e3:c;throw new Xl("Rate limit exceeded: ".concat(D.status),j)}})}}function h(p){var f;return p===void 0&&(p=1),de(this,void 0,void 0,function(){var d;return fe(this,function(w){return i.length?(d=i,i=[],[2,(f=E(d))===null||f===void 0?void 0:f.catch(function(D){var M,V=cn.system();V.log("error","Error sending batch",D),p<=((M=t==null?void 0:t.maxRetries)!==null&&M!==void 0?M:10)&&(D.name==="RateLimitError"&&(l=D.retryTimeout),i.push.apply(i,d),i.map(function(j){if("_metadata"in j){var C=j;C._metadata=ne(ne({},C._metadata),{retryCount:p})}}),S(p+1))})]):[2]})})}var g;function S(p){p===void 0&&(p=1),!g&&(g=setTimeout(function(){g=void 0,h(p).catch(console.error)},l||c),l=0)}dE(function(p){if(a=p,a&&i.length){var f=mE(i).map(E);Promise.all(f).catch(console.error)}});function A(p,f){return de(this,void 0,void 0,function(){var d;return fe(this,function(w){return i.push(f),d=i.length>=o||hE(i)||(t==null?void 0:t.keepalive)&&gE(i),[2,d||a?h():S()]})})}return{dispatch:A}}function TE(e){function t(n,s){return _i(n,{keepalive:e==null?void 0:e.keepalive,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify(s)}).then(function(i){var a;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var o=(a=i.headers)===null||a===void 0?void 0:a.get("x-ratelimit-reset"),c=o?parseInt(o)*1e3:5e3;throw new Xl("Rate limit exceeded: ".concat(i.status),c)}})}return{dispatch:t}}function SE(e,t,n,s,i){var a,o=e.user();delete t.options,t.writeKey=n==null?void 0:n.apiKey,t.userId=t.userId||o.id(),t.anonymousId=t.anonymousId||o.anonymousId(),t.sentAt=new Date;var c=e.queue.failedInitializations||[];c.length>0&&(t._metadata={failedInitializations:c}),i!=null&&(i.attempts>1&&(t._metadata=ne(ne({},t._metadata),{retryCount:i.attempts})),i.attempts++);var l=[],E=[];for(var h in s){var g=s[h];h==="Segment.io"&&l.push(h),g.bundlingStatus==="bundled"&&l.push(h),g.bundlingStatus==="unbundled"&&E.push(h)}for(var S=0,A=(n==null?void 0:n.unbundledIntegrations)||[];S<A.length;S++){var p=A[S];E.includes(p)||E.push(p)}var f=(a=n==null?void 0:n.maybeBundledConfigIds)!==null&&a!==void 0?a:{},d=[];return l.sort().forEach(function(w){var D;((D=f[w])!==null&&D!==void 0?D:[]).forEach(function(M){d.push(M)})}),(n==null?void 0:n.addBundledMetadata)!==!1&&(t._metadata=ne(ne({},t._metadata),{bundled:l.sort(),unbundled:E.sort(),bundledIds:d})),t}var RE=function(e,t){return de(void 0,void 0,void 0,function(){var n;return fe(this,function(s){return n=function(i){return de(void 0,void 0,void 0,function(){var a;return fe(this,function(o){switch(o.label){case 0:return e(i)?(a=n,[4,t()]):[3,2];case 1:return[2,a.apply(void 0,[o.sent()])];case 2:return[2]}})})},[2,n(void 0)]})})};function AE(e,t){return de(this,void 0,void 0,function(){var n,s=this;return fe(this,function(i){switch(i.label){case 0:return n=[],ps()?[2,t]:[4,RE(function(){return t.length>0&&!ps()},function(){return de(s,void 0,void 0,function(){var a,o,c;return fe(this,function(l){switch(l.label){case 0:return a=t.pop(),a?[4,os(a,e)]:[2];case 1:return o=l.sent(),c=o instanceof cn,c||n.push(a),[2]}})})})];case 1:return i.sent(),n.map(function(a){return t.pushWithBackoff(a)}),[2,t]}})})}function ur(e,t,n,s){var i=this;e||setTimeout(function(){return de(i,void 0,void 0,function(){var a,o;return fe(this,function(c){switch(c.label){case 0:return a=!0,[4,AE(n,t)];case 1:return o=c.sent(),a=!1,t.todo>0&&s(a,o,n,s),[2]}})})},Math.random()*5e3)}function yE(e,t){var n,s,i,a,o=e.user();return t.previousId=(i=(s=(n=t.previousId)!==null&&n!==void 0?n:t.from)!==null&&s!==void 0?s:o.id())!==null&&i!==void 0?i:o.anonymousId(),t.userId=(a=t.userId)!==null&&a!==void 0?a:t.to,delete t.from,delete t.to,t}var NE=function(e){return e.name==="Segment.io"};function vE(e,t,n){var s,i,a;window.addEventListener("pagehide",function(){c.push.apply(c,Array.from(l)),l.clear()});var o=(s=t==null?void 0:t.apiKey)!==null&&s!==void 0?s:"",c=e.options.disableClientPersistence?new eo(e.queue.queue.maxAttempts,[]):new so(e.queue.queue.maxAttempts,"".concat(o,":dest-Segment.io")),l=new Set,E=!1,h=(i=t==null?void 0:t.apiHost)!==null&&i!==void 0?i:yl,g=(a=t==null?void 0:t.protocol)!==null&&a!==void 0?a:"https",S="".concat(g,"://").concat(h),A=t==null?void 0:t.deliveryStrategy,p=(A==null?void 0:A.strategy)==="batching"?_E(h,A.config):TE(A==null?void 0:A.config);function f(w){return de(this,void 0,void 0,function(){var D,M;return fe(this,function(V){return ps()?(c.push(w),ur(E,c,d,ur),[2,w]):(l.add(w),D=w.event.type.charAt(0),M=ui(w.event).json(),w.event.type==="track"&&delete M.traits,w.event.type==="alias"&&(M=yE(e,M)),[2,p.dispatch("".concat(S,"/").concat(D),SE(e,M,t,n,w)).then(function(){return w}).catch(function(j){if(w.log("error","Error sending event",j),j.name==="RateLimitError"){var C=j.retryTimeout;c.pushWithBackoff(w,C)}else c.pushWithBackoff(w);return ur(E,c,d,ur),w}).finally(function(){l.delete(w)})])})})}var d={metadata:{writeKey:o,apiHost:h,protocol:g},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:f,identify:f,page:f,alias:f,group:f,screen:f};return c.todo&&ur(E,c,d,ur),d}var An="This is being deprecated and will be not be available in future releases of Analytics JS",Xi=ro(),Qi=Xi==null?void 0:Xi.analytics;function IE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var s=t?10:1,i=n?new eo(s,[]):new so(s,e);return new uf(i)}var OE=function(){function e(t,n){var s;this.timeout=300,this._getSegmentPluginMetadata=function(){var i;return(i=n.plugins.find(NE))===null||i===void 0?void 0:i.metadata},this.writeKey=t.writeKey,this.cdnSettings=(s=t.cdnSettings)!==null&&s!==void 0?s:{integrations:{},edgeFunction:{}},this.cdnURL=t.cdnURL}return Object.defineProperty(e.prototype,"apiHost",{get:function(){var t,n;return(n=(t=this._getSegmentPluginMetadata)===null||t===void 0?void 0:t.call(this))===null||n===void 0?void 0:n.apiHost},enumerable:!1,configurable:!0}),e}();function Yt(){console.warn(An)}var Ql=function(e){yt(t,e);function t(n,s,i,a,o){var c=this,l,E;c=e.call(this)||this,c._debug=!1,c.initialized=!1,c.user=function(){return c._user},c.init=c.initialize.bind(c),c.log=Yt,c.addIntegrationMiddleware=Yt,c.listeners=Yt,c.addEventListener=Yt,c.removeAllListeners=Yt,c.removeListener=Yt,c.removeEventListener=Yt,c.hasListeners=Yt,c.add=Yt,c.addIntegration=Yt;var h=s==null?void 0:s.cookie,g=(l=s==null?void 0:s.disableClientPersistence)!==null&&l!==void 0?l:!1;c.queue=i??IE("".concat(n.writeKey,":event-queue"),s==null?void 0:s.retryQueue,g),c.settings=new OE(n,c.queue);var S=s==null?void 0:s.storage;return c._universalStorage=c.createStore(g,S,h),c._user=a??new Ml(ne({persist:!g,storage:s==null?void 0:s.storage},s==null?void 0:s.user),h).load(),c._group=o??new mf(ne({persist:!g,storage:s==null?void 0:s.storage},s==null?void 0:s.group),h).load(),c.eventFactory=new sf(c._user),c.integrations=(E=s==null?void 0:s.integrations)!==null&&E!==void 0?E:{},c.options=s??{},io(c),c}return t.prototype.createStore=function(n,s,i){return n?new xn([new ao]):s&&Pl(s)?new xn(_a(Ul(s.stores,i))):new xn(_a([St.LocalStorage,{name:St.Cookie,settings:i},St.Memory]))},Object.defineProperty(t.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),t.prototype.track=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return de(this,void 0,void 0,function(){var i,a,o,c,l,E,h,g=this;return fe(this,function(S){return i=cr(n),a=jd.apply(void 0,n),o=a[0],c=a[1],l=a[2],E=a[3],h=this.eventFactory.track(o,c,l,this.integrations,i),[2,this._dispatch(h,E).then(function(A){return g.emit("track",o,A.event.properties,A.event.options),A})]})})},t.prototype.page=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return de(this,void 0,void 0,function(){var i,a,o,c,l,E,h,g,S=this;return fe(this,function(A){return i=cr(n),a=tc.apply(void 0,n),o=a[0],c=a[1],l=a[2],E=a[3],h=a[4],g=this.eventFactory.page(o,c,l,E,this.integrations,i),[2,this._dispatch(g,h).then(function(p){return S.emit("page",o,c,p.event.properties,p.event.options),p})]})})},t.prototype.identify=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return de(this,void 0,void 0,function(){var i,a,o,c,l,E,h,g=this;return fe(this,function(S){return i=cr(n),a=nc(this._user).apply(void 0,n),o=a[0],c=a[1],l=a[2],E=a[3],this._user.identify(o,c),h=this.eventFactory.identify(this._user.id(),this._user.traits(),l,this.integrations,i),[2,this._dispatch(h,E).then(function(A){return g.emit("identify",A.event.userId,A.event.traits,A.event.options),A})]})})},t.prototype.group=function(){for(var n=this,s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];var a=cr(s);if(s.length===0)return this._group;var o=nc(this._group).apply(void 0,s),c=o[0],l=o[1],E=o[2],h=o[3];this._group.identify(c,l);var g=this._group.id(),S=this._group.traits(),A=this.eventFactory.group(g,S,E,this.integrations,a);return this._dispatch(A,h).then(function(p){return n.emit("group",p.event.groupId,p.event.traits,p.event.options),p})},t.prototype.alias=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return de(this,void 0,void 0,function(){var i,a,o,c,l,E,h,g=this;return fe(this,function(S){return i=cr(n),a=$d.apply(void 0,n),o=a[0],c=a[1],l=a[2],E=a[3],h=this.eventFactory.alias(o,c,l,this.integrations,i),[2,this._dispatch(h,E).then(function(A){return g.emit("alias",o,c,A.event.options),A})]})})},t.prototype.screen=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return de(this,void 0,void 0,function(){var i,a,o,c,l,E,h,g,S=this;return fe(this,function(A){return i=cr(n),a=tc.apply(void 0,n),o=a[0],c=a[1],l=a[2],E=a[3],h=a[4],g=this.eventFactory.screen(o,c,l,E,this.integrations,i),[2,this._dispatch(g,h).then(function(p){return S.emit("screen",o,c,p.event.properties,p.event.options),p})]})})},t.prototype.trackClick=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return de(this,void 0,void 0,function(){var i,a;return fe(this,function(o){switch(o.label){case 0:return[4,Ft(()=>import("./auto-track-BLxlyPKt.js"),[])];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,rt([this],n,!1))]}})})},t.prototype.trackLink=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return de(this,void 0,void 0,function(){var i,a;return fe(this,function(o){switch(o.label){case 0:return[4,Ft(()=>import("./auto-track-BLxlyPKt.js"),[])];case 1:return i=o.sent(),[2,(a=i.link).call.apply(a,rt([this],n,!1))]}})})},t.prototype.trackSubmit=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return de(this,void 0,void 0,function(){var i,a;return fe(this,function(o){switch(o.label){case 0:return[4,Ft(()=>import("./auto-track-BLxlyPKt.js"),[])];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,rt([this],n,!1))]}})})},t.prototype.trackForm=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return de(this,void 0,void 0,function(){var i,a;return fe(this,function(o){switch(o.label){case 0:return[4,Ft(()=>import("./auto-track-BLxlyPKt.js"),[])];case 1:return i=o.sent(),[2,(a=i.form).call.apply(a,rt([this],n,!1))]}})})},t.prototype.register=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return de(this,void 0,void 0,function(){var i,a,o=this;return fe(this,function(c){switch(c.label){case 0:return i=cn.system(),a=n.map(function(l){return o.queue.register(i,l,o)}),[4,Promise.all(a)];case 1:return c.sent(),[2,i]}})})},t.prototype.deregister=function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return de(this,void 0,void 0,function(){var i,a,o=this;return fe(this,function(c){switch(c.label){case 0:return i=cn.system(),a=n.map(function(l){var E=o.queue.plugins.find(function(h){return h.name===l});if(E)return o.queue.deregister(i,E,o);i.log("warn","plugin ".concat(l," not found"))}),[4,Promise.all(a)];case 1:return c.sent(),[2,i]}})})},t.prototype.debug=function(n){return n===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=n,this},t.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},t.prototype.timeout=function(n){this.settings.timeout=n},t.prototype._dispatch=function(n,s){return de(this,void 0,void 0,function(){var i;return fe(this,function(a){return i=new cn(n),ps()&&!this.options.retryQueue?[2,i]:[2,Yd(i,this.queue,this,{callback:s,debug:this._debug,timeout:this.settings.timeout})]})})},t.prototype.addSourceMiddleware=function(n){return de(this,void 0,void 0,function(){var s=this;return fe(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return de(s,void 0,void 0,function(){var a,o,c;return fe(this,function(l){switch(l.label){case 0:return[4,Ft(()=>Promise.resolve().then(()=>YE),void 0)];case 1:return a=l.sent().sourceMiddlewarePlugin,o={},this.queue.plugins.forEach(function(E){if(E.type==="destination")return o[E.name]=!0}),c=a(n,o),[4,this.register(c)];case 2:return l.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},t.prototype.addDestinationMiddleware=function(n){for(var s=[],i=1;i<arguments.length;i++)s[i-1]=arguments[i];return this.queue.plugins.filter(af).forEach(function(a){(n==="*"||a.name.toLowerCase()===n.toLowerCase())&&a.addMiddleware.apply(a,s)}),Promise.resolve(this)},t.prototype.setAnonymousId=function(n){return this._user.anonymousId(n)},t.prototype.queryString=function(n){return de(this,void 0,void 0,function(){var s;return fe(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,Ft(()=>import("./index-BkKpDqsP.js"),[])];case 1:return s=i.sent().queryString,[2,s(this,n)]}})})},t.prototype.use=function(n){return n(this),this},t.prototype.ready=function(n){return n===void 0&&(n=function(s){return s}),de(this,void 0,void 0,function(){return fe(this,function(s){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return n(i),i})]})})},t.prototype.noConflict=function(){return console.warn(An),Tf(Qi??this),this},t.prototype.normalize=function(n){return console.warn(An),this.eventFactory.normalize(n)},Object.defineProperty(t.prototype,"failedInitializations",{get:function(){return console.warn(An),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"VERSION",{get:function(){return Ti},enumerable:!1,configurable:!0}),t.prototype.initialize=function(n,s){return de(this,void 0,void 0,function(){return fe(this,function(i){return console.warn(An),[2,Promise.resolve(this)]})})},t.prototype.pageview=function(n){return de(this,void 0,void 0,function(){return fe(this,function(s){switch(s.label){case 0:return console.warn(An),[4,this.page({path:n})];case 1:return s.sent(),[2,this]}})})},Object.defineProperty(t.prototype,"plugins",{get:function(){var n;return console.warn(An),(n=this._plugins)!==null&&n!==void 0?n:{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Integrations",{get:function(){console.warn(An);var n=this.queue.plugins.filter(function(s){return s.type==="destination"}).reduce(function(s,i){var a="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),o=window[a];if(!o)return s;var c=o.Integration;return c?(s[i.name]=c,s):(s[i.name]=o,s)},{});return n},enumerable:!1,configurable:!0}),t.prototype.push=function(n){var s=this,i=n.shift();i&&!s[i]||s[i].apply(this,n)},t}(Za),lc=function(e){yt(t,e);function t(){var n=e.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return n.initialized=!0,n}return t}(Ql),uc={};function Kl(){return typeof process>"u"||!uc?{}:uc}var bE=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,LE=function(){var e,t=Array.prototype.slice.call(document.querySelectorAll("script"));return t.forEach(function(n){var s,i=(s=n.getAttribute("src"))!==null&&s!==void 0?s:"",a=bE.exec(i);a&&a[1]&&(e=a[1])}),e},ti,CE=function(){var e,t=ti??((e=Fl())===null||e===void 0?void 0:e._cdn);return t},wE=function(e){var t=Fl();t&&(t._cdn=e),ti=e},yo=function(){var e=CE();if(e)return e;var t=LE();return t||"https://cdn.segment.com"},Vv=function(){var e=yo();return"".concat(e,"/next-integrations")};function DE(e,t){var n,s=Object.entries((n=t.integrations)!==null&&n!==void 0?n:{}).reduce(function(i,a){var o,c,l=a[0],E=a[1];return typeof E=="object"?ne(ne({},i),(o={},o[l]=E,o)):ne(ne({},i),(c={},c[l]={},c))},{});return Object.entries(e.integrations).reduce(function(i,a){var o,c=a[0],l=a[1];return ne(ne({},i),(o={},o[c]=ne(ne({},l),s[c]),o))},{})}function PE(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return e}}function UE(e){return de(this,void 0,void 0,function(){var t;return fe(this,function(n){return t=navigator.userAgentData,t?e?[2,t.getHighEntropyValues(e).catch(function(){return t.toJSON()})]:[2,t.toJSON()]:[2,void 0]})})}var es;function ME(){if(es)return es;var e=wl(window.location.href);return es={expires:31536e6,secure:!1,path:"/"},e&&(es.domain=e),es}function FE(e){var t={btid:"dataxu",urid:"millennial-media"};e.startsWith("?")&&(e=e.substring(1)),e=e.replace(/\?/g,"&");for(var n=e.split("&"),s=0,i=n;s<i.length;s++){var a=i[s],o=a.split("="),c=o[0],l=o[1];if(t[c])return{id:l,type:t[c]}}}function xE(e){return e.startsWith("?")&&(e=e.substring(1)),e=e.replace(/\?/g,"&"),e.split("&").reduce(function(t,n){var s=n.split("="),i=s[0],a=s[1],o=a===void 0?"":a;if(i.includes("utm_")&&i.length>4){var c=i.slice(4);c==="campaign"&&(c="name"),t[c]=PE(o)}return t},{})}function kE(){var e=an.get("_ga");if(e&&e.startsWith("amp"))return e}function HE(e,t,n){var s,i=new xn(n?[]:[new Dl(ME())]),a=i.get("s:context.referrer"),o=(s=FE(e))!==null&&s!==void 0?s:a;o&&(t&&(t.referrer=ne(ne({},t.referrer),o)),i.set("s:context.referrer",o))}var BE=function(e){try{var t=new URLSearchParams;return Object.entries(e).forEach(function(n){var s=n[0],i=n[1];Array.isArray(i)?i.forEach(function(a){return t.append(s,a)}):t.append(s,i)}),t.toString()}catch{return""}},WE=function(){function e(){var t=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(n,s){return de(t,void 0,void 0,function(){var i;return fe(this,function(a){switch(a.label){case 0:this.instance=s,a.label=1;case 1:return a.trys.push([1,3,,4]),i=this,[4,UE(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=a.sent(),[3,4];case 3:return a.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(n){var s,i,a=n.event.context,o=a.page.search||"",c=typeof o=="object"?BE(o):o;a.userAgent=navigator.userAgent,a.userAgentData=t.userAgentData;var l=navigator.userLanguage||navigator.language;typeof a.locale>"u"&&typeof l<"u"&&(a.locale=l),(s=a.library)!==null&&s!==void 0||(a.library={name:"analytics.js",version:"".concat("npm:next","-").concat(Ti)}),c&&!a.campaign&&(a.campaign=xE(c));var E=kE();E&&(a.amp={id:E}),HE(c,a,(i=t.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{a.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return n},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return e}(),GE=new WE;function zl(e){var t=Array.prototype.slice.call(window.document.querySelectorAll("script"));return t.find(function(n){return n.src===e})}function Ki(e,t){var n=zl(e);if(n!==void 0){var s=n==null?void 0:n.getAttribute("status");if(s==="loaded")return Promise.resolve(n);if(s==="loading")return new Promise(function(i,a){n.addEventListener("load",function(){return i(n)}),n.addEventListener("error",function(o){return a(o)})})}return new Promise(function(i,a){var o,c=window.document.createElement("script");c.type="text/javascript",c.src=e,c.async=!0,c.setAttribute("status","loading");for(var l=0,E=Object.entries({});l<E.length;l++){var h=E[l],g=h[0],S=h[1];c.setAttribute(g,S)}c.onload=function(){c.onerror=c.onload=null,c.setAttribute("status","loaded"),i(c)},c.onerror=function(){c.onerror=c.onload=null,c.setAttribute("status","error"),a(new Error("Failed to load ".concat(e)))};var A=window.document.querySelector("script");A?(o=A.parentElement)===null||o===void 0||o.insertBefore(c,A):window.document.head.appendChild(c)})}function Xv(e){var t=zl(e);return t!==void 0&&t.remove(),Promise.resolve()}function Jl(e,t,n){return de(this,void 0,void 0,function(){function s(E,h){return de(this,void 0,void 0,function(){var g,S,A;return fe(this,function(p){switch(p.label){case 0:return g=!1,S=null,[4,h({payload:ui(E,{clone:!0,traverse:!1}),integration:e,next:function(f){g=!0,f===null&&(S=null),f&&(S=f.obj)}})];case 1:return p.sent(),!g&&S!==null&&(S=S,S.integrations=ne(ne({},E.integrations),(A={},A[e]=!1,A))),[2,S]}})})}var i,a,o,c,l;return fe(this,function(E){switch(E.label){case 0:i=ui(t,{clone:!0,traverse:!1}).rawEvent(),a=0,o=n,E.label=1;case 1:return a<o.length?(c=o[a],[4,s(i,c)]):[3,4];case 2:if(l=E.sent(),l===null)return[2,null];i=l,E.label=3;case 3:return a++,[3,1];case 4:return[2,i]}})})}function qE(e,t){function n(s){return de(this,void 0,void 0,function(){var i;return fe(this,function(a){switch(a.label){case 0:return i=!1,[4,e({payload:ui(s.event,{clone:!0,traverse:!1}),integrations:t??{},next:function(o){i=!0,o&&(s.event=o.obj)}})];case 1:if(a.sent(),!i)throw new Rr({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,s]}})})}return{name:"Source Middleware ".concat(e.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(s){return Promise.resolve(s)},track:n,page:n,identify:n,alias:n,group:n}}const YE=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:Jl,sourceMiddlewarePlugin:qE},Symbol.toStringTag,{value:"Module"}));function qs(e,t){var n=t.methodName,s=t.integrationName,i=t.type,a=t.didError,o=a===void 0?!1:a;e.stats.increment("analytics_js.integration.invoke".concat(o?".error":""),1,["method:".concat(n),"integration_name:".concat(s),"type:".concat(i)])}var jE=function(){function e(t,n){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=Sl(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=n,this.name=t,this.type=n.type,this.alternativeNames.push(n.name)}return e.prototype.addMiddleware=function(){for(var t,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];this.type==="destination"&&(t=this.middleware).push.apply(t,n)},e.prototype.transform=function(t){return de(this,void 0,void 0,function(){var n;return fe(this,function(s){switch(s.label){case 0:return[4,Jl(this.name,t.event,this.middleware)];case 1:return n=s.sent(),n===null&&t.cancel(new Rr({retry:!1,reason:"dropped by destination middleware"})),[2,new cn(n)]}})})},e.prototype._createMethod=function(t){var n=this;return function(s){return de(n,void 0,void 0,function(){var i,a;return fe(this,function(o){switch(o.label){case 0:return this.action[t]?(i=s,this.type!=="destination"?[3,2]:[4,this.transform(s)]):[2,s];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!o.sent())throw new Error("Something prevented the destination from getting ready");return qs(s,{integrationName:this.action.name,methodName:t,type:"action"}),[4,this.action[t](i)];case 4:return o.sent(),[3,6];case 5:throw a=o.sent(),qs(s,{integrationName:this.action.name,methodName:t,type:"action",didError:!0}),a;case 6:return[2,s]}})})}},e.prototype.isLoaded=function(){return this.action.isLoaded()},e.prototype.ready=function(){return de(this,void 0,void 0,function(){return fe(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return t.sent(),[2,!0];case 2:return t.sent(),[2,!1];case 3:return[2]}})})},e.prototype.load=function(t,n){return de(this,void 0,void 0,function(){var s,i,a,o;return fe(this,function(c){switch(c.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];c.label=1;case 1:return c.trys.push([1,3,,4]),qs(t,{integrationName:this.action.name,methodName:"load",type:"action"}),s=this.action.load(t,n),a=(i=this.loadPromise).resolve,[4,s];case 2:return a.apply(i,[c.sent()]),[2,s];case 3:throw o=c.sent(),qs(t,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(o),o;case 4:return[2]}})})},e.prototype.unload=function(t,n){var s,i;return(i=(s=this.action).unload)===null||i===void 0?void 0:i.call(s,t,n)},e}();function $E(e){if(!Array.isArray(e))throw new Error("Not a valid list of plugins");var t=["load","isLoaded","name","version","type"];return e.forEach(function(n){t.forEach(function(s){var i;if(n[s]===void 0)throw new Error("Plugin: ".concat((i=n.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(s))})}),!0}function VE(e,t){var n=e[t.creationName],s=e[t.name];return e.All===!1&&!n&&!s||n===!1||s===!1}function XE(e,t){return de(this,void 0,void 0,function(){var n,s,i,a,o,c;return fe(this,function(l){switch(l.label){case 0:if(l.trys.push([0,9,,10]),n=new RegExp("https://cdn.segment.(com|build)"),s=yo(),!t)return[3,6];i=e.url.split("/"),a=i[i.length-2],o=e.url.replace(a,btoa(a).replace(/=/g,"")),l.label=1;case 1:return l.trys.push([1,3,,5]),[4,Ki(o.replace(n,s))];case 2:return l.sent(),[3,5];case 3:return l.sent(),[4,Ki(e.url.replace(n,s))];case 4:return l.sent(),[3,5];case 5:return[3,8];case 6:return[4,Ki(e.url.replace(n,s))];case 7:l.sent(),l.label=8;case 8:return typeof window[e.libraryName]=="function"?[2,window[e.libraryName]]:[3,10];case 9:throw c=l.sent(),console.error("Failed to create PluginFactory",e),c;case 10:return[2]}})})}function QE(e,t,n,s,i,a){var o,c,l;return de(this,void 0,void 0,function(){var E,h,g,S=this;return fe(this,function(A){switch(A.label){case 0:return E=[],h=(c=(o=e.middlewareSettings)===null||o===void 0?void 0:o.routingRules)!==null&&c!==void 0?c:[],g=((l=e.remotePlugins)!==null&&l!==void 0?l:[]).map(function(p){return de(S,void 0,void 0,function(){var f,d,w,D,M,V;return fe(this,function(j){switch(j.label){case 0:if(VE(t,p))return[2];j.label=1;case 1:return j.trys.push([1,6,,7]),d=a==null?void 0:a.find(function(C){var W=C.pluginName;return W===p.name}),d?[3,3]:[4,XE(p,s==null?void 0:s.obfuscate)];case 2:d=j.sent(),j.label=3;case 3:return f=d,f?[4,f(ne(ne({},p.settings),n[p.name]))]:[3,5];case 4:w=j.sent(),D=Array.isArray(w)?w:[w],$E(D),M=h.filter(function(C){return C.destinationName===p.creationName}),D.forEach(function(C){var W=new jE(p.creationName,C);M.length&&i&&W.addMiddleware(i),E.push(W)}),j.label=5;case 5:return[3,7];case 6:return V=j.sent(),console.warn("Failed to load Remote Plugin",V),[3,7];case 7:return[2]}})})}),[4,Promise.all(g)];case 1:return A.sent(),[2,E.filter(Boolean)]}})})}var zi,pc,KE=ro(),dc=(zi=(pc=KE).__SEGMENT_INSPECTOR__)!==null&&zi!==void 0?zi:pc.__SEGMENT_INSPECTOR__={},zE=function(e){var t;return(t=dc.attach)===null||t===void 0?void 0:t.call(dc,e)};function JE(e,t){return _i("".concat(t,"/v1/projects/").concat(e,"/settings")).then(function(n){return n.ok?n.json():n.text().then(function(s){throw new Error(s)})}).catch(function(n){throw console.error(n.message),n})}function ZE(e){return Kl().NODE_ENV!=="test"&&Object.keys(e.integrations).length>1}function eh(e){var t,n,s;return Kl().NODE_ENV!=="test"&&((s=(n=(t=e.middlewareSettings)===null||t===void 0?void 0:t.routingRules)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0)>0}function th(e,t){Nf(e,t),yf(e,t)}function nh(e,t){return de(this,void 0,void 0,function(){return fe(this,function(n){switch(n.label){case 0:return[4,Rf(e,t)];case 1:return n.sent(),vf(e,t),[2]}})})}function rh(e,t,n,s,i,a,o){var c,l,E;return i===void 0&&(i=[]),de(this,void 0,void 0,function(){var h,g,S,A,p,f,d,w,D,M,V,j,C,W,B,F=this;return fe(this,function(H){switch(H.label){case 0:return th(n,o),h=i==null?void 0:i.filter(function(Y){return typeof Y=="object"}),g=i==null?void 0:i.filter(function(Y){return typeof Y=="function"&&typeof Y.pluginName=="string"}),eh(t)?[4,Ft(()=>import("./index-C7yAJiG6.js"),[]).then(function(Y){return Y.tsubMiddleware(t.middlewareSettings.routingRules)})]:[3,2];case 1:return A=H.sent(),[3,3];case 2:A=void 0,H.label=3;case 3:return S=A,ZE(t)||a.length>0?[4,Ft(()=>import("./index-DzYu25Zv.js"),__vite__mapDeps([0,1])).then(function(Y){return Y.ajsDestinations(e,t,n.integrations,s,S,a)})]:[3,5];case 4:return f=H.sent(),[3,6];case 5:f=[],H.label=6;case 6:return p=f,t.legacyVideoPluginsEnabled?[4,Ft(()=>import("./index-ChwUKTZR.js"),[]).then(function(Y){return Y.loadLegacyVideoPlugins(n)})]:[3,8];case 7:H.sent(),H.label=8;case 8:return!((c=s.plan)===null||c===void 0)&&c.track?[4,Ft(()=>import("./index-B7vbM8kF.js"),__vite__mapDeps([2,1])).then(function(Y){var te;return Y.schemaFilter((te=s.plan)===null||te===void 0?void 0:te.track,t)})]:[3,10];case 9:return w=H.sent(),[3,11];case 10:w=void 0,H.label=11;case 11:return d=w,D=DE(t,s),[4,QE(t,n.integrations,D,s,S,g).catch(function(){return[]})];case 12:return M=H.sent(),V=rt(rt([GE],p,!0),M,!0),d&&V.push(d),j=((l=s.integrations)===null||l===void 0?void 0:l.All)===!1&&!s.integrations["Segment.io"]||s.integrations&&s.integrations["Segment.io"]===!1,j?[3,14]:(W=(C=V).push,[4,vE(n,D["Segment.io"],t.integrations)]);case 13:W.apply(C,[H.sent()]),H.label=14;case 14:return[4,n.register.apply(n,rt(rt([],V,!1),h,!1))];case 15:return B=H.sent(),[4,Af(n,o)];case 16:return H.sent(),Object.entries((E=t.enabledMiddleware)!==null&&E!==void 0?E:{}).some(function(Y){var te=Y[1];return te})?[4,Ft(()=>import("./index-BWoJAjcn.js"),[]).then(function(Y){var te=Y.remoteMiddlewares;return de(F,void 0,void 0,function(){var ue,z;return fe(this,function(ie){switch(ie.label){case 0:return[4,te(B,t,s.obfuscate)];case 1:return ue=ie.sent(),z=ue.map(function(pe){return n.addSourceMiddleware(pe)}),[2,Promise.all(z)]}})})})]:[3,18];case 17:H.sent(),H.label=18;case 18:return[2,B]}})})}function sh(e,t,n){var s,i,a,o,c,l,E,h,g,S,A;return t===void 0&&(t={}),de(this,void 0,void 0,function(){var p,f,d,w,D,M,V,j,C,W,B,F,H;return fe(this,function(Y){switch(Y.label){case 0:return t.disable===!0?[2,[new lc,cn.system()]]:(t.globalAnalyticsKey&&_f(t.globalAnalyticsKey),e.cdnURL&&wE(e.cdnURL),t.initialPageview&&n.add(new Ta("page",[])),p=(s=e.cdnURL)!==null&&s!==void 0?s:yo(),(i=e.cdnSettings)!==null&&i!==void 0?(d=i,[3,3]):[3,1]);case 1:return[4,JE(e.writeKey,p)];case 2:d=Y.sent(),Y.label=3;case 3:return f=d,t.updateCDNSettings&&(f=t.updateCDNSettings(f)),typeof t.disable!="function"?[3,5]:[4,t.disable(f)];case 4:if(w=Y.sent(),w)return[2,[new lc,cn.system()]];Y.label=5;case 5:return D=(o=(a=f.integrations["Segment.io"])===null||a===void 0?void 0:a.retryQueue)!==null&&o!==void 0?o:!0,t=ne({retryQueue:D},t),M=new Ql(ne(ne({},e),{cdnSettings:f,cdnURL:p}),t),zE(M),V=(c=e.plugins)!==null&&c!==void 0?c:[],j=(l=e.classicIntegrations)!==null&&l!==void 0?l:[],C=(E=t.integrations)===null||E===void 0?void 0:E["Segment.io"],Nl.initRemoteMetrics(ne(ne({},f.metrics),{host:(h=C==null?void 0:C.apiHost)!==null&&h!==void 0?h:(g=f.metrics)===null||g===void 0?void 0:g.host,protocol:C==null?void 0:C.protocol})),[4,rh(e.writeKey,f,M,t,V,j,n)];case 6:return W=Y.sent(),B=(S=window.location.search)!==null&&S!==void 0?S:"",F=(A=window.location.hash)!==null&&A!==void 0?A:"",H=B.length?B:F.replace(/(?=#).*(?=\?)/,""),H.includes("ajs_")?[4,M.queryString(H).catch(console.error)]:[3,8];case 7:Y.sent(),Y.label=8;case 8:return M.initialized=!0,M.emit("initialize",e,t),[4,nh(M,n)];case 9:return Y.sent(),[2,[M,W]]}})})}var ih=function(e){yt(t,e);function t(){var n=this,s=Sl(),i=s.promise,a=s.resolve;return n=e.call(this,function(o){return i.then(function(c){var l=c[0],E=c[1];return sh(l,E,o)})})||this,n._resolveLoadStart=function(o,c){return a([o,c])},n}return t.prototype.load=function(n,s){return s===void 0&&(s={}),this._resolveLoadStart(n,s),this},t.load=function(n,s){return s===void 0&&(s={}),new t().load(n,s)},t.standalone=function(n,s){return t.load({writeKey:n},s).then(function(i){return i[0]})},t}(Of);const tt=ih.load({writeKey:"",cdnURL:"https://analytics.neon.tech"},{integrations:{"Segment.io":{apiHost:"track.neon.tech/v1"}}});tt.identify();tt.page();const Zl=Object.prototype.toString;function No(e){switch(Zl.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return un(e,Error)}}function wr(e,t){return Zl.call(e)===`[object ${t}]`}function eu(e){return wr(e,"ErrorEvent")}function fc(e){return wr(e,"DOMError")}function ah(e){return wr(e,"DOMException")}function ln(e){return wr(e,"String")}function vo(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Io(e){return e===null||vo(e)||typeof e!="object"&&typeof e!="function"}function yr(e){return wr(e,"Object")}function Li(e){return typeof Event<"u"&&un(e,Event)}function oh(e){return typeof Element<"u"&&un(e,Element)}function ch(e){return wr(e,"RegExp")}function Ci(e){return!!(e&&e.then&&typeof e.then=="function")}function lh(e){return yr(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function un(e,t){try{return e instanceof t}catch{return!1}}function tu(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Tr(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ec(e,t){if(!Array.isArray(e))return"";const n=[];for(let s=0;s<e.length;s++){const i=e[s];try{tu(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function uh(e,t,n=!1){return ln(e)?ch(t)?t.test(e):ln(t)?n?e===t:e.includes(t):!1:!1}function Hn(e,t=[],n=!1){return t.some(s=>uh(e,s,n))}function ph(e,t,n=250,s,i,a,o){if(!a.exception||!a.exception.values||!o||!un(o.originalException,Error))return;const c=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;c&&(a.exception.values=dh(Na(e,t,i,o.originalException,s,a.exception.values,c,0),n))}function Na(e,t,n,s,i,a,o,c){if(a.length>=n+1)return a;let l=[...a];if(un(s[i],Error)){hc(o,c);const E=e(t,s[i]),h=l.length;gc(E,i,h,c),l=Na(e,t,n,s[i],i,[E,...l],E,h)}return Array.isArray(s.errors)&&s.errors.forEach((E,h)=>{if(un(E,Error)){hc(o,c);const g=e(t,E),S=l.length;gc(g,`errors[${h}]`,S,c),l=Na(e,t,n,E,i,[g,...l],g,S)}}),l}function hc(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function gc(e,t,n,s){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:s}}function dh(e,t){return e.map(n=>(n.value&&(n.value=Tr(n.value,t)),n))}function nu(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Bn="8.35.0",Me=globalThis;function wi(e,t,n){const s=n||Me,i=s.__SENTRY__=s.__SENTRY__||{},a=i[Bn]=i[Bn]||{};return a[e]||(a[e]=t())}const Sr=Me,fh=80;function $n(e,t={}){if(!e)return"<unknown>";try{let n=e;const s=5,i=[];let a=0,o=0;const c=" > ",l=c.length;let E;const h=Array.isArray(t)?t:t.keyAttrs,g=!Array.isArray(t)&&t.maxStringLength||fh;for(;n&&a++<s&&(E=Eh(n,h),!(E==="html"||a>1&&o+i.length*l+E.length>=g));)i.push(E),o+=E.length,n=n.parentNode;return i.reverse().join(c)}catch{return"<unknown>"}}function Eh(e,t){const n=e,s=[];if(!n||!n.tagName)return"";if(Sr.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}s.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{s.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&s.push(`#${n.id}`);const o=n.className;if(o&&ln(o)){const c=o.split(/\s+/);for(const l of c)s.push(`.${l}`)}}const a=["aria-label","type","name","title","alt"];for(const o of a){const c=n.getAttribute(o);c&&s.push(`[${o}="${c}"]`)}return s.join("")}function hh(){try{return Sr.document.location.href}catch{return""}}function gh(e){return Sr.document&&Sr.document.querySelector?Sr.document.querySelector(e):null}function ru(e){if(!Sr.HTMLElement)return null;let t=e;const n=5;for(let s=0;s<n;s++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}const Dr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,mh="Sentry Logger ",va=["debug","info","warn","error","log","assert","trace"],pi={};function Ts(e){if(!("console"in Me))return e();const t=Me.console,n={},s=Object.keys(pi);s.forEach(i=>{const a=pi[i];n[i]=t[i],t[i]=a});try{return e()}finally{s.forEach(i=>{t[i]=n[i]})}}function _h(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Dr?va.forEach(n=>{t[n]=(...s)=>{e&&Ts(()=>{Me.console[n](`${mh}[${n}]:`,...s)})}}):va.forEach(n=>{t[n]=()=>{}}),t}const oe=wi("logger",_h),Th=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Sh(e){return e==="http"||e==="https"}function Ss(e,t=!1){const{host:n,path:s,pass:i,port:a,projectId:o,protocol:c,publicKey:l}=e;return`${c}://${l}${t&&i?`:${i}`:""}@${n}${a?`:${a}`:""}/${s&&`${s}/`}${o}`}function Rh(e){const t=Th.exec(e);if(!t){Ts(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,s,i="",a="",o="",c=""]=t.slice(1);let l="",E=c;const h=E.split("/");if(h.length>1&&(l=h.slice(0,-1).join("/"),E=h.pop()),E){const g=E.match(/^\d+/);g&&(E=g[0])}return su({host:a,pass:i,path:l,projectId:E,port:o,protocol:n,publicKey:s})}function su(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Ah(e){if(!Dr)return!0;const{port:t,projectId:n,protocol:s}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(oe.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Sh(s)?t&&isNaN(parseInt(t,10))?(oe.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(oe.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),!1):(oe.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function yh(e){const t=typeof e=="string"?Rh(e):su(e);if(!(!t||!Ah(t)))return t}class Vt extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function Ot(e,t,n){if(!(t in e))return;const s=e[t],i=n(s);typeof i=="function"&&iu(i,s),e[t]=i}function Ut(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Dr&&oe.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function iu(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Ut(e,"__sentry_original__",t)}catch{}}function Oo(e){return e.__sentry_original__}function Nh(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function au(e){if(No(e))return{message:e.message,name:e.name,stack:e.stack,..._c(e)};if(Li(e)){const t={type:e.type,target:mc(e.target),currentTarget:mc(e.currentTarget),..._c(e)};return typeof CustomEvent<"u"&&un(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function mc(e){try{return oh(e)?$n(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function _c(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function vh(e,t=40){const n=Object.keys(au(e));n.sort();const s=n[0];if(!s)return"[object has no keys]";if(s.length>=t)return Tr(s,t);for(let i=n.length;i>0;i--){const a=n.slice(0,i).join(", ");if(!(a.length>t))return i===n.length?a:Tr(a,t)}return""}function pt(e){return Ia(e,new Map)}function Ia(e,t){if(Ih(e)){const n=t.get(e);if(n!==void 0)return n;const s={};t.set(e,s);for(const i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(s[i]=Ia(e[i],t));return s}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const s=[];return t.set(e,s),e.forEach(i=>{s.push(Ia(i,t))}),s}return e}function Ih(e){if(!yr(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const ou=50,Vn="?",Tc=/\(error: (.*)\)/,Sc=/captureMessage|captureException/;function cu(...e){const t=e.sort((n,s)=>n[0]-s[0]).map(n=>n[1]);return(n,s=0,i=0)=>{const a=[],o=n.split(`
`);for(let c=s;c<o.length;c++){const l=o[c];if(l.length>1024)continue;const E=Tc.test(l)?l.replace(Tc,"$1"):l;if(!E.match(/\S*Error: /)){for(const h of t){const g=h(E);if(g){a.push(g);break}}if(a.length>=ou+i)break}}return bh(a.slice(i))}}function Oh(e){return Array.isArray(e)?cu(...e):e}function bh(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Ys(t).function||"")&&t.pop(),t.reverse(),Sc.test(Ys(t).function||"")&&(t.pop(),Sc.test(Ys(t).function||"")&&t.pop()),t.slice(0,ou).map(n=>({...n,filename:n.filename||Ys(t).filename,function:n.function||Vn}))}function Ys(e){return e[e.length-1]||{}}const Ji="<anonymous>";function pn(e){try{return!e||typeof e!="function"?Ji:e.name||Ji}catch{return Ji}}function Rc(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(s=>{s.stacktrace.frames&&n.push(...s.stacktrace.frames)}),n}catch{return}}}const ni={},Ac={};function In(e,t){ni[e]=ni[e]||[],ni[e].push(t)}function On(e,t){Ac[e]||(t(),Ac[e]=!0)}function Pt(e,t){const n=e&&ni[e];if(n)for(const s of n)try{s(t)}catch(i){Dr&&oe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${pn(s)}
Error:`,i)}}function Lh(e){const t="console";In(t,e),On(t,Ch)}function Ch(){"console"in Me&&va.forEach(function(e){e in Me.console&&Ot(Me.console,e,function(t){return pi[e]=t,function(...n){Pt("console",{args:n,level:e});const i=pi[e];i&&i.apply(Me.console,n)}})})}const Oa=Me;function lu(){if(!("fetch"in Oa))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function ba(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function wh(){if(typeof EdgeRuntime=="string")return!0;if(!lu())return!1;if(ba(Oa.fetch))return!0;let e=!1;const t=Oa.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=ba(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Dr&&oe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}const uu=1e3;function Rs(){return Date.now()/uu}function Dh(){const{performance:e}=Me;if(!e||!e.now)return Rs;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/uu}const ht=Dh(),At=(()=>{const{performance:e}=Me;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),s=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-s):t,a=i<t,o=e.timing&&e.timing.navigationStart,l=typeof o=="number"?Math.abs(o+n-s):t,E=l<t;return a||E?i<=l?e.timeOrigin:o:s})();function pu(e,t){const n="fetch";In(n,e),On(n,()=>du(void 0,t))}function Ph(e){const t="fetch-body-resolved";In(t,e),On(t,()=>du(Mh))}function du(e,t=!1){t&&!wh()||Ot(Me,"fetch",function(n){return function(...s){const{method:i,url:a}=Fh(s),o={args:s,fetchData:{method:i,url:a},startTimestamp:ht()*1e3};e||Pt("fetch",{...o});const c=new Error().stack;return n.apply(Me,s).then(async l=>(e?e(l):Pt("fetch",{...o,endTimestamp:ht()*1e3,response:l}),l),l=>{throw Pt("fetch",{...o,endTimestamp:ht()*1e3,error:l}),No(l)&&l.stack===void 0&&(l.stack=c,Ut(l,"framesToPop",1)),l})}})}async function Uh(e,t){if(e&&e.body){const n=e.body,s=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let a=!0;for(;a;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:c}=await s.read();clearTimeout(o),c&&(t(),a=!1)}catch{a=!1}finally{clearTimeout(o)}}clearTimeout(i),s.releaseLock(),n.cancel().then(null,()=>{})}}function Mh(e){let t;try{t=e.clone()}catch{return}Uh(t,()=>{Pt("fetch-body-resolved",{endTimestamp:ht()*1e3,response:e})})}function La(e,t){return!!e&&typeof e=="object"&&!!e[t]}function yc(e){return typeof e=="string"?e:e?La(e,"url")?e.url:e.toString?e.toString():"":""}function Fh(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,s]=e;return{url:yc(n),method:La(s,"method")?String(s.method).toUpperCase():"GET"}}const t=e[0];return{url:yc(t),method:La(t,"method")?String(t.method).toUpperCase():"GET"}}let js=null;function fu(e){const t="error";In(t,e),On(t,xh)}function xh(){js=Me.onerror,Me.onerror=function(e,t,n,s,i){return Pt("error",{column:s,error:i,line:n,msg:e,url:t}),js&&!js.__SENTRY_LOADER__?js.apply(this,arguments):!1},Me.onerror.__SENTRY_INSTRUMENTED__=!0}let $s=null;function Eu(e){const t="unhandledrejection";In(t,e),On(t,kh)}function kh(){$s=Me.onunhandledrejection,Me.onunhandledrejection=function(e){return Pt("unhandledrejection",e),$s&&!$s.__SENTRY_LOADER__?$s.apply(this,arguments):!0},Me.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Hh(){return"npm"}function Bh(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let a=0;a<t.length;a++)if(t[a]===i)return!0;return t.push(i),!1}function s(i){if(e)t.delete(i);else for(let a=0;a<t.length;a++)if(t[a]===i){t.splice(a,1);break}}return[n,s]}function Xe(){const e=Me,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const s=new Uint8Array(1);return t.getRandomValues(s),s[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,s=>(s^(n()&15)>>s/4).toString(16))}function hu(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function yn(e){const{message:t,event_id:n}=e;if(t)return t;const s=hu(e);return s?s.type&&s.value?`${s.type}: ${s.value}`:s.type||s.value||n||"<unknown>":n||"<unknown>"}function Ca(e,t,n){const s=e.exception=e.exception||{},i=s.values=s.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type="Error")}function ds(e,t){const n=hu(e);if(!n)return;const s={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...s,...i,...t},t&&"data"in t){const a={...i&&i.data,...t.data};n.mechanism.data=a}}function Nc(e){if(e&&e.__sentry_captured__)return!0;try{Ut(e,"__sentry_captured__",!0)}catch{}return!1}function gu(e){return Array.isArray(e)?e:[e]}function Nn(e,t=100,n=1/0){try{return wa("",e,t,n)}catch(s){return{ERROR:`**non-serializable** (${s})`}}}function mu(e,t=3,n=100*1024){const s=Nn(e,t);return Yh(s)>n?mu(e,t-1,n):s}function wa(e,t,n=1/0,s=1/0,i=Bh()){const[a,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const c=Wh(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return c.replace("object ","");if(a(t))return"[Circular ~]";const E=t;if(E&&typeof E.toJSON=="function")try{const A=E.toJSON();return wa("",A,l-1,s,i)}catch{}const h=Array.isArray(t)?[]:{};let g=0;const S=au(t);for(const A in S){if(!Object.prototype.hasOwnProperty.call(S,A))continue;if(g>=s){h[A]="[MaxProperties ~]";break}const p=S[A];h[A]=wa(A,p,l-1,s,i),g++}return o(t),h}function Wh(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(tu(t))return"[VueViewModel]";if(lh(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${pn(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Gh(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Gh(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function qh(e){return~-encodeURI(e).split(/%..|./).length}function Yh(e){return qh(JSON.stringify(e))}var nn;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const s=2;e[e.REJECTED=s]="REJECTED"})(nn||(nn={}));function Xn(e){return new Dt(t=>{t(e)})}function di(e){return new Dt((t,n)=>{n(e)})}class Dt{constructor(t){Dt.prototype.__init.call(this),Dt.prototype.__init2.call(this),Dt.prototype.__init3.call(this),Dt.prototype.__init4.call(this),this._state=nn.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Dt((s,i)=>{this._handlers.push([!1,a=>{if(!t)s(a);else try{s(t(a))}catch(o){i(o)}},a=>{if(!n)i(a);else try{s(n(a))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Dt((n,s)=>{let i,a;return this.then(o=>{a=!1,i=o,t&&t()},o=>{a=!0,i=o,t&&t()}).then(()=>{if(a){s(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(nn.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(nn.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===nn.PENDING){if(Ci(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===nn.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===nn.RESOLVED&&n[1](this._value),this._state===nn.REJECTED&&n[2](this._value),n[0]=!0)})}}}function jh(e){const t=[];function n(){return e===void 0||t.length<e}function s(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return di(new Vt("Not adding Promise because buffer limit was reached."));const c=o();return t.indexOf(c)===-1&&t.push(c),c.then(()=>s(c)).then(null,()=>s(c).then(null,()=>{})),c}function a(o){return new Dt((c,l)=>{let E=t.length;if(!E)return c(!0);const h=setTimeout(()=>{o&&o>0&&c(!1)},o);t.forEach(g=>{Xn(g).then(()=>{--E||(clearTimeout(h),c(!0))},l)})})}return{$:t,add:i,drain:a}}function Wn(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",s=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:s,relative:t[5]+n+s}}const $h=["fatal","error","warning","log","info","debug"];function Vh(e){return e==="warn"?"warning":$h.includes(e)?e:"log"}const fr="baggage",bo="sentry-",Xh=/^sentry-/,Qh=8192;function _u(e){const t=Kh(e);if(!t)return;const n=Object.entries(t).reduce((s,[i,a])=>{if(i.match(Xh)){const o=i.slice(bo.length);s[o]=a}return s},{});if(Object.keys(n).length>0)return n}function Tu(e){if(!e)return;const t=Object.entries(e).reduce((n,[s,i])=>(i&&(n[`${bo}${s}`]=i),n),{});return zh(t)}function Kh(e){if(!(!e||!ln(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const s=vc(n);return Object.entries(s).forEach(([i,a])=>{t[i]=a}),t},{}):vc(e)}function vc(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,s])=>(n&&s&&(t[n]=s),t),{})}function zh(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,s],i)=>{const a=`${encodeURIComponent(n)}=${encodeURIComponent(s)}`,o=i===0?a:`${t},${a}`;return o.length>Qh?(Dr&&oe.warn(`Not adding key: ${n} with val: ${s} to baggage header due to exceeding baggage size limits.`),t):o},"")}const Jh=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Zh(e){if(!e)return;const t=e.match(Jh);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function eg(e,t){const n=Zh(e),s=_u(t),{traceId:i,parentSpanId:a,parentSampled:o}=n||{};return n?{traceId:i||Xe(),parentSpanId:a||Xe().substring(16),spanId:Xe().substring(16),sampled:o,dsc:s||{}}:{traceId:i||Xe(),spanId:Xe().substring(16)}}function Lo(e=Xe(),t=Xe().substring(16),n){let s="";return n!==void 0&&(s=n?"-1":"-0"),`${e}-${t}${s}`}function Pr(e,t=[]){return[e,t]}function tg(e,t){const[n,s]=e;return[n,[...s,t]]}function Ic(e,t){const n=e[1];for(const s of n){const i=s[0].type;if(t(s,i))return!0}return!1}function Da(e){return Me.__SENTRY__&&Me.__SENTRY__.encodePolyfill?Me.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function ng(e){const[t,n]=e;let s=JSON.stringify(t);function i(a){typeof s=="string"?s=typeof a=="string"?s+a:[Da(s),a]:s.push(typeof a=="string"?Da(a):a)}for(const a of n){const[o,c]=a;if(i(`
${JSON.stringify(o)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let l;try{l=JSON.stringify(c)}catch{l=JSON.stringify(Nn(c))}i(l)}}return typeof s=="string"?s:rg(s)}function rg(e){const t=e.reduce((i,a)=>i+a.length,0),n=new Uint8Array(t);let s=0;for(const i of e)n.set(i,s),s+=i.length;return n}function sg(e){return[{type:"span"},e]}function ig(e){const t=typeof e.data=="string"?Da(e.data):e.data;return[pt({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const ag={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Oc(e){return ag[e]}function Su(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function og(e,t,n,s){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&s&&{dsn:Ss(s)},...i&&{trace:pt({...i})}}}function cg(e,t,n){const s=[{type:"client_report"},{timestamp:Rs(),discarded_events:e}];return Pr(t?{dsn:t}:{},[s])}const lg=60*1e3;function ug(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const s=Date.parse(`${e}`);return isNaN(s)?lg:s-t}function pg(e,t){return e[t]||e.all||0}function dg(e,t,n=Date.now()){return pg(e,t)>n}function fg(e,{statusCode:t,headers:n},s=Date.now()){const i={...e},a=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(a)for(const c of a.trim().split(",")){const[l,E,,,h]=c.split(":",5),g=parseInt(l,10),S=(isNaN(g)?60:g)*1e3;if(!E)i.all=s+S;else for(const A of E.split(";"))A==="metric_bucket"?(!h||h.split(";").includes("custom"))&&(i[A]=s+S):i[A]=s+S}else o?i.all=s+ug(o,s):t===429&&(i.all=s+60*1e3);return i}function on(e){let t,n=e[0],s=1;for(;s<e.length;){const i=e[s],a=e[s+1];if(s+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=a(n)):(i==="call"||i==="optionalCall")&&(n=a((...o)=>n.call(t,...o)),t=void 0)}return n}function fi(){return{traceId:Xe(),spanId:Xe().substring(16)}}const Vs=Me;function Eg(){const e=Vs.chrome,t=e&&e.app&&e.app.runtime,n="history"in Vs&&!!Vs.history.pushState&&!!Vs.history.replaceState;return!t&&n}const Le=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ur(){return Co(Me),Me}function Co(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Bn,t[Bn]=t[Bn]||{}}function hg(e){const t=ht(),n={sid:Xe(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>mg(n)};return e&&Nr(n,e),n}function Nr(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ht(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Xe()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function gg(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Nr(e,n)}function mg(e){return pt({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const Pa="_sentrySpan";function fs(e,t){t?Ut(e,Pa,t):delete e[Pa]}function Ei(e){return e[Pa]}const _g=100;class wo{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=fi()}clone(){const t=new wo;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,fs(t,Ei(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Nr(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[s,i]=n instanceof Qn?[n.getScopeData(),n.getRequestSession()]:yr(n)?[t,t.requestSession]:[],{tags:a,extra:o,user:c,contexts:l,level:E,fingerprint:h=[],propagationContext:g}=s||{};return this._tags={...this._tags,...a},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},c&&Object.keys(c).length&&(this._user=c),E&&(this._level=E),h.length&&(this._fingerprint=h),g&&(this._propagationContext=g),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,fs(this,void 0),this._attachments=[],this._propagationContext=fi(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const s=typeof n=="number"?n:_g;if(s<=0)return this;const i={timestamp:Rs(),...t},a=this._breadcrumbs;return a.push(i),this._breadcrumbs=a.length>s?a.slice(-s):a,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Ei(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const s=n&&n.event_id?n.event_id:Xe();if(!this._client)return oe.warn("No client configured on scope - will not capture exception!"),s;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:s},this),s}captureMessage(t,n,s){const i=s&&s.event_id?s.event_id:Xe();if(!this._client)return oe.warn("No client configured on scope - will not capture message!"),i;const a=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:a,...s,event_id:i},this),i}captureEvent(t,n){const s=n&&n.event_id?n.event_id:Xe();return this._client?(this._client.captureEvent(t,{...n,event_id:s},this),s):(oe.warn("No client configured on scope - will not capture event!"),s)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Qn=wo;function Tg(){return wi("defaultCurrentScope",()=>new Qn)}function Sg(){return wi("defaultIsolationScope",()=>new Qn)}class Rg{constructor(t,n){let s;t?s=t:s=new Qn;let i;n?i=n:i=new Qn,this._stack=[{scope:s}],this._isolationScope=i}withScope(t){const n=this._pushScope();let s;try{s=t(n)}catch(i){throw this._popScope(),i}return Ci(s)?s.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),s)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function vr(){const e=Ur(),t=Co(e);return t.stack=t.stack||new Rg(Tg(),Sg())}function Ag(e){return vr().withScope(e)}function yg(e,t){const n=vr();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function bc(e){return vr().withScope(()=>e(vr().getIsolationScope()))}function Ng(){return{withIsolationScope:bc,withScope:Ag,withSetScope:yg,withSetIsolationScope:(e,t)=>bc(t),getCurrentScope:()=>vr().getScope(),getIsolationScope:()=>vr().getIsolationScope()}}function As(e){const t=Co(e);return t.acs?t.acs:Ng()}function Ve(){const e=Ur();return As(e).getCurrentScope()}function fn(){const e=Ur();return As(e).getIsolationScope()}function vg(){return wi("globalScope",()=>new Qn)}function Do(...e){const t=Ur(),n=As(t);if(e.length===2){const[s,i]=e;return s?n.withSetScope(s,i):n.withScope(i)}return n.withScope(e[0])}function xe(){return Ve().getClient()}const Ig="_sentryMetrics";function Ua(e){const t=e[Ig];if(!t)return;const n={};for(const[,[s,i]]of t)(n[s]||(n[s]=[])).push(pt(i));return n}const vn="sentry.source",Ru="sentry.sample_rate",Kn="sentry.op",ot="sentry.origin",Ma="sentry.idle_span_finish_reason",Di="sentry.measurement_unit",Pi="sentry.measurement_value",Og="sentry.profile_id",Po="sentry.exclusive_time",bg=0,Au=1,it=2;function Lg(e){if(e<400&&e>=100)return{code:Au};if(e>=400&&e<500)switch(e){case 401:return{code:it,message:"unauthenticated"};case 403:return{code:it,message:"permission_denied"};case 404:return{code:it,message:"not_found"};case 409:return{code:it,message:"already_exists"};case 413:return{code:it,message:"failed_precondition"};case 429:return{code:it,message:"resource_exhausted"};case 499:return{code:it,message:"cancelled"};default:return{code:it,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:it,message:"unimplemented"};case 503:return{code:it,message:"unavailable"};case 504:return{code:it,message:"deadline_exceeded"};default:return{code:it,message:"internal_error"}}return{code:it,message:"unknown_error"}}function yu(e,t){e.setAttribute("http.response.status_code",t);const n=Lg(t);n.message!=="unknown_error"&&e.setStatus(n)}const Nu=0,vu=1;function Cg(e){const{spanId:t,traceId:n}=e.spanContext(),{data:s,op:i,parent_span_id:a,status:o,origin:c}=Fe(e);return pt({parent_span_id:a,span_id:t,trace_id:n,data:s,op:i,status:o,origin:c})}function wg(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:s}=Fe(e);return pt({parent_span_id:s,span_id:t,trace_id:n})}function Iu(e){const{traceId:t,spanId:n}=e.spanContext(),s=tr(e);return Lo(t,n,s)}function Gn(e){return typeof e=="number"?Lc(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Lc(e.getTime()):ht()}function Lc(e){return e>9999999999?e/1e3:e}function Fe(e){if(Pg(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(Dg(e)){const{attributes:s,startTime:i,name:a,endTime:o,parentSpanId:c,status:l}=e;return pt({span_id:t,trace_id:n,data:s,description:a,parent_span_id:c,start_timestamp:Gn(i),timestamp:Gn(o)||void 0,status:Ou(l),op:s[Kn],origin:s[ot],_metrics_summary:Ua(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function Dg(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Pg(e){return typeof e.getSpanJSON=="function"}function tr(e){const{traceFlags:t}=e.spanContext();return t===vu}function Ou(e){if(!(!e||e.code===bg))return e.code===Au?"ok":e.message||"unknown_error"}const qn="_sentryChildSpans",Fa="_sentryRootSpan";function bu(e,t){const n=e[Fa]||e;Ut(t,Fa,n),e[qn]?e[qn].add(t):Ut(e,qn,new Set([t]))}function Ug(e,t){e[qn]&&e[qn].delete(t)}function ri(e){const t=new Set;function n(s){if(!t.has(s)&&tr(s)){t.add(s);const i=s[qn]?Array.from(s[qn]):[];for(const a of i)n(a)}}return n(e),Array.from(t)}function Et(e){return e[Fa]||e}function gt(){const e=Ur(),t=As(e);return t.getActiveSpan?t.getActiveSpan():Ei(Ve())}let Cc=!1;function Mg(){Cc||(Cc=!0,fu(xa),Eu(xa))}function xa(){const e=gt(),t=e&&Et(e);if(t){const n="internal_error";Le&&oe.log(`[Tracing] Root span: ${n} -> Global error occured`),t.setStatus({code:it,message:n})}}xa.tag="sentry_tracingErrorCallback";const Lu="_sentryScope",Cu="_sentryIsolationScope";function Fg(e,t,n){e&&(Ut(e,Cu,n),Ut(e,Lu,t))}function wc(e){return{scope:e[Lu],isolationScope:e[Cu]}}function dn(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=xe(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}class Mr{constructor(t={}){this._traceId=t.traceId||Xe(),this._spanId=t.spanId||Xe().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Nu}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,s){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}const Uo="production",wu="_frozenDsc";function Dc(e,t){Ut(e,wu,t)}function Ui(e,t){const n=t.getOptions(),{publicKey:s}=t.getDsn()||{},i=pt({environment:n.environment||Uo,release:n.release,public_key:s,trace_id:e});return t.emit("createDsc",i),i}function nr(e){const t=xe();if(!t)return{};const n=Ui(Fe(e).trace_id||"",t),s=Et(e),i=s[wu];if(i)return i;const a=s.spanContext().traceState,o=a&&a.get("sentry.dsc"),c=o&&_u(o);if(c)return c;const l=Fe(s),E=l.data||{},h=E[Ru];h!=null&&(n.sample_rate=`${h}`);const g=E[vn],S=l.description;return g!=="url"&&S&&(n.transaction=S),dn()&&(n.sampled=String(tr(s))),t.emit("createDsc",n,s),n}function xg(e){if(!Le)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:s}=Fe(e),{spanId:i}=e.spanContext(),a=tr(e),o=Et(e),c=o===e,l=`[Tracing] Starting ${a?"sampled":"unsampled"} ${c?"root ":""}span`,E=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(s&&E.push(`parent ID: ${s}`),!c){const{op:h,description:g}=Fe(o);E.push(`root ID: ${o.spanContext().spanId}`),h&&E.push(`root op: ${h}`),g&&E.push(`root description: ${g}`)}oe.log(`${l}
  ${E.join(`
  `)}`)}function kg(e){if(!Le)return;const{description:t="< unknown name >",op:n="< unknown op >"}=Fe(e),{spanId:s}=e.spanContext(),a=Et(e)===e,o=`[Tracing] Finishing "${n}" ${a?"root ":""}span "${t}" with ID ${s}`;oe.log(o)}function Du(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Le&&oe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function Hg(e,t){if(!dn(e))return[!1];let n;typeof e.tracesSampler=="function"?n=e.tracesSampler(t):t.parentSampled!==void 0?n=t.parentSampled:typeof e.tracesSampleRate<"u"?n=e.tracesSampleRate:n=1;const s=Du(n);return s===void 0?(Le&&oe.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(Le&&oe.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,s]):(Le&&oe.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}function Bg(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Wg(e,t,n,s){const i=Su(n),a={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!s&&t&&{dsn:Ss(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Pr(a,[o])}function Gg(e,t,n,s){const i=Su(n),a=e.type&&e.type!=="replay_event"?e.type:"event";Bg(e,n&&n.sdk);const o=og(e,i,s,t);return delete e.sdkProcessingMetadata,Pr(o,[[{type:a},e]])}function qg(e,t){function n(h){return!!h.trace_id&&!!h.public_key}const s=nr(e[0]),i=t&&t.getDsn(),a=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(s)&&{trace:s},...!!a&&i&&{dsn:Ss(i)}},c=t&&t.getOptions().beforeSendSpan,l=c?h=>c(Fe(h)):h=>Fe(h),E=[];for(const h of e){const g=l(h);g&&E.push(sg(g))}return Pr(o,E)}function Yg(e,t,n,s=gt()){const i=s&&Et(s);i&&i.addEvent(e,{[Pi]:t,[Di]:n})}function Pc(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const s=n.attributes||{},i=s[Di],a=s[Pi];typeof i=="string"&&typeof a=="number"&&(t[n.name]={value:a,unit:i})}),t}const Uc=1e3;class Mo{constructor(t={}){this._traceId=t.traceId||Xe(),this._spanId=t.spanId||Xe().substring(16),this._startTime=t.startTimestamp||ht(),this._attributes={},this.setAttributes({[ot]:"manual",[Kn]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:s}=this;return{spanId:t,traceId:n,traceFlags:s?vu:Nu}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Gn(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this}end(t){this._endTime||(this._endTime=Gn(t),kg(this),this._onSpanEnded())}getSpanJSON(){return pt({data:this._attributes,description:this._name,op:this._attributes[Kn],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Ou(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ot],_metrics_summary:Ua(this),profile_id:this._attributes[Og],exclusive_time:this._attributes[Po],measurements:Pc(this._events),is_segment:this._isStandaloneSpan&&Et(this)===this||void 0,segment_id:this._isStandaloneSpan?Et(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,s){Le&&oe.log("[Tracing] Adding an event to span:",t);const i=Mc(n)?n:s||ht(),a=Mc(n)?{}:n||{},o={name:t,time:Gn(i),attributes:a};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=xe();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Et(this)))return;if(this._isStandaloneSpan){this._sampled?$g(qg([this],t)):(Le&&oe.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const s=this._convertSpanToTransaction();s&&(wc(this).scope||Ve()).captureEvent(s)}_convertSpanToTransaction(){if(!Fc(Fe(this)))return;this._name||(Le&&oe.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=wc(this),i=(t||Ve()).getClient()||xe();if(this._sampled!==!0){Le&&oe.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const o=ri(this).filter(g=>g!==this&&!jg(g)).map(g=>Fe(g)).filter(Fc),c=this._attributes[vn],l={contexts:{trace:Cg(this)},spans:o.length>Uc?o.sort((g,S)=>g.start_timestamp-S.start_timestamp).slice(0,Uc):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...pt({dynamicSamplingContext:nr(this)})},_metrics_summary:Ua(this),...c&&{transaction_info:{source:c}}},E=Pc(this._events);return E&&Object.keys(E).length&&(Le&&oe.log("[Measurements] Adding measurements to transaction event",JSON.stringify(E,void 0,2)),l.measurements=E),l}}function Mc(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Fc(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function jg(e){return e instanceof Mo&&e.isStandaloneSpan()}function $g(e){const t=xe();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}const s=t.getTransport();s&&s.send(e).then(null,i=>{Le&&oe.error("Error while sending span:",i)})}const Pu="__SENTRY_SUPPRESS_TRACING__";function bn(e){const t=Mu();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Xg(e),{forceTransaction:s,parentSpan:i}=e;return(e.scope?o=>Do(e.scope,o):i!==void 0?o=>Uu(i,o):o=>o())(()=>{const o=Ve(),c=Kg(o);return e.onlyIfParent&&!c?new Mr:Vg({parentSpan:c,spanArguments:n,forceTransaction:s,scope:o})})}function Uu(e,t){const n=Mu();return n.withActiveSpan?n.withActiveSpan(e,t):Do(s=>(fs(s,e||void 0),t(s)))}function Vg({parentSpan:e,spanArguments:t,forceTransaction:n,scope:s}){if(!dn())return new Mr;const i=fn();let a;if(e&&!n)a=Qg(e,s,t),bu(e,a);else if(e){const o=nr(e),{traceId:c,spanId:l}=e.spanContext(),E=tr(e);a=xc({traceId:c,parentSpanId:l,...t},s,E),Dc(a,o)}else{const{traceId:o,dsc:c,parentSpanId:l,sampled:E}={...i.getPropagationContext(),...s.getPropagationContext()};a=xc({traceId:o,parentSpanId:l,...t},s,E),c&&Dc(a,c)}return xg(a),Fg(a,s,i),a}function Xg(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const s={...n};return s.startTimestamp=Gn(e.startTime),delete s.startTime,s}return n}function Mu(){const e=Ur();return As(e)}function xc(e,t,n){const s=xe(),i=s&&s.getOptions()||{},{name:a="",attributes:o}=e,[c,l]=t.getScopeData().sdkProcessingMetadata[Pu]?[!1]:Hg(i,{name:a,parentSampled:n,attributes:o,transactionContext:{name:a,parentSampled:n}}),E=new Mo({...e,attributes:{[vn]:"custom",...e.attributes},sampled:c});return l!==void 0&&E.setAttribute(Ru,l),s&&s.emit("spanStart",E),E}function Qg(e,t,n){const{spanId:s,traceId:i}=e.spanContext(),a=t.getScopeData().sdkProcessingMetadata[Pu]?!1:tr(e),o=a?new Mo({...n,parentSpanId:s,traceId:i,sampled:a}):new Mr({traceId:i});bu(e,o);const c=xe();return c&&(c.emit("spanStart",o),n.endTimestamp&&c.emit("spanEnd",o)),o}function Kg(e){const t=Ei(e);if(!t)return;const n=xe();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Et(t):t}const si={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},zg="heartbeatFailed",Jg="idleTimeout",Zg="finalTimeout",em="externalFinish";function Fu(e,t={}){const n=new Map;let s=!1,i,a=em,o=!t.disableAutoFinish;const c=[],{idleTimeout:l=si.idleTimeout,finalTimeout:E=si.finalTimeout,childSpanTimeout:h=si.childSpanTimeout,beforeSpanEnd:g}=t,S=xe();if(!S||!dn())return new Mr;const A=Ve(),p=gt(),f=tm(e);f.end=new Proxy(f.end,{apply(C,W,B){g&&g(f);const[F,...H]=B,Y=F||ht(),te=Gn(Y),ue=ri(f).filter(Se=>Se!==f);if(!ue.length)return j(te),Reflect.apply(C,W,[te,...H]);const z=ue.map(Se=>Fe(Se).timestamp).filter(Se=>!!Se),ie=z.length?Math.max(...z):void 0,pe=Fe(f).start_timestamp,Ee=Math.min(pe?pe+E/1e3:1/0,Math.max(pe||-1/0,Math.min(te,ie||1/0)));return j(Ee),Reflect.apply(C,W,[Ee,...H])}});function d(){i&&(clearTimeout(i),i=void 0)}function w(C){d(),i=setTimeout(()=>{!s&&n.size===0&&o&&(a=Jg,f.end(C))},l)}function D(C){i=setTimeout(()=>{!s&&o&&(a=zg,f.end(C))},h)}function M(C){d(),n.set(C,!0);const W=ht();D(W+h/1e3)}function V(C){if(n.has(C)&&n.delete(C),n.size===0){const W=ht();w(W+l/1e3)}}function j(C){s=!0,n.clear(),c.forEach(te=>te()),fs(A,p);const W=Fe(f),{start_timestamp:B}=W;if(!B)return;(W.data||{})[Ma]||f.setAttribute(Ma,a),oe.log(`[Tracing] Idle span "${W.op}" finished`);const H=ri(f).filter(te=>te!==f);let Y=0;H.forEach(te=>{te.isRecording()&&(te.setStatus({code:it,message:"cancelled"}),te.end(C),Le&&oe.log("[Tracing] Cancelling span since span ended early",JSON.stringify(te,void 0,2)));const ue=Fe(te),{timestamp:z=0,start_timestamp:ie=0}=ue,pe=ie<=C,Ee=(E+l)/1e3,Se=z-ie<=Ee;if(Le){const Pe=JSON.stringify(te,void 0,2);pe?Se||oe.log("[Tracing] Discarding span since it finished after idle span final timeout",Pe):oe.log("[Tracing] Discarding span since it happened after idle span was finished",Pe)}(!Se||!pe)&&(Ug(f,te),Y++)}),Y>0&&f.setAttribute("sentry.idle_span_discarded_spans",Y)}return c.push(S.on("spanStart",C=>{if(s||C===f||Fe(C).timestamp)return;ri(f).includes(C)&&M(C.spanContext().spanId)})),c.push(S.on("spanEnd",C=>{s||V(C.spanContext().spanId)})),c.push(S.on("idleSpanEnableAutoFinish",C=>{C===f&&(o=!0,w(),n.size&&D())})),t.disableAutoFinish||w(),setTimeout(()=>{s||(f.setStatus({code:it,message:"deadline_exceeded"}),a=Zg,f.end())},E),f}function tm(e){const t=bn(e);return fs(Ve(),t),Le&&oe.log("[Tracing] Started span is an idle span"),t}function ka(e,t,n,s=0){return new Dt((i,a)=>{const o=e[s];if(t===null||typeof o!="function")i(t);else{const c=o({...t},n);Le&&o.id&&c===null&&oe.log(`Event processor "${o.id}" dropped event`),Ci(c)?c.then(l=>ka(e,l,n,s+1).then(i)).then(null,a):ka(e,c,n,s+1).then(i).then(null,a)}})}function nm(e,t){const{fingerprint:n,span:s,breadcrumbs:i,sdkProcessingMetadata:a}=t;rm(e,t),s&&am(e,s),om(e,n),sm(e,i),im(e,a)}function kc(e,t){const{extra:n,tags:s,user:i,contexts:a,level:o,sdkProcessingMetadata:c,breadcrumbs:l,fingerprint:E,eventProcessors:h,attachments:g,propagationContext:S,transactionName:A,span:p}=t;ts(e,"extra",n),ts(e,"tags",s),ts(e,"user",i),ts(e,"contexts",a),ts(e,"sdkProcessingMetadata",c),o&&(e.level=o),A&&(e.transactionName=A),p&&(e.span=p),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),E.length&&(e.fingerprint=[...e.fingerprint,...E]),h.length&&(e.eventProcessors=[...e.eventProcessors,...h]),g.length&&(e.attachments=[...e.attachments,...g]),e.propagationContext={...e.propagationContext,...S}}function ts(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[t][s]=n[s])}}function rm(e,t){const{extra:n,tags:s,user:i,contexts:a,level:o,transactionName:c}=t,l=pt(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const E=pt(s);E&&Object.keys(E).length&&(e.tags={...E,...e.tags});const h=pt(i);h&&Object.keys(h).length&&(e.user={...h,...e.user});const g=pt(a);g&&Object.keys(g).length&&(e.contexts={...g,...e.contexts}),o&&(e.level=o),c&&e.type!=="transaction"&&(e.transaction=c)}function sm(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function im(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function am(e,t){e.contexts={trace:wg(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:nr(t),...e.sdkProcessingMetadata};const n=Et(t),s=Fe(n).description;s&&!e.transaction&&e.type==="transaction"&&(e.transaction=s)}function om(e,t){e.fingerprint=e.fingerprint?gu(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function cm(e,t,n,s,i,a){const{normalizeDepth:o=3,normalizeMaxBreadth:c=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Xe(),timestamp:t.timestamp||Rs()},E=n.integrations||e.integrations.map(d=>d.name);lm(l,e),dm(l,E),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&um(l,e.stackParser);const h=Em(s,n.captureContext);n.mechanism&&ds(l,n.mechanism);const g=i?i.getEventProcessors():[],S=vg().getScopeData();if(a){const d=a.getScopeData();kc(S,d)}if(h){const d=h.getScopeData();kc(S,d)}const A=[...n.attachments||[],...S.attachments];A.length&&(n.attachments=A),nm(l,S);const p=[...g,...S.eventProcessors];return ka(p,l,n).then(d=>(d&&pm(d),typeof o=="number"&&o>0?fm(d,o,c):d))}function lm(e,t){const{environment:n,release:s,dist:i,maxValueLength:a=250}=t;"environment"in e||(e.environment="environment"in t?n:Uo),e.release===void 0&&s!==void 0&&(e.release=s),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Tr(e.message,a));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=Tr(o.value,a));const c=e.request;c&&c.url&&(c.url=Tr(c.url,a))}const Hc=new WeakMap;function um(e,t){const n=Me._sentryDebugIds;if(!n)return;let s;const i=Hc.get(t);i?s=i:(s=new Map,Hc.set(t,s));const a=Object.entries(n).reduce((o,[c,l])=>{let E;const h=s.get(c);h?E=h:(E=t(c),s.set(c,E));for(let g=E.length-1;g>=0;g--){const S=E[g];if(S.filename){o[S.filename]=l;break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(c=>{c.filename&&(c.debug_id=a[c.filename])})})}catch{}}function pm(e){const t={};try{e.exception.values.forEach(s=>{s.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([s,i])=>{n.push({type:"sourcemap",code_file:s,debug_id:i})})}function dm(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function fm(e,t,n){if(!e)return null;const s={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Nn(i.data,t,n)}}))},...e.user&&{user:Nn(e.user,t,n)},...e.contexts&&{contexts:Nn(e.contexts,t,n)},...e.extra&&{extra:Nn(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&s.contexts&&(s.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(s.contexts.trace.data=Nn(e.contexts.trace.data,t,n))),e.spans&&(s.spans=e.spans.map(i=>({...i,...i.data&&{data:Nn(i.data,t,n)}}))),s}function Em(e,t){if(!t)return e;const n=e?e.clone():new Qn;return n.update(t),n}function Ha(e,t){return Ve().captureException(e,void 0)}function xu(e,t){return Ve().captureEvent(e,t)}function Bc(e){const t=xe(),n=fn(),s=Ve(),{release:i,environment:a=Uo}=t&&t.getOptions()||{},{userAgent:o}=Me.navigator||{},c=hg({release:i,environment:a,user:s.getUser()||n.getUser(),...o&&{userAgent:o},...e}),l=n.getSession();return l&&l.status==="ok"&&Nr(l,{status:"exited"}),ku(),n.setSession(c),s.setSession(c),c}function ku(){const e=fn(),t=Ve(),n=t.getSession()||e.getSession();n&&gg(n),Hu(),e.setSession(),t.setSession()}function Hu(){const e=fn(),t=Ve(),n=xe(),s=t.getSession()||e.getSession();s&&n&&n.captureSession(s)}function Wc(e=!1){if(e){ku();return}Hu()}const hm="7";function gm(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function mm(e){return`${gm(e)}${e.projectId}/envelope/`}function _m(e,t){return Nh({sentry_key:e.publicKey,sentry_version:hm,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Tm(e,t,n){return t||`${mm(e)}?${_m(e,n)}`}const Gc=[];function Sm(e){const t={};return e.forEach(n=>{const{name:s}=n,i=t[s];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[s]=n)}),Object.values(t)}function Rm(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let s;Array.isArray(n)?s=[...t,...n]:typeof n=="function"?s=gu(n(t)):s=t;const i=Sm(s),a=i.findIndex(o=>o.name==="Debug");if(a>-1){const[o]=i.splice(a,1);i.push(o)}return i}function Am(e,t){const n={};return t.forEach(s=>{s&&Bu(e,s,n)}),n}function qc(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Bu(e,t,n){if(n[t.name]){Le&&oe.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Gc.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Gc.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const s=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,a)=>s(i,a,e))}if(typeof t.processEvent=="function"){const s=t.processEvent.bind(t),i=Object.assign((a,o)=>s(a,o,e),{id:t.name});e.addEventProcessor(i)}Le&&oe.log(`Integration installed: ${t.name}`)}const Yc="Not capturing exception because it's already been captured.";class ym{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=yh(t.dsn):Le&&oe.warn("No DSN provided, client will not send events."),this._dsn){const n=Tm(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,s){const i=Xe();if(Nc(t))return Le&&oe.log(Yc),i;const a={event_id:i,...n};return this._process(this.eventFromException(t,a).then(o=>this._captureEvent(o,a,s))),a.event_id}captureMessage(t,n,s,i){const a={event_id:Xe(),...s},o=vo(t)?t:String(t),c=Io(t)?this.eventFromMessage(o,n,a):this.eventFromException(t,a);return this._process(c.then(l=>this._captureEvent(l,a,i))),a.event_id}captureEvent(t,n,s){const i=Xe();if(n&&n.originalException&&Nc(n.originalException))return Le&&oe.log(Yc),i;const a={event_id:i,...n},c=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,a,c||s)),a.event_id}captureSession(t){typeof t.release!="string"?Le&&oe.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Nr(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(s=>n.flush(t).then(i=>s&&i))):Xn(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Bu(this,t,this._integrations),n||qc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let s=Gg(t,this._dsn,this._options._metadata,this._options.tunnel);for(const a of n.attachments||[])s=tg(s,ig(a));const i=this.sendEnvelope(s);i&&i.then(a=>this.emit("afterSendEvent",t,a),null)}sendSession(t){const n=Wg(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,s){if(this._options.sendClientReports){const i=typeof s=="number"?s:1,a=`${t}:${n}`;Le&&oe.log(`Recording outcome: "${a}"${i>1?` (${i} times)`:""}`),this._outcomes[a]=(this._outcomes[a]||0)+i}}on(t,n){const s=this._hooks[t]=this._hooks[t]||[];return s.push(n),()=>{const i=s.indexOf(n);i>-1&&s.splice(i,1)}}emit(t,...n){const s=this._hooks[t];s&&s.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Le&&oe.error("Error while sending event:",n),n)):(Le&&oe.error("Transport disabled"),Xn({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Am(this,t),qc(this,t)}_updateSessionFromEvent(t,n){let s=!1,i=!1;const a=n.exception&&n.exception.values;if(a){i=!0;for(const l of a){const E=l.mechanism;if(E&&E.handled===!1){s=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&s)&&(Nr(t,{...s&&{status:"crashed"},errors:t.errors||Number(i||s)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Dt(n=>{let s=0;const i=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),n(!0)):(s+=i,t&&s>=t&&(clearInterval(a),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,s,i=fn()){const a=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),cm(a,t,n,s,this,i).then(c=>{if(c===null)return c;const l={...i.getPropagationContext(),...s?s.getPropagationContext():void 0};if(!(c.contexts&&c.contexts.trace)&&l){const{traceId:h,spanId:g,parentSpanId:S,dsc:A}=l;c.contexts={trace:pt({trace_id:h,span_id:g,parent_span_id:S}),...c.contexts};const p=A||Ui(h,this);c.sdkProcessingMetadata={dynamicSamplingContext:p,...c.sdkProcessingMetadata}}return c})}_captureEvent(t,n={},s){return this._processEvent(t,n,s).then(i=>i.event_id,i=>{if(Le){const a=i;a.logLevel==="log"?oe.log(a.message):oe.warn(a)}})}_processEvent(t,n,s){const i=this.getOptions(),{sampleRate:a}=i,o=Gu(t),c=Wu(t),l=t.type||"error",E=`before send for type \`${l}\``,h=typeof a>"u"?void 0:Du(a);if(c&&typeof h=="number"&&Math.random()>h)return this.recordDroppedEvent("sample_rate","error",t),di(new Vt(`Discarding event because it's not included in the random sample (sampling rate = ${a})`,"log"));const g=l==="replay_event"?"replay":l,A=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,s,A).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",g,t),new Vt("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return p;const d=vm(this,i,p,n);return Nm(d,E)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",g,t),o){const D=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",D)}throw new Vt(`${E} returned \`null\`, will not send event.`,"log")}const f=s&&s.getSession();if(!o&&f&&this._updateSessionFromEvent(f,p),o){const w=p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0,D=p.spans?p.spans.length:0,M=w-D;M>0&&this.recordDroppedEvent("before_send","span",M)}const d=p.transaction_info;if(o&&d&&p.transaction!==t.transaction){const w="custom";p.transaction_info={...d,source:w}}return this.sendEvent(p,n),p}).then(null,p=>{throw p instanceof Vt?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new Vt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,s])=>{const[i,a]=n.split(":");return{reason:i,category:a,quantity:s}})}_flushOutcomes(){Le&&oe.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){Le&&oe.log("No outcomes to send");return}if(!this._dsn){Le&&oe.log("No dsn provided, will not send outcomes");return}Le&&oe.log("Sending outcomes:",t);const n=cg(t,this._options.tunnel&&Ss(this._dsn));this.sendEnvelope(n)}}function Nm(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Ci(e))return e.then(s=>{if(!yr(s)&&s!==null)throw new Vt(n);return s},s=>{throw new Vt(`${t} rejected with ${s}`)});if(!yr(e)&&e!==null)throw new Vt(n);return e}function vm(e,t,n,s){const{beforeSend:i,beforeSendTransaction:a,beforeSendSpan:o}=t;if(Wu(n)&&i)return i(n,s);if(Gu(n)){if(n.spans&&o){const c=[];for(const l of n.spans){const E=o(l);E?c.push(E):e.recordDroppedEvent("before_send","span")}n.spans=c}if(a){if(n.spans){const c=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return a(n,s)}}return n}function Wu(e){return e.type===void 0}function Gu(e){return e.type==="transaction"}function Im(e,t){t.debug===!0&&(Le?oe.enable():Ts(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Ve().update(t.initialScope);const s=new e(t);return Om(s),s.init(),s}function Om(e){Ve().setClient(e)}const bm=64;function Lm(e,t,n=jh(e.bufferSize||bm)){let s={};const i=o=>n.drain(o);function a(o){const c=[];if(Ic(o,(g,S)=>{const A=Oc(S);if(dg(s,A)){const p=jc(g,S);e.recordDroppedEvent("ratelimit_backoff",A,p)}else c.push(g)}),c.length===0)return Xn({});const l=Pr(o[0],c),E=g=>{Ic(l,(S,A)=>{const p=jc(S,A);e.recordDroppedEvent(g,Oc(A),p)})},h=()=>t({body:ng(l)}).then(g=>(g.statusCode!==void 0&&(g.statusCode<200||g.statusCode>=300)&&Le&&oe.warn(`Sentry responded with status code ${g.statusCode} to sent event.`),s=fg(s,g),g),g=>{throw E("network_error"),g});return n.add(h).then(g=>g,g=>{if(g instanceof Vt)return Le&&oe.error("Skipped sending event because buffer is full."),E("queue_overflow"),Xn({});throw g})}return{send:a,flush:i}}function jc(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function Cm(e,t,n=[t],s="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(a=>({name:`${s}:@sentry/${a}`,version:Bn})),version:Bn}),e._metadata=i}const wm=100;function zn(e,t){const n=xe(),s=fn();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:a=wm}=n.getOptions();if(a<=0)return;const c={timestamp:Rs(),...e},l=i?Ts(()=>i(c,t)):c;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),s.addBreadcrumb(l,a))}let $c;const Dm="FunctionToString",Vc=new WeakMap,Pm=()=>({name:Dm,setupOnce(){$c=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Oo(this),n=Vc.has(xe())&&t!==void 0?t:this;return $c.apply(n,e)}}catch{}},setup(e){Vc.set(e,!0)}}),Um=Pm,Mm=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Fm="InboundFilters",xm=(e={})=>({name:Fm,processEvent(t,n,s){const i=s.getOptions(),a=Hm(e,i);return Bm(t,a)?null:t}}),km=xm;function Hm(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Mm],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Bm(e,t){return t.ignoreInternal&&$m(e)?(Le&&oe.warn(`Event dropped due to being internal Sentry Error.
Event: ${yn(e)}`),!0):Wm(e,t.ignoreErrors)?(Le&&oe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${yn(e)}`),!0):Xm(e)?(Le&&oe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${yn(e)}`),!0):Gm(e,t.ignoreTransactions)?(Le&&oe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${yn(e)}`),!0):qm(e,t.denyUrls)?(Le&&oe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${yn(e)}.
Url: ${hi(e)}`),!0):Ym(e,t.allowUrls)?!1:(Le&&oe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${yn(e)}.
Url: ${hi(e)}`),!0)}function Wm(e,t){return e.type||!t||!t.length?!1:jm(e).some(n=>Hn(n,t))}function Gm(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Hn(n,t):!1}function qm(e,t){if(!t||!t.length)return!1;const n=hi(e);return n?Hn(n,t):!1}function Ym(e,t){if(!t||!t.length)return!0;const n=hi(e);return n?Hn(n,t):!0}function jm(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function $m(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Vm(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function hi(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Vm(t):null}catch{return Le&&oe.error(`Cannot extract url for event ${yn(e)}`),null}}function Xm(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}const Qm="Dedupe",Km=()=>{let e;return{name:Qm,processEvent(t){if(t.type)return t;try{if(Jm(t,e))return Le&&oe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},zm=Km;function Jm(e,t){return t?!!(Zm(e,t)||e_(e,t)):!1}function Zm(e,t){const n=e.message,s=t.message;return!(!n&&!s||n&&!s||!n&&s||n!==s||!Yu(e,t)||!qu(e,t))}function e_(e,t){const n=Xc(t),s=Xc(e);return!(!n||!s||n.type!==s.type||n.value!==s.value||!Yu(e,t)||!qu(e,t))}function qu(e,t){let n=Rc(e),s=Rc(t);if(!n&&!s)return!0;if(n&&!s||!n&&s||(n=n,s=s,s.length!==n.length))return!1;for(let i=0;i<s.length;i++){const a=s[i],o=n[i];if(a.filename!==o.filename||a.lineno!==o.lineno||a.colno!==o.colno||a.function!==o.function)return!1}return!0}function Yu(e,t){let n=e.fingerprint,s=t.fingerprint;if(!n&&!s)return!0;if(n&&!s||!n&&s)return!1;n=n,s=s;try{return n.join("")===s.join("")}catch{return!1}}function Xc(e){return e.exception&&e.exception.values&&e.exception.values[0]}function t_(e,t,n,s,i="auto.http.browser"){if(!e.fetchData)return;const a=dn()&&t(e.fetchData.url);if(e.endTimestamp&&a){const p=e.fetchData.__span;if(!p)return;const f=s[p];f&&(s_(f,e),delete s[p]);return}const o=Ve(),c=xe(),{method:l,url:E}=e.fetchData,h=r_(E),g=h?Wn(h).host:void 0,S=!!gt(),A=a&&S?bn({name:`${l} ${E}`,attributes:{url:E,type:"fetch","http.method":l,"http.url":h,"server.address":g,[ot]:i,[Kn]:"http.client"}}):new Mr;if(e.fetchData.__span=A.spanContext().spanId,s[A.spanContext().spanId]=A,n(e.fetchData.url)&&c){const p=e.args[0];e.args[1]=e.args[1]||{};const f=e.args[1];f.headers=n_(p,c,o,f,dn()&&S?A:void 0)}return A}function n_(e,t,n,s,i){const a=fn(),{traceId:o,spanId:c,sampled:l,dsc:E}={...a.getPropagationContext(),...n.getPropagationContext()},h=i?Iu(i):Lo(o,c,l),g=Tu(E||(i?nr(i):Ui(o,t))),S=s.headers||(typeof Request<"u"&&un(e,Request)?e.headers:void 0);if(S)if(typeof Headers<"u"&&un(S,Headers)){const A=new Headers(S);if(A.set("sentry-trace",h),g){const p=A.get(fr);if(p){const f=Xs(p);A.set(fr,f?`${f},${g}`:g)}else A.set(fr,g)}return A}else if(Array.isArray(S)){const A=[...S.filter(p=>!(Array.isArray(p)&&p[0]==="sentry-trace")).map(p=>{if(Array.isArray(p)&&p[0]===fr&&typeof p[1]=="string"){const[f,d,...w]=p;return[f,Xs(d),...w]}else return p}),["sentry-trace",h]];return g&&A.push([fr,g]),A}else{const A="baggage"in S?S.baggage:void 0;let p=[];return Array.isArray(A)?p=A.map(f=>typeof f=="string"?Xs(f):f).filter(f=>f===""):A&&p.push(Xs(A)),g&&p.push(g),{...S,"sentry-trace":h,baggage:p.length>0?p.join(","):void 0}}else return{"sentry-trace":h,baggage:g}}function r_(e){try{return new URL(e).href}catch{return}}function s_(e,t){if(t.response){yu(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const s=parseInt(n);s>0&&e.setAttribute("http.response_content_length",s)}}else t.error&&e.setStatus({code:it,message:"internal_error"});e.end()}function Xs(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(bo)).join(",")}const Oe=Me;let Ba=0;function ju(){return Ba>0}function i_(){Ba++,setTimeout(()=>{Ba--})}function Ir(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(Oo(e))return e}catch{return e}const s=function(){const i=Array.prototype.slice.call(arguments);try{const a=i.map(o=>Ir(o,t));return e.apply(this,a)}catch(a){throw i_(),Do(o=>{o.addEventProcessor(c=>(t.mechanism&&(Ca(c,void 0),ds(c,t.mechanism)),c.extra={...c.extra,arguments:i},c)),Ha(a)}),a}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}catch{}iu(s,e),Ut(e,"__sentry_wrapped__",s);try{Object.getOwnPropertyDescriptor(s,"name").configurable&&Object.defineProperty(s,"name",{get(){return e.name}})}catch{}return s}const Bt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Fo(e,t){const n=xo(e,t),s={type:u_(t),value:p_(t)};return n.length&&(s.stacktrace={frames:n}),s.type===void 0&&s.value===""&&(s.value="Unrecoverable error caught"),s}function a_(e,t,n,s){const i=xe(),a=i&&i.getOptions().normalizeDepth,o=g_(t),c={__serialized__:mu(t,a)};if(o)return{exception:{values:[Fo(e,o)]},extra:c};const l={exception:{values:[{type:Li(t)?t.constructor.name:s?"UnhandledRejection":"Error",value:E_(t,{isUnhandledRejection:s})}]},extra:c};if(n){const E=xo(e,n);E.length&&(l.exception.values[0].stacktrace={frames:E})}return l}function Zi(e,t){return{exception:{values:[Fo(e,t)]}}}function xo(e,t){const n=t.stacktrace||t.stack||"",s=c_(t),i=l_(t);try{return e(n,s,i)}catch{}return[]}const o_=/Minified React error #\d+;/i;function c_(e){return e&&o_.test(e.message)?1:0}function l_(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function $u(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function u_(e){const t=e&&e.name;return!t&&$u(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function p_(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:$u(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function d_(e,t,n,s){const i=n&&n.syntheticException||void 0,a=ko(e,t,i,s);return ds(a),a.level="error",n&&n.event_id&&(a.event_id=n.event_id),Xn(a)}function f_(e,t,n="info",s,i){const a=s&&s.syntheticException||void 0,o=Wa(e,t,a,i);return o.level=n,s&&s.event_id&&(o.event_id=s.event_id),Xn(o)}function ko(e,t,n,s,i){let a;if(eu(t)&&t.error)return Zi(e,t.error);if(fc(t)||ah(t)){const o=t;if("stack"in t)a=Zi(e,t);else{const c=o.name||(fc(o)?"DOMError":"DOMException"),l=o.message?`${c}: ${o.message}`:c;a=Wa(e,l,n,s),Ca(a,l)}return"code"in o&&(a.tags={...a.tags,"DOMException.code":`${o.code}`}),a}return No(t)?Zi(e,t):yr(t)||Li(t)?(a=a_(e,t,n,i),ds(a,{synthetic:!0}),a):(a=Wa(e,t,n,s),Ca(a,`${t}`),ds(a,{synthetic:!0}),a)}function Wa(e,t,n,s){const i={};if(s&&n){const a=xo(e,n);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]})}if(vo(t)){const{__sentry_template_string__:a,__sentry_template_values__:o}=t;return i.logentry={message:a,params:o},i}return i.message=t,i}function E_(e,{isUnhandledRejection:t}){const n=vh(e),s=t?"promise rejection":"exception";return eu(e)?`Event \`ErrorEvent\` captured as ${s} with message \`${e.message}\``:Li(e)?`Event \`${h_(e)}\` (type=${e.type}) captured as ${s}`:`Object captured as ${s} with keys: ${n}`}function h_(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function g_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}function m_(e,{metadata:t,tunnel:n,dsn:s}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!s&&{dsn:Ss(s)}},a=__(e);return Pr(i,[a])}function __(e){return[{type:"user_report"},e]}class T_ extends ym{constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t},s=Oe.SENTRY_SDK_SOURCE||Hh();Cm(n,"browser",["browser"],s),super(n),n.sendClientReports&&Oe.document&&Oe.document.addEventListener("visibilitychange",()=>{Oe.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return d_(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",s){return f_(this._options.stackParser,t,n,s,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){Bt&&oe.warn("SDK not enabled, will not capture user feedback.");return}const n=m_(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,s)}}const bt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,S_=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Fr=(e,t,n,s)=>{let i,a;return o=>{t.value>=0&&(o||s)&&(a=t.value-(i||0),(a||i===void 0)&&(i=t.value,t.delta=a,t.rating=S_(t.value,n),e(t)))}},Ne=Me,R_=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,ys=()=>Ne.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Ns=()=>{const e=ys();return e&&e.activationStart||0},xr=(e,t)=>{const n=ys();let s="navigate";return n&&(Ne.document&&Ne.document.prerendering||Ns()>0?s="prerender":Ne.document&&Ne.document.wasDiscarded?s="restore":n.type&&(s=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:R_(),navigationType:s}},rr=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const s=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return s.observe(Object.assign({type:e,buffered:!0},n||{})),s}}catch{}},vs=e=>{const t=n=>{(n.type==="pagehide"||Ne.document&&Ne.document.visibilityState==="hidden")&&e(n)};Ne.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Ho=e=>{let t=!1;return n=>{t||(e(n),t=!0)}};let Es=-1;const A_=()=>{Es=Ne.document.visibilityState==="hidden"&&!Ne.document.prerendering?0:1/0},gi=e=>{Ne.document.visibilityState==="hidden"&&Es>-1&&(Es=e.type==="visibilitychange"?e.timeStamp:0,removeEventListener("visibilitychange",gi,!0),removeEventListener("prerenderingchange",gi,!0))},y_=()=>{addEventListener("visibilitychange",gi,!0),addEventListener("prerenderingchange",gi,!0)},Mi=()=>(Ne.document&&Es<0&&(A_(),y_()),{get firstHiddenTime(){return Es}}),Is=e=>{Ne.document&&Ne.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},N_=[1800,3e3],v_=(e,t={})=>{Is(()=>{const n=Mi(),s=xr("FCP");let i;const o=rr("paint",c=>{c.forEach(l=>{l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<n.firstHiddenTime&&(s.value=Math.max(l.startTime-Ns(),0),s.entries.push(l),i(!0)))})});o&&(i=Fr(e,s,N_,t.reportAllChanges))})},I_=[.1,.25],O_=(e,t={})=>{v_(Ho(()=>{const n=xr("CLS",0);let s,i=0,a=[];const o=l=>{l.forEach(E=>{if(!E.hadRecentInput){const h=a[0],g=a[a.length-1];i&&h&&g&&E.startTime-g.startTime<1e3&&E.startTime-h.startTime<5e3?(i+=E.value,a.push(E)):(i=E.value,a=[E])}}),i>n.value&&(n.value=i,n.entries=a,s())},c=rr("layout-shift",o);c&&(s=Fr(e,n,I_,t.reportAllChanges),vs(()=>{o(c.takeRecords()),s(!0)}),setTimeout(s,0))}))},b_=[100,300],L_=(e,t={})=>{Is(()=>{const n=Mi(),s=xr("FID");let i;const a=l=>{l.startTime<n.firstHiddenTime&&(s.value=l.processingStart-l.startTime,s.entries.push(l),i(!0))},o=l=>{l.forEach(a)},c=rr("first-input",o);i=Fr(e,s,b_,t.reportAllChanges),c&&vs(Ho(()=>{o(c.takeRecords()),c.disconnect()}))})};let Vu=0,ea=1/0,Qs=0;const C_=e=>{e.forEach(t=>{t.interactionId&&(ea=Math.min(ea,t.interactionId),Qs=Math.max(Qs,t.interactionId),Vu=Qs?(Qs-ea)/7+1:0)})};let Ga;const w_=()=>Ga?Vu:performance.interactionCount||0,D_=()=>{"interactionCount"in performance||Ga||(Ga=rr("event",C_,{type:"event",buffered:!0,durationThreshold:0}))},P_=[200,500],U_=0,Xu=()=>w_()-U_,Qc=10,rn=[],ta={},Kc=e=>{const t=rn[rn.length-1],n=ta[e.interactionId];if(n||rn.length<Qc||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const s={id:e.interactionId,latency:e.duration,entries:[e]};ta[s.id]=s,rn.push(s)}rn.sort((s,i)=>i.latency-s.latency),rn.splice(Qc).forEach(s=>{delete ta[s.id]})}},M_=()=>{const e=Math.min(rn.length-1,Math.floor(Xu()/50));return rn[e]},F_=(e,t={})=>{Is(()=>{D_();const n=xr("INP");let s;const i=o=>{o.forEach(l=>{l.interactionId&&Kc(l),l.entryType==="first-input"&&!rn.some(h=>h.entries.some(g=>l.duration===g.duration&&l.startTime===g.startTime))&&Kc(l)});const c=M_();c&&c.latency!==n.value&&(n.value=c.latency,n.entries=c.entries,s())},a=rr("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:40});s=Fr(e,n,P_,t.reportAllChanges),a&&("PerformanceEventTiming"in Ne&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),vs(()=>{i(a.takeRecords()),n.value<0&&Xu()>0&&(n.value=0,n.entries=[]),s(!0)}))})},x_=[2500,4e3],zc={},k_=(e,t={})=>{Is(()=>{const n=Mi(),s=xr("LCP");let i;const a=c=>{const l=c[c.length-1];l&&l.startTime<n.firstHiddenTime&&(s.value=Math.max(l.startTime-Ns(),0),s.entries=[l],i())},o=rr("largest-contentful-paint",a);if(o){i=Fr(e,s,x_,t.reportAllChanges);const c=Ho(()=>{zc[s.id]||(a(o.takeRecords()),o.disconnect(),zc[s.id]=!0,i(!0))});["keydown","click"].forEach(l=>{Ne.document&&addEventListener(l,()=>setTimeout(c,0),!0)}),vs(c)}})},H_=[800,1800],qa=e=>{Ne.document&&Ne.document.prerendering?Is(()=>qa(e)):Ne.document&&Ne.document.readyState!=="complete"?addEventListener("load",()=>qa(e),!0):setTimeout(e,0)},B_=(e,t={})=>{const n=xr("TTFB"),s=Fr(e,n,H_,t.reportAllChanges);qa(()=>{const i=ys();if(i){const a=i.responseStart;if(a<=0||a>performance.now())return;n.value=Math.max(a-Ns(),0),n.entries=[i],s(!0)}})},cs={},mi={};let Qu,Ku,zu,Ju,Zu;function ep(e,t=!1){return Os("cls",e,j_,Qu,t)}function W_(e,t=!1){return Os("lcp",e,V_,zu,t)}function G_(e){return Os("fid",e,$_,Ku)}function q_(e){return Os("ttfb",e,X_,Ju)}function Y_(e){return Os("inp",e,Q_,Zu)}function hs(e,t){return tp(e,t),mi[e]||(K_(e),mi[e]=!0),np(e,t)}function kr(e,t){const n=cs[e];if(!(!n||!n.length))for(const s of n)try{s(t)}catch(i){bt&&oe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${pn(s)}
Error:`,i)}}function j_(){return O_(e=>{kr("cls",{metric:e}),Qu=e},{reportAllChanges:!0})}function $_(){return L_(e=>{kr("fid",{metric:e}),Ku=e})}function V_(){return k_(e=>{kr("lcp",{metric:e}),zu=e},{reportAllChanges:!0})}function X_(){return B_(e=>{kr("ttfb",{metric:e}),Ju=e})}function Q_(){return F_(e=>{kr("inp",{metric:e}),Zu=e})}function Os(e,t,n,s,i=!1){tp(e,t);let a;return mi[e]||(a=n(),mi[e]=!0),s&&t({metric:s}),np(e,t,i?a:void 0)}function K_(e){const t={};e==="event"&&(t.durationThreshold=0),rr(e,n=>{kr(e,{entries:n})},t)}function tp(e,t){cs[e]=cs[e]||[],cs[e].push(t)}function np(e,t,n){return()=>{n&&n();const s=cs[e];if(!s)return;const i=s.indexOf(t);i!==-1&&s.splice(i,1)}}function z_(e){return"duration"in e}function na(e){return typeof e=="number"&&isFinite(e)}function Or(e,t,n,{...s}){const i=Fe(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Uu(e,()=>{const a=bn({startTime:t,...s});return a&&a.end(n),a})}function rp(e){const t=xe();if(!t)return;const{name:n,transaction:s,attributes:i,startTime:a}=e,{release:o,environment:c}=t.getOptions(),l=t.getIntegrationByName("Replay"),E=l&&l.getReplayId(),h=Ve(),g=h.getUser(),S=g!==void 0?g.email||g.id||g.ip_address:void 0;let A;try{A=h.getScopeData().contexts.profile.profile_id}catch{}const p={release:o,environment:c,user:S||void 0,profile_id:A||void 0,replay_id:E||void 0,transaction:s,"user_agent.original":Ne.navigator&&Ne.navigator.userAgent,...i};return bn({name:n,attributes:p,startTime:a,experimental:{standalone:!0}})}function Bo(){return Ne&&Ne.addEventListener&&Ne.performance}function ze(e){return e/1e3}function J_(){let e=0,t,n;if(!eT())return;let s=!1;function i(){s||(s=!0,n&&Z_(e,t,n),a())}const a=ep(({metric:o})=>{const c=o.entries[o.entries.length-1];c&&(e=o.value,t=c)},!0);vs(()=>{i()}),setTimeout(()=>{const o=xe(),c=on([o,"optionalAccess",g=>g.on,"call",g=>g("startNavigationSpan",()=>{i(),c&&c()})]),l=gt(),E=l&&Et(l),h=E&&Fe(E);h&&h.op==="pageload"&&(n=E.spanContext().spanId)},0)}function Z_(e,t,n){bt&&oe.log(`Sending CLS span (${e})`);const s=ze((At||0)+(on([t,"optionalAccess",l=>l.startTime])||0)),i=Ve().getScopeData().transactionName,a=t?$n(on([t,"access",l=>l.sources,"access",l=>l[0],"optionalAccess",l=>l.node])):"Layout shift",o=pt({[ot]:"auto.http.browser.cls",[Kn]:"ui.webvital.cls",[Po]:on([t,"optionalAccess",l=>l.duration])||0,"sentry.pageload.span_id":n}),c=rp({name:a,transaction:i,attributes:o,startTime:s});on([c,"optionalAccess",l=>l.addEvent,"call",l=>l("cls",{[Di]:"",[Pi]:e})]),on([c,"optionalAccess",l=>l.end,"call",l=>l(s)])}function eT(){try{return on([PerformanceObserver,"access",e=>e.supportedEntryTypes,"optionalAccess",e=>e.includes,"call",e=>e("layout-shift")])}catch{return!1}}const tT=2147483647;let Jc=0,ut={},$t,ls;function nT({recordClsStandaloneSpans:e}){const t=Bo();if(t&&At){t.mark&&Ne.performance.mark("sentry-tracing-init");const n=cT(),s=oT(),i=lT(),a=e?J_():aT();return()=>{n(),s(),i(),a&&a()}}return()=>{}}function rT(){hs("longtask",({entries:e})=>{if(gt())for(const t of e){const n=ze(At+t.startTime),s=ze(t.duration),i=bn({name:"Main UI thread blocked",op:"ui.long-task",startTime:n,attributes:{[ot]:"auto.ui.browser.metrics"}});i&&i.end(n+s)}})}function sT(){new PerformanceObserver(t=>{if(gt())for(const n of t.getEntries()){if(!n.scripts[0])continue;const s=ze(At+n.startTime),i=ze(n.duration),a={[ot]:"auto.ui.browser.metrics"},o=n.scripts[0],{invoker:c,invokerType:l,sourceURL:E,sourceFunctionName:h,sourceCharPosition:g}=o;a["browser.script.invoker"]=c,a["browser.script.invoker_type"]=l,E&&(a["code.filepath"]=E),h&&(a["code.function"]=h),g!==-1&&(a["browser.script.source_char_position"]=g);const S=bn({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:s,attributes:a});S&&S.end(s+i)}}).observe({type:"long-animation-frame",buffered:!0})}function iT(){hs("event",({entries:e})=>{if(gt()){for(const t of e)if(t.name==="click"){const n=ze(At+t.startTime),s=ze(t.duration),i={name:$n(t.target),op:`ui.interaction.${t.name}`,startTime:n,attributes:{[ot]:"auto.ui.browser.metrics"}},a=ru(t.target);a&&(i.attributes["ui.component_name"]=a);const o=bn(i);o&&o.end(n+s)}}})}function aT(){return ep(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(bt&&oe.log(`[Measurements] Adding CLS ${e.value}`),ut.cls={value:e.value,unit:""},ls=t)},!0)}function oT(){return W_(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(bt&&oe.log("[Measurements] Adding LCP"),ut.lcp={value:e.value,unit:"millisecond"},$t=t)},!0)}function cT(){return G_(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=ze(At),s=ze(t.startTime);bt&&oe.log("[Measurements] Adding FID"),ut.fid={value:e.value,unit:"millisecond"},ut["mark.fid"]={value:n+s,unit:"second"}})}function lT(){return q_(({metric:e})=>{e.entries[e.entries.length-1]&&(bt&&oe.log("[Measurements] Adding TTFB"),ut.ttfb={value:e.value,unit:"millisecond"})})}function uT(e,t){const n=Bo();if(!n||!Ne.performance.getEntries||!At)return;bt&&oe.log("[Tracing] Adding & adjusting spans using Performance API");const s=ze(At),i=n.getEntries(),{op:a,start_timestamp:o}=Fe(e);if(i.slice(Jc).forEach(c=>{const l=ze(c.startTime),E=ze(Math.max(0,c.duration));if(!(a==="navigation"&&o&&s+l<o))switch(c.entryType){case"navigation":{dT(e,c,s);break}case"mark":case"paint":case"measure":{pT(e,c,l,E,s);const h=Mi(),g=c.startTime<h.firstHiddenTime;c.name==="first-paint"&&g&&(bt&&oe.log("[Measurements] Adding FP"),ut.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&g&&(bt&&oe.log("[Measurements] Adding FCP"),ut.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{ET(e,c,c.name,l,E,s);break}}}),Jc=Math.max(i.length-1,0),hT(e),a==="pageload"){mT(ut);const c=ut["mark.fid"];c&&ut.fid&&(Or(e,c.value,c.value+ze(ut.fid.value),{name:"first input delay",op:"ui.action",attributes:{[ot]:"auto.ui.browser.metrics"}}),delete ut["mark.fid"]),(!("fcp"in ut)||!t.recordClsOnPageloadSpan)&&delete ut.cls,Object.entries(ut).forEach(([l,E])=>{Yg(l,E.value,E.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",Ns()),gT(e)}$t=void 0,ls=void 0,ut={}}function pT(e,t,n,s,i){const a=ys(),o=ze(a?a.requestStart:0),c=i+Math.max(n,o),l=i+n,E=l+s,h={[ot]:"auto.resource.browser.metrics"};return c!==l&&(h["sentry.browser.measure_happened_before_request"]=!0,h["sentry.browser.measure_start_time"]=c),Or(e,c,E,{name:t.name,op:t.entryType,attributes:h}),c}function dT(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(s=>{Ks(e,t,s,n)}),Ks(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Ks(e,t,"fetch",n,"cache","domainLookupStart"),Ks(e,t,"domainLookup",n,"DNS"),fT(e,t,n)}function Ks(e,t,n,s,i,a){const o=a?t[a]:t[`${n}End`],c=t[`${n}Start`];!c||!o||Or(e,s+ze(c),s+ze(o),{op:`browser.${i||n}`,name:t.name,attributes:{[ot]:"auto.ui.browser.metrics"}})}function fT(e,t,n){const s=n+ze(t.requestStart),i=n+ze(t.responseEnd),a=n+ze(t.responseStart);t.responseEnd&&(Or(e,s,i,{op:"browser.request",name:t.name,attributes:{[ot]:"auto.ui.browser.metrics"}}),Or(e,a,i,{op:"browser.response",name:t.name,attributes:{[ot]:"auto.ui.browser.metrics"}}))}function ET(e,t,n,s,i,a){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o=Wn(n),c={[ot]:"auto.resource.browser.metrics"};ra(c,t,"transferSize","http.response_transfer_size"),ra(c,t,"encodedBodySize","http.response_content_length"),ra(c,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(c["resource.render_blocking_status"]=t.renderBlockingStatus),o.protocol&&(c["url.scheme"]=o.protocol.split(":").pop()),o.host&&(c["server.address"]=o.host),c["url.same_origin"]=n.includes(Ne.location.origin);const l=a+s,E=l+i;Or(e,l,E,{name:n.replace(Ne.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:c})}function hT(e){const t=Ne.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),na(n.rtt)&&(ut["connection.rtt"]={value:n.rtt,unit:"millisecond"})),na(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),na(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function gT(e){$t&&(bt&&oe.log("[Measurements] Adding LCP Data"),$t.element&&e.setAttribute("lcp.element",$n($t.element)),$t.id&&e.setAttribute("lcp.id",$t.id),$t.url&&e.setAttribute("lcp.url",$t.url.trim().slice(0,200)),e.setAttribute("lcp.size",$t.size)),ls&&ls.sources&&(bt&&oe.log("[Measurements] Adding CLS Data"),ls.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,$n(t.node))))}function ra(e,t,n,s){const i=t[n];i!=null&&i<tT&&(e[s]=i)}function mT(e){const t=ys();if(!t)return;const{responseStart:n,requestStart:s}=t;s<=n&&(bt&&oe.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-s,unit:"millisecond"})}const _T=1e3;let Zc,Ya,ja;function TT(e){const t="dom";In(t,e),On(t,ST)}function ST(){if(!Ne.document)return;const e=Pt.bind(null,"dom"),t=el(e,!0);Ne.document.addEventListener("click",t,!1),Ne.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const s=Ne[n]&&Ne[n].prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(Ot(s,"addEventListener",function(i){return function(a,o,c){if(a==="click"||a=="keypress")try{const l=this,E=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},h=E[a]=E[a]||{refCount:0};if(!h.handler){const g=el(e);h.handler=g,i.call(this,a,g,c)}h.refCount++}catch{}return i.call(this,a,o,c)}}),Ot(s,"removeEventListener",function(i){return function(a,o,c){if(a==="click"||a=="keypress")try{const l=this,E=l.__sentry_instrumentation_handlers__||{},h=E[a];h&&(h.refCount--,h.refCount<=0&&(i.call(this,a,h.handler,c),h.handler=void 0,delete E[a]),Object.keys(E).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,o,c)}}))})}function RT(e){if(e.type!==Ya)return!1;try{if(!e.target||e.target._sentryId!==ja)return!1}catch{}return!0}function AT(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function el(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const s=yT(n);if(AT(n.type,s))return;Ut(n,"_sentryCaptured",!0),s&&!s._sentryId&&Ut(s,"_sentryId",Xe());const i=n.type==="keypress"?"input":n.type;RT(n)||(e({event:n,name:i,global:t}),Ya=n.type,ja=s?s._sentryId:void 0),clearTimeout(Zc),Zc=Ne.setTimeout(()=>{ja=void 0,Ya=void 0},_T)}}function yT(e){try{return e.target}catch{return null}}let zs;function Wo(e){const t="history";In(t,e),On(t,NT)}function NT(){if(!Eg())return;const e=Ne.onpopstate;Ne.onpopstate=function(...n){const s=Ne.location.href,i=zs;if(zs=s,Pt("history",{from:i,to:s}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...s){const i=s.length>2?s[2]:void 0;if(i){const a=zs,o=String(i);zs=o,Pt("history",{from:a,to:o})}return n.apply(this,s)}}Ot(Ne.history,"pushState",t),Ot(Ne.history,"replaceState",t)}const ii={};function vT(e){const t=ii[e];if(t)return t;let n=Ne[e];if(ba(n))return ii[e]=n.bind(Ne);const s=Ne.document;if(s&&typeof s.createElement=="function")try{const i=s.createElement("iframe");i.hidden=!0,s.head.appendChild(i);const a=i.contentWindow;a&&a[e]&&(n=a[e]),s.head.removeChild(i)}catch(i){bt&&oe.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(ii[e]=n.bind(Ne))}function tl(e){ii[e]=void 0}const hr="__sentry_xhr_v3__";function sp(e){const t="xhr";In(t,e),On(t,IT)}function IT(){if(!Ne.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,s){const i=ht()*1e3,a=ln(s[0])?s[0].toUpperCase():void 0,o=OT(s[1]);if(!a||!o)return t.apply(n,s);n[hr]={method:a,url:o,request_headers:{}},a==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const l=n[hr];if(l&&n.readyState===4){try{l.status_code=n.status}catch{}const E={endTimestamp:ht()*1e3,startTimestamp:i,xhr:n};Pt("xhr",E)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(l,E,h){return c(),l.apply(E,h)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(l,E,h){const[g,S]=h,A=E[hr];return A&&ln(g)&&ln(S)&&(A.request_headers[g.toLowerCase()]=S),l.apply(E,h)}}),t.apply(n,s)}}),e.send=new Proxy(e.send,{apply(t,n,s){const i=n[hr];if(!i)return t.apply(n,s);s[0]!==void 0&&(i.body=s[0]);const a={startTimestamp:ht()*1e3,xhr:n};return Pt("xhr",a),t.apply(n,s)}})}function OT(e){if(ln(e))return e;try{return e.toString()}catch{}}const sa=[],ai=new Map;function bT(){if(Bo()&&At){const t=LT();return()=>{t()}}return()=>{}}const nl={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function LT(){return Y_(({metric:e})=>{if(e.value==null)return;const t=e.entries.find(p=>p.duration===e.value&&nl[p.name]);if(!t)return;const{interactionId:n}=t,s=nl[t.name],i=ze(At+t.startTime),a=ze(e.value),o=gt(),c=o?Et(o):void 0,E=(n!=null?ai.get(n):void 0)||c,h=E?Fe(E).description:Ve().getScopeData().transactionName,g=$n(t.target),S=pt({[ot]:"auto.http.browser.inp",[Kn]:`ui.interaction.${s}`,[Po]:t.duration}),A=rp({name:g,transaction:h,attributes:S,startTime:i});on([A,"optionalAccess",p=>p.addEvent,"call",p=>p("inp",{[Di]:"millisecond",[Pi]:e.value})]),on([A,"optionalAccess",p=>p.end,"call",p=>p(i+a)])})}function CT(e){const t=({entries:n})=>{const s=gt(),i=s&&Et(s);n.forEach(a=>{if(!z_(a)||!i)return;const o=a.interactionId;if(o!=null&&!ai.has(o)){if(sa.length>10){const c=sa.shift();ai.delete(c)}sa.push(o),ai.set(o,i)}})};hs("event",t),hs("first-input",t)}function wT(e,t=vT("fetch")){let n=0,s=0;function i(a){const o=a.body.length;n+=o,s++;const c={body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&s<15,...e.fetchOptions};if(!t)return tl("fetch"),di("No fetch implementation available");try{return t(e.url,c).then(l=>(n-=o,s--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return tl("fetch"),n-=o,s--,di(l)}}return Lm(e,i)}const DT=30,PT=50;function $a(e,t,n,s){const i={filename:e,function:t==="<anonymous>"?Vn:t,in_app:!0};return n!==void 0&&(i.lineno=n),s!==void 0&&(i.colno=s),i}const UT=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,MT=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,FT=/\((\S*)(?::(\d+))(?::(\d+))\)/,xT=e=>{const t=UT.exec(e);if(t){const[,s,i,a]=t;return $a(s,Vn,+i,+a)}const n=MT.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=FT.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,a]=ip(n[1]||Vn,n[2]);return $a(a,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},kT=[DT,xT],HT=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,BT=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,WT=e=>{const t=HT.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=BT.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let s=t[3],i=t[1]||Vn;return[i,s]=ip(i,s),$a(s,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},GT=[PT,WT],qT=[kT,GT],YT=cu(...qT),ip=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,s=e.indexOf("safari-web-extension")!==-1;return n||s?[e.indexOf("@")!==-1?e.split("@")[0]:Vn,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Js=1024,jT="Breadcrumbs",$T=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:jT,setup(n){t.console&&Lh(KT(n)),t.dom&&TT(QT(n,t.dom)),t.xhr&&sp(zT(n)),t.fetch&&pu(JT(n)),t.history&&Wo(ZT(n)),t.sentry&&n.on("beforeSendEvent",XT(n))}}},VT=$T;function XT(e){return function(n){xe()===e&&zn({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:yn(n)},{event:n})}}function QT(e,t){return function(s){if(xe()!==e)return;let i,a,o=typeof t=="object"?t.serializeAttribute:void 0,c=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;c&&c>Js&&(Bt&&oe.warn(`\`dom.maxStringLength\` cannot exceed ${Js}, but a value of ${c} was configured. Sentry will use ${Js} instead.`),c=Js),typeof o=="string"&&(o=[o]);try{const E=s.event,h=eS(E)?E.target:E;i=$n(h,{keyAttrs:o,maxStringLength:c}),a=ru(h)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${s.name}`,message:i};a&&(l.data={"ui.component_name":a}),zn(l,{event:s.event,name:s.name,global:s.global})}}function KT(e){return function(n){if(xe()!==e)return;const s={category:"console",data:{arguments:n.args,logger:"console"},level:Vh(n.level),message:Ec(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)s.message=`Assertion failed: ${Ec(n.args.slice(1)," ")||"console.assert"}`,s.data.arguments=n.args.slice(1);else return;zn(s,{input:n.args,level:n.level})}}function zT(e){return function(n){if(xe()!==e)return;const{startTimestamp:s,endTimestamp:i}=n,a=n.xhr[hr];if(!s||!i||!a)return;const{method:o,url:c,status_code:l,body:E}=a,h={method:o,url:c,status_code:l},g={xhr:n.xhr,input:E,startTimestamp:s,endTimestamp:i},S=nu(l);zn({category:"xhr",data:h,type:"http",level:S},g)}}function JT(e){return function(n){if(xe()!==e)return;const{startTimestamp:s,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const a=n.fetchData,o={data:n.error,input:n.args,startTimestamp:s,endTimestamp:i};zn({category:"fetch",data:a,level:"error",type:"http"},o)}else{const a=n.response,o={...n.fetchData,status_code:a&&a.status},c={input:n.args,response:a,startTimestamp:s,endTimestamp:i},l=nu(o.status_code);zn({category:"fetch",data:o,type:"http",level:l},c)}}}function ZT(e){return function(n){if(xe()!==e)return;let s=n.from,i=n.to;const a=Wn(Oe.location.href);let o=s?Wn(s):void 0;const c=Wn(i);(!o||!o.path)&&(o=a),a.protocol===c.protocol&&a.host===c.host&&(i=c.relative),a.protocol===o.protocol&&a.host===o.host&&(s=o.relative),zn({category:"navigation",data:{from:s,to:i}})}}function eS(e){return!!e&&!!e.target}const tS=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],nS="BrowserApiErrors",rS=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:nS,setupOnce(){t.setTimeout&&Ot(Oe,"setTimeout",rl),t.setInterval&&Ot(Oe,"setInterval",rl),t.requestAnimationFrame&&Ot(Oe,"requestAnimationFrame",iS),t.XMLHttpRequest&&"XMLHttpRequest"in Oe&&Ot(XMLHttpRequest.prototype,"send",aS);const n=t.eventTarget;n&&(Array.isArray(n)?n:tS).forEach(oS)}}},sS=rS;function rl(e){return function(...t){const n=t[0];return t[0]=Ir(n,{mechanism:{data:{function:pn(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function iS(e){return function(t){return e.apply(this,[Ir(t,{mechanism:{data:{function:"requestAnimationFrame",handler:pn(e)},handled:!1,type:"instrument"}})])}}function aS(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&Ot(n,i,function(a){const o={mechanism:{data:{function:i,handler:pn(a)},handled:!1,type:"instrument"}},c=Oo(a);return c&&(o.mechanism.data.handler=pn(c)),Ir(a,o)})}),e.apply(this,t)}}function oS(e){const t=Oe,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Ot(n,"addEventListener",function(s){return function(i,a,o){try{typeof a.handleEvent=="function"&&(a.handleEvent=Ir(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:pn(a),target:e},handled:!1,type:"instrument"}}))}catch{}return s.apply(this,[i,Ir(a,{mechanism:{data:{function:"addEventListener",handler:pn(a),target:e},handled:!1,type:"instrument"}}),o])}}),Ot(n,"removeEventListener",function(s){return function(i,a,o){const c=a;try{const l=c&&c.__sentry_wrapped__;l&&s.call(this,i,l,o)}catch{}return s.call(this,i,c,o)}}))}const cS="GlobalHandlers",lS=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:cS,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(pS(n),sl("onerror")),t.onunhandledrejection&&(dS(n),sl("onunhandledrejection"))}}},uS=lS;function pS(e){fu(t=>{const{stackParser:n,attachStacktrace:s}=ap();if(xe()!==e||ju())return;const{msg:i,url:a,line:o,column:c,error:l}=t,E=hS(ko(n,l||i,void 0,s,!1),a,o,c);E.level="error",xu(E,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function dS(e){Eu(t=>{const{stackParser:n,attachStacktrace:s}=ap();if(xe()!==e||ju())return;const i=fS(t),a=Io(i)?ES(i):ko(n,i,void 0,s,!0);a.level="error",xu(a,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function fS(e){if(Io(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function ES(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function hS(e,t,n,s){const i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},c=o.stacktrace=o.stacktrace||{},l=c.frames=c.frames||[],E=isNaN(parseInt(s,10))?void 0:s,h=isNaN(parseInt(n,10))?void 0:n,g=ln(t)&&t.length>0?t:hh();return l.length===0&&l.push({colno:E,filename:g,function:Vn,in_app:!0,lineno:h}),e}function sl(e){Bt&&oe.log(`Global Handler attached: ${e}`)}function ap(){const e=xe();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const gS=()=>({name:"HttpContext",preprocessEvent(e){if(!Oe.navigator&&!Oe.location&&!Oe.document)return;const t=e.request&&e.request.url||Oe.location&&Oe.location.href,{referrer:n}=Oe.document||{},{userAgent:s}=Oe.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...s&&{"User-Agent":s}},a={...e.request,...t&&{url:t},headers:i};e.request=a}}),mS="cause",_S=5,TS="LinkedErrors",SS=(e={})=>{const t=e.limit||_S,n=e.key||mS;return{name:TS,preprocessEvent(s,i,a){const o=a.getOptions();ph(Fo,o.stackParser,o.maxValueLength,n,t,s,i)}}},RS=SS;function AS(e){return[km(),Um(),sS(),VT(),uS(),RS(),zm(),gS()]}function yS(e={}){const t={defaultIntegrations:AS(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Oe.SENTRY_RELEASE&&Oe.SENTRY_RELEASE.id?Oe.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function NS(){const e=typeof Oe.window<"u"&&Oe;if(!e)return!1;const t=e.chrome?"chrome":"browser",n=e[t],s=n&&n.runtime&&n.runtime.id,i=Oe.location&&Oe.location.href||"",a=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!s&&Oe===Oe.top&&a.some(l=>i.startsWith(`${l}//`)),c=typeof e.nw<"u";return!!s&&!o&&!c}function vS(e={}){const t=yS(e);if(NS()){Ts(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Bt&&(lu()||oe.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...t,stackParser:Oh(t.stackParser||YT),integrations:Rm(t),transport:t.transport||wT},s=Im(T_,n);return t.autoSessionTracking&&IS(),s}function IS(){if(typeof Oe.document>"u"){Bt&&oe.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}Bc({ignoreDuration:!0}),Wc(),Wo(({from:e,to:t})=>{e!==void 0&&e!==t&&(Bc({ignoreDuration:!0}),Wc())})}const il=new WeakMap,ia=new Map,oi={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function OS(e,t){const{traceFetch:n,traceXHR:s,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:a,enableHTTPTimings:o,tracePropagationTargets:c}={traceFetch:oi.traceFetch,traceXHR:oi.traceXHR,trackFetchStreamPerformance:oi.trackFetchStreamPerformance,...t},l=typeof a=="function"?a:g=>!0,E=g=>wS(g,c),h={};n&&(e.addEventProcessor(g=>(g.type==="transaction"&&g.spans&&g.spans.forEach(S=>{if(S.op==="http.client"){const A=ia.get(S.span_id);A&&(S.timestamp=A/1e3,ia.delete(S.span_id))}}),g)),i&&Ph(g=>{if(g.response){const S=il.get(g.response);S&&g.endTimestamp&&ia.set(S,g.endTimestamp)}}),pu(g=>{const S=t_(g,l,E,h);if(g.response&&g.fetchData.__span&&il.set(g.response,g.fetchData.__span),S){const A=op(g.fetchData.url),p=A?Wn(A).host:void 0;S.setAttributes({"http.url":A,"server.address":p})}o&&S&&al(S)})),s&&sp(g=>{const S=DS(g,l,E,h);o&&S&&al(S)})}function bS(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function al(e){const{url:t}=Fe(e).data||{};if(!t||typeof t!="string")return;const n=hs("resource",({entries:s})=>{s.forEach(i=>{bS(i)&&i.name.endsWith(t)&&(CS(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function LS(e){let t="unknown",n="unknown",s="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=s==="h"?"http":s,n=e.split(s)[1];break}s+=i}return s===e&&(t=s),{name:t,version:n}}function jt(e=0){return((At||performance.timeOrigin)+e)/1e3}function CS(e){const{name:t,version:n}=LS(e.nextHopProtocol),s=[];return s.push(["network.protocol.version",n],["network.protocol.name",t]),At?[...s,["http.request.redirect_start",jt(e.redirectStart)],["http.request.fetch_start",jt(e.fetchStart)],["http.request.domain_lookup_start",jt(e.domainLookupStart)],["http.request.domain_lookup_end",jt(e.domainLookupEnd)],["http.request.connect_start",jt(e.connectStart)],["http.request.secure_connection_start",jt(e.secureConnectionStart)],["http.request.connection_end",jt(e.connectEnd)],["http.request.request_start",jt(e.requestStart)],["http.request.response_start",jt(e.responseStart)],["http.request.response_end",jt(e.responseEnd)]]:s}function wS(e,t){const n=Oe.location&&Oe.location.href;if(n){let s,i;try{s=new URL(e,n),i=new URL(n).origin}catch{return!1}const a=s.origin===i;return t?Hn(s.toString(),t)||a&&Hn(s.pathname,t):a}else{const s=!!e.match(/^\/(?!\/)/);return t?Hn(e,t):s}}function DS(e,t,n,s){const i=e.xhr,a=i&&i[hr];if(!i||i.__sentry_own_request__||!a)return;const o=dn()&&t(a.url);if(e.endTimestamp&&o){const S=i.__sentry_xhr_span_id__;if(!S)return;const A=s[S];A&&a.status_code!==void 0&&(yu(A,a.status_code),A.end(),delete s[S]);return}const c=op(a.url),l=c?Wn(c).host:void 0,E=!!gt(),h=o&&E?bn({name:`${a.method} ${a.url}`,attributes:{type:"xhr","http.method":a.method,"http.url":c,url:a.url,"server.address":l,[ot]:"auto.http.browser",[Kn]:"http.client"}}):new Mr;i.__sentry_xhr_span_id__=h.spanContext().spanId,s[i.__sentry_xhr_span_id__]=h;const g=xe();return i.setRequestHeader&&n(a.url)&&g&&PS(i,g,dn()&&E?h:void 0),h}function PS(e,t,n){const s=Ve(),i=fn(),{traceId:a,spanId:o,sampled:c,dsc:l}={...i.getPropagationContext(),...s.getPropagationContext()},E=n&&dn()?Iu(n):Lo(a,o,c),h=Tu(l||(n?nr(n):Ui(a,t)));US(e,E,h)}function US(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(fr,n)}catch{}}function op(e){try{return new URL(e,Oe.location.origin).href}catch{return}}function MS(){Oe&&Oe.document?Oe.document.addEventListener("visibilitychange",()=>{const e=gt();if(!e)return;const t=Et(e);if(Oe.document.hidden&&t){const n="cancelled",{op:s,status:i}=Fe(t);Bt&&oe.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${s}`),i||t.setStatus({code:it,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Bt&&oe.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const FS="BrowserTracing",xS={...si,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...oi},kS=(e={})=>{Mg();const{enableInp:t,enableLongTask:n,enableLongAnimationFrame:s,_experiments:{enableInteractions:i,enableStandaloneClsSpans:a},beforeStartSpan:o,idleTimeout:c,finalTimeout:l,childSpanTimeout:E,markBackgroundSpan:h,traceFetch:g,traceXHR:S,trackFetchStreamPerformance:A,shouldCreateSpanForRequest:p,enableHTTPTimings:f,instrumentPageLoad:d,instrumentNavigation:w}={...xS,...e},D=nT({recordClsStandaloneSpans:a||!1});t&&bT(),s&&Me.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?sT():n&&rT(),i&&iT();const M={name:void 0,source:void 0};function V(j,C){const W=C.op==="pageload",B=o?o(C):C,F=B.attributes||{};C.name!==B.name&&(F[vn]="custom",B.attributes=F),M.name=B.name,M.source=F[vn];const H=Fu(B,{idleTimeout:c,finalTimeout:l,childSpanTimeout:E,disableAutoFinish:W,beforeSpanEnd:te=>{D(),uT(te,{recordClsOnPageloadSpan:!a})}});function Y(){["interactive","complete"].includes(Oe.document.readyState)&&j.emit("idleSpanEnableAutoFinish",H)}return W&&Oe.document&&(Oe.document.addEventListener("readystatechange",()=>{Y()}),Y()),H}return{name:FS,afterAllSetup(j){let C,W=Oe.location&&Oe.location.href;j.on("startNavigationSpan",B=>{xe()===j&&(C&&!Fe(C).timestamp&&(Bt&&oe.log(`[Tracing] Finishing current root span with op: ${Fe(C).op}`),C.end()),C=V(j,{op:"navigation",...B}))}),j.on("startPageLoadSpan",(B,F={})=>{if(xe()!==j)return;C&&!Fe(C).timestamp&&(Bt&&oe.log(`[Tracing] Finishing current root span with op: ${Fe(C).op}`),C.end());const H=F.sentryTrace||ol("sentry-trace"),Y=F.baggage||ol("baggage"),te=eg(H,Y);Ve().setPropagationContext(te),C=V(j,{op:"pageload",...B})}),j.on("spanEnd",B=>{const F=Fe(B).op;if(B!==Et(B)||F!=="navigation"&&F!=="pageload")return;const H=Ve(),Y=H.getPropagationContext();H.setPropagationContext({...Y,sampled:Y.sampled!==void 0?Y.sampled:tr(B),dsc:Y.dsc||nr(B)})}),Oe.location&&(d&&HS(j,{name:Oe.location.pathname,startTime:At?At/1e3:void 0,attributes:{[vn]:"url",[ot]:"auto.pageload.browser"}}),w&&Wo(({to:B,from:F})=>{if(F===void 0&&W&&W.indexOf(B)!==-1){W=void 0;return}F!==B&&(W=void 0,BS(j,{name:Oe.location.pathname,attributes:{[vn]:"url",[ot]:"auto.navigation.browser"}}))})),h&&MS(),i&&WS(c,l,E,M),t&&CT(),OS(j,{traceFetch:g,traceXHR:S,trackFetchStreamPerformance:A,tracePropagationTargets:j.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:p,enableHTTPTimings:f})}}};function HS(e,t,n){e.emit("startPageLoadSpan",t,n),Ve().setTransactionName(t.name);const s=gt();return(s&&Fe(s).op)==="pageload"?s:void 0}function BS(e,t){fn().setPropagationContext(fi()),Ve().setPropagationContext(fi()),e.emit("startNavigationSpan",t),Ve().setTransactionName(t.name);const n=gt();return(n&&Fe(n).op)==="navigation"?n:void 0}function ol(e){const t=gh(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function WS(e,t,n,s){let i;const a=()=>{const o="ui.action.click",c=gt(),l=c&&Et(c);if(l){const E=Fe(l).op;if(["navigation","pageload"].includes(E)){Bt&&oe.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(Ma,"interactionInterrupted"),i.end(),i=void 0),!s.name){Bt&&oe.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=Fu({name:s.name,op:o,attributes:{[vn]:s.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};Oe.document&&addEventListener("click",a,{once:!1,capture:!0})}vS({dsn:void 0,integrations:[kS()]});var GS=Object.create,Hr=Object.defineProperty,qS=Object.getOwnPropertyDescriptor,YS=Object.getOwnPropertyNames,jS=Object.getPrototypeOf,$S=Object.prototype.hasOwnProperty,VS=(e,t,n)=>t in e?Hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>Hr(e,"name",{value:t,configurable:!0}),Nt=(e,t)=>()=>(e&&(t=e(e=0)),t),De=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Wt=(e,t)=>{for(var n in t)Hr(e,n,{get:t[n],enumerable:!0})},cp=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of YS(t))!$S.call(e,i)&&i!==n&&Hr(e,i,{get:()=>t[i],enumerable:!(s=qS(t,i))||s.enumerable});return e},Br=(e,t,n)=>(n=e!=null?GS(jS(e)):{},cp(t||!e||!e.__esModule?Hr(n,"default",{value:e,enumerable:!0}):n,e)),at=e=>cp(Hr({},"__esModule",{value:!0}),e),Ae=(e,t,n)=>VS(e,typeof t!="symbol"?t+"":t,n),XS=De(e=>{_e(),e.byteLength=l,e.toByteArray=h,e.fromByteArray=A;var t=[],n=[],s=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=0,o=i.length;a<o;++a)t[a]=i[a],n[i.charCodeAt(a)]=a;var a,o;n[45]=62,n[95]=63;function c(p){var f=p.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=p.indexOf("=");d===-1&&(d=f);var w=d===f?0:4-d%4;return[d,w]}I(c,"getLens");function l(p){var f=c(p),d=f[0],w=f[1];return(d+w)*3/4-w}I(l,"byteLength");function E(p,f,d){return(f+d)*3/4-d}I(E,"_byteLength");function h(p){var f,d=c(p),w=d[0],D=d[1],M=new s(E(p,w,D)),V=0,j=D>0?w-4:w,C;for(C=0;C<j;C+=4)f=n[p.charCodeAt(C)]<<18|n[p.charCodeAt(C+1)]<<12|n[p.charCodeAt(C+2)]<<6|n[p.charCodeAt(C+3)],M[V++]=f>>16&255,M[V++]=f>>8&255,M[V++]=f&255;return D===2&&(f=n[p.charCodeAt(C)]<<2|n[p.charCodeAt(C+1)]>>4,M[V++]=f&255),D===1&&(f=n[p.charCodeAt(C)]<<10|n[p.charCodeAt(C+1)]<<4|n[p.charCodeAt(C+2)]>>2,M[V++]=f>>8&255,M[V++]=f&255),M}I(h,"toByteArray");function g(p){return t[p>>18&63]+t[p>>12&63]+t[p>>6&63]+t[p&63]}I(g,"tripletToBase64");function S(p,f,d){for(var w,D=[],M=f;M<d;M+=3)w=(p[M]<<16&16711680)+(p[M+1]<<8&65280)+(p[M+2]&255),D.push(g(w));return D.join("")}I(S,"encodeChunk");function A(p){for(var f,d=p.length,w=d%3,D=[],M=16383,V=0,j=d-w;V<j;V+=M)D.push(S(p,V,V+M>j?j:V+M));return w===1?(f=p[d-1],D.push(t[f>>2]+t[f<<4&63]+"==")):w===2&&(f=(p[d-2]<<8)+p[d-1],D.push(t[f>>10]+t[f>>4&63]+t[f<<2&63]+"=")),D.join("")}I(A,"fromByteArray")}),QS=De(e=>{_e(),e.read=function(t,n,s,i,a){var o,c,l=a*8-i-1,E=(1<<l)-1,h=E>>1,g=-7,S=s?a-1:0,A=s?-1:1,p=t[n+S];for(S+=A,o=p&(1<<-g)-1,p>>=-g,g+=l;g>0;o=o*256+t[n+S],S+=A,g-=8);for(c=o&(1<<-g)-1,o>>=-g,g+=i;g>0;c=c*256+t[n+S],S+=A,g-=8);if(o===0)o=1-h;else{if(o===E)return c?NaN:(p?-1:1)*(1/0);c=c+Math.pow(2,i),o=o-h}return(p?-1:1)*c*Math.pow(2,o-i)},e.write=function(t,n,s,i,a,o){var c,l,E,h=o*8-a-1,g=(1<<h)-1,S=g>>1,A=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,d=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(l=isNaN(n)?1:0,c=g):(c=Math.floor(Math.log(n)/Math.LN2),n*(E=Math.pow(2,-c))<1&&(c--,E*=2),c+S>=1?n+=A/E:n+=A*Math.pow(2,1-S),n*E>=2&&(c++,E/=2),c+S>=g?(l=0,c=g):c+S>=1?(l=(n*E-1)*Math.pow(2,a),c=c+S):(l=n*Math.pow(2,S-1)*Math.pow(2,a),c=0));a>=8;t[s+p]=l&255,p+=f,l/=256,a-=8);for(c=c<<a|l,h+=a;h>0;t[s+p]=c&255,p+=f,c/=256,h-=8);t[s+p-f]|=d*128}}),KS=De(e=>{_e();var t=XS(),n=QS(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=D,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,c.TYPED_ARRAY_SUPPORT=a(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{let u=new Uint8Array(1),_={foo:I(function(){return 42},"foo")};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(u,_),u.foo()===42}catch{return!1}}I(a,"typedArraySupport"),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:I(function(){if(c.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:I(function(){if(c.isBuffer(this))return this.byteOffset},"get")});function o(u){if(u>i)throw new RangeError('The value "'+u+'" is invalid for option "size"');let _=new Uint8Array(u);return Object.setPrototypeOf(_,c.prototype),_}I(o,"createBuffer");function c(u,_,y){if(typeof u=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(u)}return l(u,_,y)}I(c,"Buffer"),c.poolSize=8192;function l(u,_,y){if(typeof u=="string")return S(u,_);if(ArrayBuffer.isView(u))return p(u);if(u==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);if(vt(u,ArrayBuffer)||u&&vt(u.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(vt(u,SharedArrayBuffer)||u&&vt(u.buffer,SharedArrayBuffer)))return f(u,_,y);if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let k=u.valueOf&&u.valueOf();if(k!=null&&k!==u)return c.from(k,_,y);let $=d(u);if($)return $;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof u[Symbol.toPrimitive]=="function")return c.from(u[Symbol.toPrimitive]("string"),_,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u)}I(l,"from"),c.from=function(u,_,y){return l(u,_,y)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function E(u){if(typeof u!="number")throw new TypeError('"size" argument must be of type number');if(u<0)throw new RangeError('The value "'+u+'" is invalid for option "size"')}I(E,"assertSize");function h(u,_,y){return E(u),u<=0?o(u):_!==void 0?typeof y=="string"?o(u).fill(_,y):o(u).fill(_):o(u)}I(h,"alloc"),c.alloc=function(u,_,y){return h(u,_,y)};function g(u){return E(u),o(u<0?0:w(u)|0)}I(g,"allocUnsafe"),c.allocUnsafe=function(u){return g(u)},c.allocUnsafeSlow=function(u){return g(u)};function S(u,_){if((typeof _!="string"||_==="")&&(_="utf8"),!c.isEncoding(_))throw new TypeError("Unknown encoding: "+_);let y=M(u,_)|0,k=o(y),$=k.write(u,_);return $!==y&&(k=k.slice(0,$)),k}I(S,"fromString");function A(u){let _=u.length<0?0:w(u.length)|0,y=o(_);for(let k=0;k<_;k+=1)y[k]=u[k]&255;return y}I(A,"fromArrayLike");function p(u){if(vt(u,Uint8Array)){let _=new Uint8Array(u);return f(_.buffer,_.byteOffset,_.byteLength)}return A(u)}I(p,"fromArrayView");function f(u,_,y){if(_<0||u.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(u.byteLength<_+(y||0))throw new RangeError('"length" is outside of buffer bounds');let k;return _===void 0&&y===void 0?k=new Uint8Array(u):y===void 0?k=new Uint8Array(u,_):k=new Uint8Array(u,_,y),Object.setPrototypeOf(k,c.prototype),k}I(f,"fromArrayBuffer");function d(u){if(c.isBuffer(u)){let _=w(u.length)|0,y=o(_);return y.length===0||u.copy(y,0,0,_),y}if(u.length!==void 0)return typeof u.length!="number"||ar(u.length)?o(0):A(u);if(u.type==="Buffer"&&Array.isArray(u.data))return A(u.data)}I(d,"fromObject");function w(u){if(u>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return u|0}I(w,"checked");function D(u){return+u!=u&&(u=0),c.alloc(+u)}I(D,"SlowBuffer"),c.isBuffer=I(function(u){return u!=null&&u._isBuffer===!0&&u!==c.prototype},"isBuffer"),c.compare=I(function(u,_){if(vt(u,Uint8Array)&&(u=c.from(u,u.offset,u.byteLength)),vt(_,Uint8Array)&&(_=c.from(_,_.offset,_.byteLength)),!c.isBuffer(u)||!c.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===_)return 0;let y=u.length,k=_.length;for(let $=0,J=Math.min(y,k);$<J;++$)if(u[$]!==_[$]){y=u[$],k=_[$];break}return y<k?-1:k<y?1:0},"compare"),c.isEncoding=I(function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),c.concat=I(function(u,_){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return c.alloc(0);let y;if(_===void 0)for(_=0,y=0;y<u.length;++y)_+=u[y].length;let k=c.allocUnsafe(_),$=0;for(y=0;y<u.length;++y){let J=u[y];if(vt(J,Uint8Array))$+J.length>k.length?(c.isBuffer(J)||(J=c.from(J)),J.copy(k,$)):Uint8Array.prototype.set.call(k,J,$);else if(c.isBuffer(J))J.copy(k,$);else throw new TypeError('"list" argument must be an Array of Buffers');$+=J.length}return k},"concat");function M(u,_){if(c.isBuffer(u))return u.length;if(ArrayBuffer.isView(u)||vt(u,ArrayBuffer))return u.byteLength;if(typeof u!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof u);let y=u.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&y===0)return 0;let $=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return Cn(u).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return Xr(u).length;default:if($)return k?-1:Cn(u).length;_=(""+_).toLowerCase(),$=!0}}I(M,"byteLength"),c.byteLength=M;function V(u,_,y){let k=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,_>>>=0,y<=_))return"";for(u||(u="utf8");;)switch(u){case"hex":return Pe(this,_,y);case"utf8":case"utf-8":return z(this,_,y);case"ascii":return Ee(this,_,y);case"latin1":case"binary":return Se(this,_,y);case"base64":return ue(this,_,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,_,y);default:if(k)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase(),k=!0}}I(V,"slowToString"),c.prototype._isBuffer=!0;function j(u,_,y){let k=u[_];u[_]=u[y],u[y]=k}I(j,"swap"),c.prototype.swap16=I(function(){let u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<u;_+=2)j(this,_,_+1);return this},"swap16"),c.prototype.swap32=I(function(){let u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<u;_+=4)j(this,_,_+3),j(this,_+1,_+2);return this},"swap32"),c.prototype.swap64=I(function(){let u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<u;_+=8)j(this,_,_+7),j(this,_+1,_+6),j(this,_+2,_+5),j(this,_+3,_+4);return this},"swap64"),c.prototype.toString=I(function(){let u=this.length;return u===0?"":arguments.length===0?z(this,0,u):V.apply(this,arguments)},"toString"),c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=I(function(u){if(!c.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:c.compare(this,u)===0},"equals"),c.prototype.inspect=I(function(){let u="",_=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(u+=" ... "),"<Buffer "+u+">"},"inspect"),s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=I(function(u,_,y,k,$){if(vt(u,Uint8Array)&&(u=c.from(u,u.offset,u.byteLength)),!c.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(_===void 0&&(_=0),y===void 0&&(y=u?u.length:0),k===void 0&&(k=0),$===void 0&&($=this.length),_<0||y>u.length||k<0||$>this.length)throw new RangeError("out of range index");if(k>=$&&_>=y)return 0;if(k>=$)return-1;if(_>=y)return 1;if(_>>>=0,y>>>=0,k>>>=0,$>>>=0,this===u)return 0;let J=$-k,re=y-_,ke=Math.min(J,re),Ze=this.slice(k,$),We=u.slice(_,y);for(let He=0;He<ke;++He)if(Ze[He]!==We[He]){J=Ze[He],re=We[He];break}return J<re?-1:re<J?1:0},"compare");function C(u,_,y,k,$){if(u.length===0)return-1;if(typeof y=="string"?(k=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,ar(y)&&(y=$?0:u.length-1),y<0&&(y=u.length+y),y>=u.length){if($)return-1;y=u.length-1}else if(y<0)if($)y=0;else return-1;if(typeof _=="string"&&(_=c.from(_,k)),c.isBuffer(_))return _.length===0?-1:W(u,_,y,k,$);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?$?Uint8Array.prototype.indexOf.call(u,_,y):Uint8Array.prototype.lastIndexOf.call(u,_,y):W(u,[_],y,k,$);throw new TypeError("val must be string, number or Buffer")}I(C,"bidirectionalIndexOf");function W(u,_,y,k,$){let J=1,re=u.length,ke=_.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(u.length<2||_.length<2)return-1;J=2,re/=2,ke/=2,y/=2}function Ze(He,Qe){return J===1?He[Qe]:He.readUInt16BE(Qe*J)}I(Ze,"read");let We;if($){let He=-1;for(We=y;We<re;We++)if(Ze(u,We)===Ze(_,He===-1?0:We-He)){if(He===-1&&(He=We),We-He+1===ke)return He*J}else He!==-1&&(We-=We-He),He=-1}else for(y+ke>re&&(y=re-ke),We=y;We>=0;We--){let He=!0;for(let Qe=0;Qe<ke;Qe++)if(Ze(u,We+Qe)!==Ze(_,Qe)){He=!1;break}if(He)return We}return-1}I(W,"arrayIndexOf"),c.prototype.includes=I(function(u,_,y){return this.indexOf(u,_,y)!==-1},"includes"),c.prototype.indexOf=I(function(u,_,y){return C(this,u,_,y,!0)},"indexOf"),c.prototype.lastIndexOf=I(function(u,_,y){return C(this,u,_,y,!1)},"lastIndexOf");function B(u,_,y,k){y=Number(y)||0;let $=u.length-y;k?(k=Number(k),k>$&&(k=$)):k=$;let J=_.length;k>J/2&&(k=J/2);let re;for(re=0;re<k;++re){let ke=parseInt(_.substr(re*2,2),16);if(ar(ke))return re;u[y+re]=ke}return re}I(B,"hexWrite");function F(u,_,y,k){return mn(Cn(_,u.length-y),u,y,k)}I(F,"utf8Write");function H(u,_,y,k){return mn(Gt(_),u,y,k)}I(H,"asciiWrite");function Y(u,_,y,k){return mn(Xr(_),u,y,k)}I(Y,"base64Write");function te(u,_,y,k){return mn(Cs(_,u.length-y),u,y,k)}I(te,"ucs2Write"),c.prototype.write=I(function(u,_,y,k){if(_===void 0)k="utf8",y=this.length,_=0;else if(y===void 0&&typeof _=="string")k=_,y=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(y)?(y=y>>>0,k===void 0&&(k="utf8")):(k=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let $=this.length-_;if((y===void 0||y>$)&&(y=$),u.length>0&&(y<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");let J=!1;for(;;)switch(k){case"hex":return B(this,u,_,y);case"utf8":case"utf-8":return F(this,u,_,y);case"ascii":case"latin1":case"binary":return H(this,u,_,y);case"base64":return Y(this,u,_,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,u,_,y);default:if(J)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),J=!0}},"write"),c.prototype.toJSON=I(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function ue(u,_,y){return _===0&&y===u.length?t.fromByteArray(u):t.fromByteArray(u.slice(_,y))}I(ue,"base64Slice");function z(u,_,y){y=Math.min(u.length,y);let k=[],$=_;for(;$<y;){let J=u[$],re=null,ke=J>239?4:J>223?3:J>191?2:1;if($+ke<=y){let Ze,We,He,Qe;switch(ke){case 1:J<128&&(re=J);break;case 2:Ze=u[$+1],(Ze&192)===128&&(Qe=(J&31)<<6|Ze&63,Qe>127&&(re=Qe));break;case 3:Ze=u[$+1],We=u[$+2],(Ze&192)===128&&(We&192)===128&&(Qe=(J&15)<<12|(Ze&63)<<6|We&63,Qe>2047&&(Qe<55296||Qe>57343)&&(re=Qe));break;case 4:Ze=u[$+1],We=u[$+2],He=u[$+3],(Ze&192)===128&&(We&192)===128&&(He&192)===128&&(Qe=(J&15)<<18|(Ze&63)<<12|(We&63)<<6|He&63,Qe>65535&&Qe<1114112&&(re=Qe))}}re===null?(re=65533,ke=1):re>65535&&(re-=65536,k.push(re>>>10&1023|55296),re=56320|re&1023),k.push(re),$+=ke}return pe(k)}I(z,"utf8Slice");var ie=4096;function pe(u){let _=u.length;if(_<=ie)return String.fromCharCode.apply(String,u);let y="",k=0;for(;k<_;)y+=String.fromCharCode.apply(String,u.slice(k,k+=ie));return y}I(pe,"decodeCodePointsArray");function Ee(u,_,y){let k="";y=Math.min(u.length,y);for(let $=_;$<y;++$)k+=String.fromCharCode(u[$]&127);return k}I(Ee,"asciiSlice");function Se(u,_,y){let k="";y=Math.min(u.length,y);for(let $=_;$<y;++$)k+=String.fromCharCode(u[$]);return k}I(Se,"latin1Slice");function Pe(u,_,y){let k=u.length;(!_||_<0)&&(_=0),(!y||y<0||y>k)&&(y=k);let $="";for(let J=_;J<y;++J)$+=Yi[u[J]];return $}I(Pe,"hexSlice");function mt(u,_,y){let k=u.slice(_,y),$="";for(let J=0;J<k.length-1;J+=2)$+=String.fromCharCode(k[J]+k[J+1]*256);return $}I(mt,"utf16leSlice"),c.prototype.slice=I(function(u,_){let y=this.length;u=~~u,_=_===void 0?y:~~_,u<0?(u+=y,u<0&&(u=0)):u>y&&(u=y),_<0?(_+=y,_<0&&(_=0)):_>y&&(_=y),_<u&&(_=u);let k=this.subarray(u,_);return Object.setPrototypeOf(k,c.prototype),k},"slice");function qe(u,_,y){if(u%1!==0||u<0)throw new RangeError("offset is not uint");if(u+_>y)throw new RangeError("Trying to access beyond buffer length")}I(qe,"checkOffset"),c.prototype.readUintLE=c.prototype.readUIntLE=I(function(u,_,y){u=u>>>0,_=_>>>0,y||qe(u,_,this.length);let k=this[u],$=1,J=0;for(;++J<_&&($*=256);)k+=this[u+J]*$;return k},"readUIntLE"),c.prototype.readUintBE=c.prototype.readUIntBE=I(function(u,_,y){u=u>>>0,_=_>>>0,y||qe(u,_,this.length);let k=this[u+--_],$=1;for(;_>0&&($*=256);)k+=this[u+--_]*$;return k},"readUIntBE"),c.prototype.readUint8=c.prototype.readUInt8=I(function(u,_){return u=u>>>0,_||qe(u,1,this.length),this[u]},"readUInt8"),c.prototype.readUint16LE=c.prototype.readUInt16LE=I(function(u,_){return u=u>>>0,_||qe(u,2,this.length),this[u]|this[u+1]<<8},"readUInt16LE"),c.prototype.readUint16BE=c.prototype.readUInt16BE=I(function(u,_){return u=u>>>0,_||qe(u,2,this.length),this[u]<<8|this[u+1]},"readUInt16BE"),c.prototype.readUint32LE=c.prototype.readUInt32LE=I(function(u,_){return u=u>>>0,_||qe(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},"readUInt32LE"),c.prototype.readUint32BE=c.prototype.readUInt32BE=I(function(u,_){return u=u>>>0,_||qe(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},"readUInt32BE"),c.prototype.readBigUInt64LE=Mt(I(function(u){u=u>>>0,zt(u,"offset");let _=this[u],y=this[u+7];(_===void 0||y===void 0)&&gn(u,this.length-8);let k=_+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,$=this[++u]+this[++u]*2**8+this[++u]*2**16+y*2**24;return BigInt(k)+(BigInt($)<<BigInt(32))},"readBigUInt64LE")),c.prototype.readBigUInt64BE=Mt(I(function(u){u=u>>>0,zt(u,"offset");let _=this[u],y=this[u+7];(_===void 0||y===void 0)&&gn(u,this.length-8);let k=_*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],$=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+y;return(BigInt(k)<<BigInt(32))+BigInt($)},"readBigUInt64BE")),c.prototype.readIntLE=I(function(u,_,y){u=u>>>0,_=_>>>0,y||qe(u,_,this.length);let k=this[u],$=1,J=0;for(;++J<_&&($*=256);)k+=this[u+J]*$;return $*=128,k>=$&&(k-=Math.pow(2,8*_)),k},"readIntLE"),c.prototype.readIntBE=I(function(u,_,y){u=u>>>0,_=_>>>0,y||qe(u,_,this.length);let k=_,$=1,J=this[u+--k];for(;k>0&&($*=256);)J+=this[u+--k]*$;return $*=128,J>=$&&(J-=Math.pow(2,8*_)),J},"readIntBE"),c.prototype.readInt8=I(function(u,_){return u=u>>>0,_||qe(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},"readInt8"),c.prototype.readInt16LE=I(function(u,_){u=u>>>0,_||qe(u,2,this.length);let y=this[u]|this[u+1]<<8;return y&32768?y|4294901760:y},"readInt16LE"),c.prototype.readInt16BE=I(function(u,_){u=u>>>0,_||qe(u,2,this.length);let y=this[u+1]|this[u]<<8;return y&32768?y|4294901760:y},"readInt16BE"),c.prototype.readInt32LE=I(function(u,_){return u=u>>>0,_||qe(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},"readInt32LE"),c.prototype.readInt32BE=I(function(u,_){return u=u>>>0,_||qe(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},"readInt32BE"),c.prototype.readBigInt64LE=Mt(I(function(u){u=u>>>0,zt(u,"offset");let _=this[u],y=this[u+7];(_===void 0||y===void 0)&&gn(u,this.length-8);let k=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(y<<24);return(BigInt(k)<<BigInt(32))+BigInt(_+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)},"readBigInt64LE")),c.prototype.readBigInt64BE=Mt(I(function(u){u=u>>>0,zt(u,"offset");let _=this[u],y=this[u+7];(_===void 0||y===void 0)&&gn(u,this.length-8);let k=(_<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(k)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+y)},"readBigInt64BE")),c.prototype.readFloatLE=I(function(u,_){return u=u>>>0,_||qe(u,4,this.length),n.read(this,u,!0,23,4)},"readFloatLE"),c.prototype.readFloatBE=I(function(u,_){return u=u>>>0,_||qe(u,4,this.length),n.read(this,u,!1,23,4)},"readFloatBE"),c.prototype.readDoubleLE=I(function(u,_){return u=u>>>0,_||qe(u,8,this.length),n.read(this,u,!0,52,8)},"readDoubleLE"),c.prototype.readDoubleBE=I(function(u,_){return u=u>>>0,_||qe(u,8,this.length),n.read(this,u,!1,52,8)},"readDoubleBE");function Je(u,_,y,k,$,J){if(!c.isBuffer(u))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>$||_<J)throw new RangeError('"value" argument is out of bounds');if(y+k>u.length)throw new RangeError("Index out of range")}I(Je,"checkInt"),c.prototype.writeUintLE=c.prototype.writeUIntLE=I(function(u,_,y,k){if(u=+u,_=_>>>0,y=y>>>0,!k){let re=Math.pow(2,8*y)-1;Je(this,u,_,y,re,0)}let $=1,J=0;for(this[_]=u&255;++J<y&&($*=256);)this[_+J]=u/$&255;return _+y},"writeUIntLE"),c.prototype.writeUintBE=c.prototype.writeUIntBE=I(function(u,_,y,k){if(u=+u,_=_>>>0,y=y>>>0,!k){let re=Math.pow(2,8*y)-1;Je(this,u,_,y,re,0)}let $=y-1,J=1;for(this[_+$]=u&255;--$>=0&&(J*=256);)this[_+$]=u/J&255;return _+y},"writeUIntBE"),c.prototype.writeUint8=c.prototype.writeUInt8=I(function(u,_,y){return u=+u,_=_>>>0,y||Je(this,u,_,1,255,0),this[_]=u&255,_+1},"writeUInt8"),c.prototype.writeUint16LE=c.prototype.writeUInt16LE=I(function(u,_,y){return u=+u,_=_>>>0,y||Je(this,u,_,2,65535,0),this[_]=u&255,this[_+1]=u>>>8,_+2},"writeUInt16LE"),c.prototype.writeUint16BE=c.prototype.writeUInt16BE=I(function(u,_,y){return u=+u,_=_>>>0,y||Je(this,u,_,2,65535,0),this[_]=u>>>8,this[_+1]=u&255,_+2},"writeUInt16BE"),c.prototype.writeUint32LE=c.prototype.writeUInt32LE=I(function(u,_,y){return u=+u,_=_>>>0,y||Je(this,u,_,4,4294967295,0),this[_+3]=u>>>24,this[_+2]=u>>>16,this[_+1]=u>>>8,this[_]=u&255,_+4},"writeUInt32LE"),c.prototype.writeUint32BE=c.prototype.writeUInt32BE=I(function(u,_,y){return u=+u,_=_>>>0,y||Je(this,u,_,4,4294967295,0),this[_]=u>>>24,this[_+1]=u>>>16,this[_+2]=u>>>8,this[_+3]=u&255,_+4},"writeUInt32BE");function Ln(u,_,y,k,$){Vr(_,k,$,u,y,7);let J=Number(_&BigInt(4294967295));u[y++]=J,J=J>>8,u[y++]=J,J=J>>8,u[y++]=J,J=J>>8,u[y++]=J;let re=Number(_>>BigInt(32)&BigInt(4294967295));return u[y++]=re,re=re>>8,u[y++]=re,re=re>>8,u[y++]=re,re=re>>8,u[y++]=re,y}I(Ln,"wrtBigUInt64LE");function Gr(u,_,y,k,$){Vr(_,k,$,u,y,7);let J=Number(_&BigInt(4294967295));u[y+7]=J,J=J>>8,u[y+6]=J,J=J>>8,u[y+5]=J,J=J>>8,u[y+4]=J;let re=Number(_>>BigInt(32)&BigInt(4294967295));return u[y+3]=re,re=re>>8,u[y+2]=re,re=re>>8,u[y+1]=re,re=re>>8,u[y]=re,y+8}I(Gr,"wrtBigUInt64BE"),c.prototype.writeBigUInt64LE=Mt(I(function(u,_=0){return Ln(this,u,_,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),c.prototype.writeBigUInt64BE=Mt(I(function(u,_=0){return Gr(this,u,_,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),c.prototype.writeIntLE=I(function(u,_,y,k){if(u=+u,_=_>>>0,!k){let ke=Math.pow(2,8*y-1);Je(this,u,_,y,ke-1,-ke)}let $=0,J=1,re=0;for(this[_]=u&255;++$<y&&(J*=256);)u<0&&re===0&&this[_+$-1]!==0&&(re=1),this[_+$]=(u/J>>0)-re&255;return _+y},"writeIntLE"),c.prototype.writeIntBE=I(function(u,_,y,k){if(u=+u,_=_>>>0,!k){let ke=Math.pow(2,8*y-1);Je(this,u,_,y,ke-1,-ke)}let $=y-1,J=1,re=0;for(this[_+$]=u&255;--$>=0&&(J*=256);)u<0&&re===0&&this[_+$+1]!==0&&(re=1),this[_+$]=(u/J>>0)-re&255;return _+y},"writeIntBE"),c.prototype.writeInt8=I(function(u,_,y){return u=+u,_=_>>>0,y||Je(this,u,_,1,127,-128),u<0&&(u=255+u+1),this[_]=u&255,_+1},"writeInt8"),c.prototype.writeInt16LE=I(function(u,_,y){return u=+u,_=_>>>0,y||Je(this,u,_,2,32767,-32768),this[_]=u&255,this[_+1]=u>>>8,_+2},"writeInt16LE"),c.prototype.writeInt16BE=I(function(u,_,y){return u=+u,_=_>>>0,y||Je(this,u,_,2,32767,-32768),this[_]=u>>>8,this[_+1]=u&255,_+2},"writeInt16BE"),c.prototype.writeInt32LE=I(function(u,_,y){return u=+u,_=_>>>0,y||Je(this,u,_,4,2147483647,-2147483648),this[_]=u&255,this[_+1]=u>>>8,this[_+2]=u>>>16,this[_+3]=u>>>24,_+4},"writeInt32LE"),c.prototype.writeInt32BE=I(function(u,_,y){return u=+u,_=_>>>0,y||Je(this,u,_,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[_]=u>>>24,this[_+1]=u>>>16,this[_+2]=u>>>8,this[_+3]=u&255,_+4},"writeInt32BE"),c.prototype.writeBigInt64LE=Mt(I(function(u,_=0){return Ln(this,u,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),c.prototype.writeBigInt64BE=Mt(I(function(u,_=0){return Gr(this,u,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function qr(u,_,y,k,$,J){if(y+k>u.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}I(qr,"checkIEEE754");function Yr(u,_,y,k,$){return _=+_,y=y>>>0,$||qr(u,_,y,4),n.write(u,_,y,k,23,4),y+4}I(Yr,"writeFloat"),c.prototype.writeFloatLE=I(function(u,_,y){return Yr(this,u,_,!0,y)},"writeFloatLE"),c.prototype.writeFloatBE=I(function(u,_,y){return Yr(this,u,_,!1,y)},"writeFloatBE");function jr(u,_,y,k,$){return _=+_,y=y>>>0,$||qr(u,_,y,8),n.write(u,_,y,k,52,8),y+8}I(jr,"writeDouble"),c.prototype.writeDoubleLE=I(function(u,_,y){return jr(this,u,_,!0,y)},"writeDoubleLE"),c.prototype.writeDoubleBE=I(function(u,_,y){return jr(this,u,_,!1,y)},"writeDoubleBE"),c.prototype.copy=I(function(u,_,y,k){if(!c.isBuffer(u))throw new TypeError("argument should be a Buffer");if(y||(y=0),!k&&k!==0&&(k=this.length),_>=u.length&&(_=u.length),_||(_=0),k>0&&k<y&&(k=y),k===y||u.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),u.length-_<k-y&&(k=u.length-_+y);let $=k-y;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,y,k):Uint8Array.prototype.set.call(u,this.subarray(y,k),_),$},"copy"),c.prototype.fill=I(function(u,_,y,k){if(typeof u=="string"){if(typeof _=="string"?(k=_,_=0,y=this.length):typeof y=="string"&&(k=y,y=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!c.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(u.length===1){let J=u.charCodeAt(0);(k==="utf8"&&J<128||k==="latin1")&&(u=J)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(_<0||this.length<_||this.length<y)throw new RangeError("Out of range index");if(y<=_)return this;_=_>>>0,y=y===void 0?this.length:y>>>0,u||(u=0);let $;if(typeof u=="number")for($=_;$<y;++$)this[$]=u;else{let J=c.isBuffer(u)?u:c.from(u,k),re=J.length;if(re===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for($=0;$<y-_;++$)this[$+_]=J[$%re]}return this},"fill");var En={};function hn(u,_,y){var k;En[u]=(k=class extends y{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${u}]`,this.stack,delete this.name}get code(){return u}set code($){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:$,writable:!0})}toString(){return`${this.name} [${u}]: ${this.message}`}},I(k,"NodeError"),k)}I(hn,"E"),hn("ERR_BUFFER_OUT_OF_BOUNDS",function(u){return u?`${u} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),hn("ERR_INVALID_ARG_TYPE",function(u,_){return`The "${u}" argument must be of type number. Received type ${typeof _}`},TypeError),hn("ERR_OUT_OF_RANGE",function(u,_,y){let k=`The value of "${u}" is out of range.`,$=y;return Number.isInteger(y)&&Math.abs(y)>2**32?$=$r(String(y)):typeof y=="bigint"&&($=String(y),(y>BigInt(2)**BigInt(32)||y<-(BigInt(2)**BigInt(32)))&&($=$r($)),$+="n"),k+=` It must be ${_}. Received ${$}`,k},RangeError);function $r(u){let _="",y=u.length,k=u[0]==="-"?1:0;for(;y>=k+4;y-=3)_=`_${u.slice(y-3,y)}${_}`;return`${u.slice(0,y)}${_}`}I($r,"addNumericalSeparator");function Ls(u,_,y){zt(_,"offset"),(u[_]===void 0||u[_+y]===void 0)&&gn(_,u.length-(y+1))}I(Ls,"checkBounds");function Vr(u,_,y,k,$,J){if(u>y||u<_){let re=typeof _=="bigint"?"n":"",ke;throw J>3?_===0||_===BigInt(0)?ke=`>= 0${re} and < 2${re} ** ${(J+1)*8}${re}`:ke=`>= -(2${re} ** ${(J+1)*8-1}${re}) and < 2 ** ${(J+1)*8-1}${re}`:ke=`>= ${_}${re} and <= ${y}${re}`,new En.ERR_OUT_OF_RANGE("value",ke,u)}Ls(k,$,J)}I(Vr,"checkIntBI");function zt(u,_){if(typeof u!="number")throw new En.ERR_INVALID_ARG_TYPE(_,"number",u)}I(zt,"validateNumber");function gn(u,_,y){throw Math.floor(u)!==u?(zt(u,y),new En.ERR_OUT_OF_RANGE(y||"offset","an integer",u)):_<0?new En.ERR_BUFFER_OUT_OF_BOUNDS:new En.ERR_OUT_OF_RANGE(y||"offset",`>= ${y?1:0} and <= ${_}`,u)}I(gn,"boundsError");var qi=/[^+/0-9A-Za-z-_]/g;function ir(u){if(u=u.split("=")[0],u=u.trim().replace(qi,""),u.length<2)return"";for(;u.length%4!==0;)u=u+"=";return u}I(ir,"base64clean");function Cn(u,_){_=_||1/0;let y,k=u.length,$=null,J=[];for(let re=0;re<k;++re){if(y=u.charCodeAt(re),y>55295&&y<57344){if(!$){if(y>56319){(_-=3)>-1&&J.push(239,191,189);continue}else if(re+1===k){(_-=3)>-1&&J.push(239,191,189);continue}$=y;continue}if(y<56320){(_-=3)>-1&&J.push(239,191,189),$=y;continue}y=($-55296<<10|y-56320)+65536}else $&&(_-=3)>-1&&J.push(239,191,189);if($=null,y<128){if((_-=1)<0)break;J.push(y)}else if(y<2048){if((_-=2)<0)break;J.push(y>>6|192,y&63|128)}else if(y<65536){if((_-=3)<0)break;J.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((_-=4)<0)break;J.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return J}I(Cn,"utf8ToBytes");function Gt(u){let _=[];for(let y=0;y<u.length;++y)_.push(u.charCodeAt(y)&255);return _}I(Gt,"asciiToBytes");function Cs(u,_){let y,k,$,J=[];for(let re=0;re<u.length&&!((_-=2)<0);++re)y=u.charCodeAt(re),k=y>>8,$=y%256,J.push($),J.push(k);return J}I(Cs,"utf16leToBytes");function Xr(u){return t.toByteArray(ir(u))}I(Xr,"base64ToBytes");function mn(u,_,y,k){let $;for($=0;$<k&&!($+y>=_.length||$>=u.length);++$)_[$+y]=u[$];return $}I(mn,"blitBuffer");function vt(u,_){return u instanceof _||u!=null&&u.constructor!=null&&u.constructor.name!=null&&u.constructor.name===_.name}I(vt,"isInstance");function ar(u){return u!==u}I(ar,"numberIsNaN");var Yi=function(){let u="0123456789abcdef",_=new Array(256);for(let y=0;y<16;++y){let k=y*16;for(let $=0;$<16;++$)_[k+$]=u[y]+u[$]}return _}();function Mt(u){return typeof BigInt>"u"?ws:u}I(Mt,"defineBigIntMethod");function ws(){throw new Error("BigInt not supported")}I(ws,"BufferBigIntNotDefined")}),Fi,Go,dt,ye,we,_e=Nt(()=>{Fi=globalThis,Go=globalThis.setImmediate??(e=>setTimeout(e,0)),dt=globalThis.crypto??{},dt.subtle??(dt.subtle={}),ye=typeof globalThis.Buffer=="function"&&typeof globalThis.Buffer.allocUnsafe=="function"?globalThis.Buffer:KS().Buffer,we=globalThis.process??{},we.env??(we.env={});try{we.nextTick(()=>{})}catch{let e=Promise.resolve();we.nextTick=e.then.bind(e)}}),sr=De((e,t)=>{_e();var n=typeof Reflect=="object"?Reflect:null,s=n&&typeof n.apply=="function"?n.apply:I(function(C,W,B){return Function.prototype.apply.call(C,W,B)},"ReflectApply"),i;n&&typeof n.ownKeys=="function"?i=n.ownKeys:Object.getOwnPropertySymbols?i=I(function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))},"ReflectOwnKeys"):i=I(function(C){return Object.getOwnPropertyNames(C)},"ReflectOwnKeys");function a(C){console&&console.warn&&console.warn(C)}I(a,"ProcessEmitWarning");var o=Number.isNaN||I(function(C){return C!==C},"NumberIsNaN");function c(){c.init.call(this)}I(c,"EventEmitter"),t.exports=c,t.exports.once=M,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var l=10;function E(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}I(E,"checkListener"),Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:I(function(){return l},"get"),set:I(function(C){if(typeof C!="number"||C<0||o(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");l=C},"set")}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=I(function(C){if(typeof C!="number"||C<0||o(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},"setMaxListeners");function h(C){return C._maxListeners===void 0?c.defaultMaxListeners:C._maxListeners}I(h,"_getMaxListeners"),c.prototype.getMaxListeners=I(function(){return h(this)},"getMaxListeners"),c.prototype.emit=I(function(C){for(var W=[],B=1;B<arguments.length;B++)W.push(arguments[B]);var F=C==="error",H=this._events;if(H!==void 0)F=F&&H.error===void 0;else if(!F)return!1;if(F){var Y;if(W.length>0&&(Y=W[0]),Y instanceof Error)throw Y;var te=new Error("Unhandled error."+(Y?" ("+Y.message+")":""));throw te.context=Y,te}var ue=H[C];if(ue===void 0)return!1;if(typeof ue=="function")s(ue,this,W);else for(var z=ue.length,ie=d(ue,z),B=0;B<z;++B)s(ie[B],this,W);return!0},"emit");function g(C,W,B,F){var H,Y,te;if(E(B),Y=C._events,Y===void 0?(Y=C._events=Object.create(null),C._eventsCount=0):(Y.newListener!==void 0&&(C.emit("newListener",W,B.listener?B.listener:B),Y=C._events),te=Y[W]),te===void 0)te=Y[W]=B,++C._eventsCount;else if(typeof te=="function"?te=Y[W]=F?[B,te]:[te,B]:F?te.unshift(B):te.push(B),H=h(C),H>0&&te.length>H&&!te.warned){te.warned=!0;var ue=new Error("Possible EventEmitter memory leak detected. "+te.length+" "+String(W)+" listeners added. Use emitter.setMaxListeners() to increase limit");ue.name="MaxListenersExceededWarning",ue.emitter=C,ue.type=W,ue.count=te.length,a(ue)}return C}I(g,"_addListener"),c.prototype.addListener=I(function(C,W){return g(this,C,W,!1)},"addListener"),c.prototype.on=c.prototype.addListener,c.prototype.prependListener=I(function(C,W){return g(this,C,W,!0)},"prependListener");function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}I(S,"onceWrapper");function A(C,W,B){var F={fired:!1,wrapFn:void 0,target:C,type:W,listener:B},H=S.bind(F);return H.listener=B,F.wrapFn=H,H}I(A,"_onceWrap"),c.prototype.once=I(function(C,W){return E(W),this.on(C,A(this,C,W)),this},"once"),c.prototype.prependOnceListener=I(function(C,W){return E(W),this.prependListener(C,A(this,C,W)),this},"prependOnceListener"),c.prototype.removeListener=I(function(C,W){var B,F,H,Y,te;if(E(W),F=this._events,F===void 0)return this;if(B=F[C],B===void 0)return this;if(B===W||B.listener===W)--this._eventsCount===0?this._events=Object.create(null):(delete F[C],F.removeListener&&this.emit("removeListener",C,B.listener||W));else if(typeof B!="function"){for(H=-1,Y=B.length-1;Y>=0;Y--)if(B[Y]===W||B[Y].listener===W){te=B[Y].listener,H=Y;break}if(H<0)return this;H===0?B.shift():w(B,H),B.length===1&&(F[C]=B[0]),F.removeListener!==void 0&&this.emit("removeListener",C,te||W)}return this},"removeListener"),c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=I(function(C){var W,B,F;if(B=this._events,B===void 0)return this;if(B.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):B[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete B[C]),this;if(arguments.length===0){var H=Object.keys(B),Y;for(F=0;F<H.length;++F)Y=H[F],Y!=="removeListener"&&this.removeAllListeners(Y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(W=B[C],typeof W=="function")this.removeListener(C,W);else if(W!==void 0)for(F=W.length-1;F>=0;F--)this.removeListener(C,W[F]);return this},"removeAllListeners");function p(C,W,B){var F=C._events;if(F===void 0)return[];var H=F[W];return H===void 0?[]:typeof H=="function"?B?[H.listener||H]:[H]:B?D(H):d(H,H.length)}I(p,"_listeners"),c.prototype.listeners=I(function(C){return p(this,C,!0)},"listeners"),c.prototype.rawListeners=I(function(C){return p(this,C,!1)},"rawListeners"),c.listenerCount=function(C,W){return typeof C.listenerCount=="function"?C.listenerCount(W):f.call(C,W)},c.prototype.listenerCount=f;function f(C){var W=this._events;if(W!==void 0){var B=W[C];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}I(f,"listenerCount"),c.prototype.eventNames=I(function(){return this._eventsCount>0?i(this._events):[]},"eventNames");function d(C,W){for(var B=new Array(W),F=0;F<W;++F)B[F]=C[F];return B}I(d,"arrayClone");function w(C,W){for(;W+1<C.length;W++)C[W]=C[W+1];C.pop()}I(w,"spliceOne");function D(C){for(var W=new Array(C.length),B=0;B<W.length;++B)W[B]=C[B].listener||C[B];return W}I(D,"unwrapListeners");function M(C,W){return new Promise(function(B,F){function H(te){C.removeListener(W,Y),F(te)}I(H,"errorListener");function Y(){typeof C.removeListener=="function"&&C.removeListener("error",H),B([].slice.call(arguments))}I(Y,"resolver"),j(C,W,Y,{once:!0}),W!=="error"&&V(C,H,{once:!0})})}I(M,"once");function V(C,W,B){typeof C.on=="function"&&j(C,"error",W,B)}I(V,"addErrorHandlerIfEventEmitter");function j(C,W,B,F){if(typeof C.on=="function")F.once?C.once(W,B):C.on(W,B);else if(typeof C.addEventListener=="function")C.addEventListener(W,I(function H(Y){F.once&&C.removeEventListener(W,H),B(Y)},"wrapListener"));else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}I(j,"eventTargetAgnosticAddListener")}),bs={};Wt(bs,{default:()=>lp});var lp,xi=Nt(()=>{_e(),lp={}});function us(e){let t=1779033703,n=3144134277,s=1013904242,i=2773480762,a=1359893119,o=2600822924,c=528734635,l=1541459225,E=0,h=0,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],S=I((D,M)=>D>>>M|D<<32-M,"rrot"),A=new Uint32Array(64),p=new Uint8Array(64),f=I(()=>{for(let H=0,Y=0;H<16;H++,Y+=4)A[H]=p[Y]<<24|p[Y+1]<<16|p[Y+2]<<8|p[Y+3];for(let H=16;H<64;H++){let Y=S(A[H-15],7)^S(A[H-15],18)^A[H-15]>>>3,te=S(A[H-2],17)^S(A[H-2],19)^A[H-2]>>>10;A[H]=A[H-16]+Y+A[H-7]+te|0}let D=t,M=n,V=s,j=i,C=a,W=o,B=c,F=l;for(let H=0;H<64;H++){let Y=S(C,6)^S(C,11)^S(C,25),te=C&W^~C&B,ue=F+Y+te+g[H]+A[H]|0,z=S(D,2)^S(D,13)^S(D,22),ie=D&M^D&V^M&V,pe=z+ie|0;F=B,B=W,W=C,C=j+ue|0,j=V,V=M,M=D,D=ue+pe|0}t=t+D|0,n=n+M|0,s=s+V|0,i=i+j|0,a=a+C|0,o=o+W|0,c=c+B|0,l=l+F|0,h=0},"process"),d=I(D=>{typeof D=="string"&&(D=new TextEncoder().encode(D));for(let M=0;M<D.length;M++)p[h++]=D[M],h===64&&f();E+=D.length},"add"),w=I(()=>{if(p[h++]=128,h==64&&f(),h+8>64){for(;h<64;)p[h++]=0;f()}for(;h<58;)p[h++]=0;let D=E*8;p[h++]=D/1099511627776&255,p[h++]=D/4294967296&255,p[h++]=D>>>24,p[h++]=D>>>16&255,p[h++]=D>>>8&255,p[h++]=D&255,f();let M=new Uint8Array(32);return M[0]=t>>>24,M[1]=t>>>16&255,M[2]=t>>>8&255,M[3]=t&255,M[4]=n>>>24,M[5]=n>>>16&255,M[6]=n>>>8&255,M[7]=n&255,M[8]=s>>>24,M[9]=s>>>16&255,M[10]=s>>>8&255,M[11]=s&255,M[12]=i>>>24,M[13]=i>>>16&255,M[14]=i>>>8&255,M[15]=i&255,M[16]=a>>>24,M[17]=a>>>16&255,M[18]=a>>>8&255,M[19]=a&255,M[20]=o>>>24,M[21]=o>>>16&255,M[22]=o>>>8&255,M[23]=o&255,M[24]=c>>>24,M[25]=c>>>16&255,M[26]=c>>>8&255,M[27]=c&255,M[28]=l>>>24,M[29]=l>>>16&255,M[30]=l>>>8&255,M[31]=l&255,M},"digest");return e===void 0?{add:d,digest:w}:(d(e),w())}var zS=Nt(()=>{_e(),I(us,"sha256")}),Jt,Va,JS=Nt(()=>{_e(),Jt=class wt{constructor(){Ae(this,"_dataLength",0),Ae(this,"_bufferLength",0),Ae(this,"_state",new Int32Array(4)),Ae(this,"_buffer",new ArrayBuffer(68)),Ae(this,"_buffer8"),Ae(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(t,n=!1){return this.onePassHasher.start().appendByteArray(t).end(n)}static hashStr(t,n=!1){return this.onePassHasher.start().appendStr(t).end(n)}static hashAsciiStr(t,n=!1){return this.onePassHasher.start().appendAsciiStr(t).end(n)}static _hex(t){let n=wt.hexChars,s=wt.hexOut,i,a,o,c;for(c=0;c<4;c+=1)for(a=c*8,i=t[c],o=0;o<8;o+=2)s[a+1+o]=n.charAt(i&15),i>>>=4,s[a+0+o]=n.charAt(i&15),i>>>=4;return s.join("")}static _md5cycle(t,n){let s=t[0],i=t[1],a=t[2],o=t[3];s+=(i&a|~i&o)+n[0]-680876936|0,s=(s<<7|s>>>25)+i|0,o+=(s&i|~s&a)+n[1]-389564586|0,o=(o<<12|o>>>20)+s|0,a+=(o&s|~o&i)+n[2]+606105819|0,a=(a<<17|a>>>15)+o|0,i+=(a&o|~a&s)+n[3]-1044525330|0,i=(i<<22|i>>>10)+a|0,s+=(i&a|~i&o)+n[4]-176418897|0,s=(s<<7|s>>>25)+i|0,o+=(s&i|~s&a)+n[5]+1200080426|0,o=(o<<12|o>>>20)+s|0,a+=(o&s|~o&i)+n[6]-1473231341|0,a=(a<<17|a>>>15)+o|0,i+=(a&o|~a&s)+n[7]-45705983|0,i=(i<<22|i>>>10)+a|0,s+=(i&a|~i&o)+n[8]+1770035416|0,s=(s<<7|s>>>25)+i|0,o+=(s&i|~s&a)+n[9]-1958414417|0,o=(o<<12|o>>>20)+s|0,a+=(o&s|~o&i)+n[10]-42063|0,a=(a<<17|a>>>15)+o|0,i+=(a&o|~a&s)+n[11]-1990404162|0,i=(i<<22|i>>>10)+a|0,s+=(i&a|~i&o)+n[12]+1804603682|0,s=(s<<7|s>>>25)+i|0,o+=(s&i|~s&a)+n[13]-40341101|0,o=(o<<12|o>>>20)+s|0,a+=(o&s|~o&i)+n[14]-1502002290|0,a=(a<<17|a>>>15)+o|0,i+=(a&o|~a&s)+n[15]+1236535329|0,i=(i<<22|i>>>10)+a|0,s+=(i&o|a&~o)+n[1]-165796510|0,s=(s<<5|s>>>27)+i|0,o+=(s&a|i&~a)+n[6]-1069501632|0,o=(o<<9|o>>>23)+s|0,a+=(o&i|s&~i)+n[11]+643717713|0,a=(a<<14|a>>>18)+o|0,i+=(a&s|o&~s)+n[0]-373897302|0,i=(i<<20|i>>>12)+a|0,s+=(i&o|a&~o)+n[5]-701558691|0,s=(s<<5|s>>>27)+i|0,o+=(s&a|i&~a)+n[10]+38016083|0,o=(o<<9|o>>>23)+s|0,a+=(o&i|s&~i)+n[15]-660478335|0,a=(a<<14|a>>>18)+o|0,i+=(a&s|o&~s)+n[4]-405537848|0,i=(i<<20|i>>>12)+a|0,s+=(i&o|a&~o)+n[9]+568446438|0,s=(s<<5|s>>>27)+i|0,o+=(s&a|i&~a)+n[14]-1019803690|0,o=(o<<9|o>>>23)+s|0,a+=(o&i|s&~i)+n[3]-187363961|0,a=(a<<14|a>>>18)+o|0,i+=(a&s|o&~s)+n[8]+1163531501|0,i=(i<<20|i>>>12)+a|0,s+=(i&o|a&~o)+n[13]-1444681467|0,s=(s<<5|s>>>27)+i|0,o+=(s&a|i&~a)+n[2]-51403784|0,o=(o<<9|o>>>23)+s|0,a+=(o&i|s&~i)+n[7]+1735328473|0,a=(a<<14|a>>>18)+o|0,i+=(a&s|o&~s)+n[12]-1926607734|0,i=(i<<20|i>>>12)+a|0,s+=(i^a^o)+n[5]-378558|0,s=(s<<4|s>>>28)+i|0,o+=(s^i^a)+n[8]-2022574463|0,o=(o<<11|o>>>21)+s|0,a+=(o^s^i)+n[11]+1839030562|0,a=(a<<16|a>>>16)+o|0,i+=(a^o^s)+n[14]-35309556|0,i=(i<<23|i>>>9)+a|0,s+=(i^a^o)+n[1]-1530992060|0,s=(s<<4|s>>>28)+i|0,o+=(s^i^a)+n[4]+1272893353|0,o=(o<<11|o>>>21)+s|0,a+=(o^s^i)+n[7]-155497632|0,a=(a<<16|a>>>16)+o|0,i+=(a^o^s)+n[10]-1094730640|0,i=(i<<23|i>>>9)+a|0,s+=(i^a^o)+n[13]+681279174|0,s=(s<<4|s>>>28)+i|0,o+=(s^i^a)+n[0]-358537222|0,o=(o<<11|o>>>21)+s|0,a+=(o^s^i)+n[3]-722521979|0,a=(a<<16|a>>>16)+o|0,i+=(a^o^s)+n[6]+76029189|0,i=(i<<23|i>>>9)+a|0,s+=(i^a^o)+n[9]-640364487|0,s=(s<<4|s>>>28)+i|0,o+=(s^i^a)+n[12]-421815835|0,o=(o<<11|o>>>21)+s|0,a+=(o^s^i)+n[15]+530742520|0,a=(a<<16|a>>>16)+o|0,i+=(a^o^s)+n[2]-995338651|0,i=(i<<23|i>>>9)+a|0,s+=(a^(i|~o))+n[0]-198630844|0,s=(s<<6|s>>>26)+i|0,o+=(i^(s|~a))+n[7]+1126891415|0,o=(o<<10|o>>>22)+s|0,a+=(s^(o|~i))+n[14]-1416354905|0,a=(a<<15|a>>>17)+o|0,i+=(o^(a|~s))+n[5]-57434055|0,i=(i<<21|i>>>11)+a|0,s+=(a^(i|~o))+n[12]+1700485571|0,s=(s<<6|s>>>26)+i|0,o+=(i^(s|~a))+n[3]-1894986606|0,o=(o<<10|o>>>22)+s|0,a+=(s^(o|~i))+n[10]-1051523|0,a=(a<<15|a>>>17)+o|0,i+=(o^(a|~s))+n[1]-2054922799|0,i=(i<<21|i>>>11)+a|0,s+=(a^(i|~o))+n[8]+1873313359|0,s=(s<<6|s>>>26)+i|0,o+=(i^(s|~a))+n[15]-30611744|0,o=(o<<10|o>>>22)+s|0,a+=(s^(o|~i))+n[6]-1560198380|0,a=(a<<15|a>>>17)+o|0,i+=(o^(a|~s))+n[13]+1309151649|0,i=(i<<21|i>>>11)+a|0,s+=(a^(i|~o))+n[4]-145523070|0,s=(s<<6|s>>>26)+i|0,o+=(i^(s|~a))+n[11]-1120210379|0,o=(o<<10|o>>>22)+s|0,a+=(s^(o|~i))+n[2]+718787259|0,a=(a<<15|a>>>17)+o|0,i+=(o^(a|~s))+n[9]-343485551|0,i=(i<<21|i>>>11)+a|0,t[0]=s+t[0]|0,t[1]=i+t[1]|0,t[2]=a+t[2]|0,t[3]=o+t[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(wt.stateIdentity),this}appendStr(t){let n=this._buffer8,s=this._buffer32,i=this._bufferLength,a,o;for(o=0;o<t.length;o+=1){if(a=t.charCodeAt(o),a<128)n[i++]=a;else if(a<2048)n[i++]=(a>>>6)+192,n[i++]=a&63|128;else if(a<55296||a>56319)n[i++]=(a>>>12)+224,n[i++]=a>>>6&63|128,n[i++]=a&63|128;else{if(a=(a-55296)*1024+(t.charCodeAt(++o)-56320)+65536,a>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");n[i++]=(a>>>18)+240,n[i++]=a>>>12&63|128,n[i++]=a>>>6&63|128,n[i++]=a&63|128}i>=64&&(this._dataLength+=64,wt._md5cycle(this._state,s),i-=64,s[0]=s[16])}return this._bufferLength=i,this}appendAsciiStr(t){let n=this._buffer8,s=this._buffer32,i=this._bufferLength,a,o=0;for(;;){for(a=Math.min(t.length-o,64-i);a--;)n[i++]=t.charCodeAt(o++);if(i<64)break;this._dataLength+=64,wt._md5cycle(this._state,s),i=0}return this._bufferLength=i,this}appendByteArray(t){let n=this._buffer8,s=this._buffer32,i=this._bufferLength,a,o=0;for(;;){for(a=Math.min(t.length-o,64-i);a--;)n[i++]=t[o++];if(i<64)break;this._dataLength+=64,wt._md5cycle(this._state,s),i=0}return this._bufferLength=i,this}getState(){let t=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}}setState(t){let n=t.buffer,s=t.state,i=this._state,a;for(this._dataLength=t.length,this._bufferLength=t.buflen,i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],a=0;a<n.length;a+=1)this._buffer8[a]=n.charCodeAt(a)}end(t=!1){let n=this._bufferLength,s=this._buffer8,i=this._buffer32,a=(n>>2)+1;this._dataLength+=n;let o=this._dataLength*8;if(s[n]=128,s[n+1]=s[n+2]=s[n+3]=0,i.set(wt.buffer32Identity.subarray(a),a),n>55&&(wt._md5cycle(this._state,i),i.set(wt.buffer32Identity)),o<=4294967295)i[14]=o;else{let c=o.toString(16).match(/(.*?)(.{0,8})$/);if(c===null)return;let l=parseInt(c[2],16),E=parseInt(c[1],16)||0;i[14]=l,i[15]=E}return wt._md5cycle(this._state,i),t?this._state:wt._hex(this._state)}},I(Jt,"Md5"),Ae(Jt,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),Ae(Jt,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Ae(Jt,"hexChars","0123456789abcdef"),Ae(Jt,"hexOut",[]),Ae(Jt,"onePassHasher",new Jt),Va=Jt}),qo={};Wt(qo,{createHash:()=>pp,createHmac:()=>dp,randomBytes:()=>up});function up(e){return dt.getRandomValues(ye.alloc(e))}function pp(e){if(e==="sha256")return{update:I(function(t){return{digest:I(function(){return ye.from(us(t))},"digest")}},"update")};if(e==="md5")return{update:I(function(t){return{digest:I(function(){return typeof t=="string"?Va.hashStr(t):Va.hashByteArray(t)},"digest")}},"update")};throw new Error(`Hash type '${e}' not supported`)}function dp(e,t){if(e!=="sha256")throw new Error(`Only sha256 is supported (requested: '${e}')`);return{update:I(function(n){return{digest:I(function(){typeof t=="string"&&(t=new TextEncoder().encode(t)),typeof n=="string"&&(n=new TextEncoder().encode(n));let s=t.length;if(s>64)t=us(t);else if(s<64){let l=new Uint8Array(64);l.set(t),t=l}let i=new Uint8Array(64),a=new Uint8Array(64);for(let l=0;l<64;l++)i[l]=54^t[l],a[l]=92^t[l];let o=new Uint8Array(n.length+64);o.set(i,0),o.set(n,64);let c=new Uint8Array(96);return c.set(a,0),c.set(us(o),64),ye.from(us(c))},"digest")}},"update")}}var fp=Nt(()=>{_e(),zS(),JS(),I(up,"randomBytes"),I(pp,"createHash"),I(dp,"createHmac")}),Ep=De(e=>{_e(),e.parse=function(i,a){return new n(i,a).parse()};var t=class hp{constructor(a,o){this.source=a,this.transform=o||s,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var a=this.source[this.position++];return a==="\\"?{value:this.source[this.position++],escaped:!0}:{value:a,escaped:!1}}record(a){this.recorded.push(a)}newEntry(a){var o;(this.recorded.length>0||a)&&(o=this.recorded.join(""),o==="NULL"&&!a&&(o=null),o!==null&&(o=this.transform(o)),this.entries.push(o),this.recorded=[])}consumeDimensions(){if(this.source[0]==="[")for(;!this.isEof();){var a=this.nextCharacter();if(a.value==="=")break}}parse(a){var o,c,l;for(this.consumeDimensions();!this.isEof();)if(o=this.nextCharacter(),o.value==="{"&&!l)this.dimension++,this.dimension>1&&(c=new hp(this.source.substr(this.position-1),this.transform),this.entries.push(c.parse(!0)),this.position+=c.position-2);else if(o.value==="}"&&!l){if(this.dimension--,!this.dimension&&(this.newEntry(),a))return this.entries}else o.value==='"'&&!o.escaped?(l&&this.newEntry(!0),l=!l):o.value===","&&!l?this.newEntry():this.record(o.value);if(this.dimension!==0)throw new Error("array dimension not balanced");return this.entries}};I(t,"ArrayParser");var n=t;function s(i){return i}I(s,"identity")}),gp=De((e,t)=>{_e();var n=Ep();t.exports={create:I(function(s,i){return{parse:I(function(){return n.parse(s,i)},"parse")}},"create")}}),ZS=De((e,t)=>{_e();var n=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,s=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,i=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,a=/^-?infinity$/;t.exports=I(function(h){if(a.test(h))return Number(h.replace("i","I"));var g=n.exec(h);if(!g)return o(h)||null;var S=!!g[8],A=parseInt(g[1],10);S&&(A=l(A));var p=parseInt(g[2],10)-1,f=g[3],d=parseInt(g[4],10),w=parseInt(g[5],10),D=parseInt(g[6],10),M=g[7];M=M?1e3*parseFloat(M):0;var V,j=c(h);return j!=null?(V=new Date(Date.UTC(A,p,f,d,w,D,M)),E(A)&&V.setUTCFullYear(A),j!==0&&V.setTime(V.getTime()-j)):(V=new Date(A,p,f,d,w,D,M),E(A)&&V.setFullYear(A)),V},"parseDate");function o(h){var g=s.exec(h);if(g){var S=parseInt(g[1],10),A=!!g[4];A&&(S=l(S));var p=parseInt(g[2],10)-1,f=g[3],d=new Date(S,p,f);return E(S)&&d.setFullYear(S),d}}I(o,"getDate");function c(h){if(h.endsWith("+00"))return 0;var g=i.exec(h.split(" ")[1]);if(g){var S=g[1];if(S==="Z")return 0;var A=S==="-"?-1:1,p=parseInt(g[2],10)*3600+parseInt(g[3]||0,10)*60+parseInt(g[4]||0,10);return p*A*1e3}}I(c,"timeZoneOffset");function l(h){return-(h-1)}I(l,"bcYearToNegativeYear");function E(h){return h>=0&&h<100}I(E,"is0To99")}),eR=De((e,t)=>{_e(),t.exports=s;var n=Object.prototype.hasOwnProperty;function s(i){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var c in o)n.call(o,c)&&(i[c]=o[c])}return i}I(s,"extend")}),tR=De((e,t)=>{_e();var n=eR();t.exports=s;function s(D){if(!(this instanceof s))return new s(D);n(this,w(D))}I(s,"PostgresInterval");var i=["seconds","minutes","hours","days","months","years"];s.prototype.toPostgres=function(){var D=i.filter(this.hasOwnProperty,this);return this.milliseconds&&D.indexOf("seconds")<0&&D.push("seconds"),D.length===0?"0":D.map(function(M){var V=this[M]||0;return M==="seconds"&&this.milliseconds&&(V=(V+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),V+" "+M},this).join(" ")};var a={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},o=["years","months","days"],c=["hours","minutes","seconds"];s.prototype.toISOString=s.prototype.toISO=function(){var D=o.map(V,this).join(""),M=c.map(V,this).join("");return"P"+D+"T"+M;function V(j){var C=this[j]||0;return j==="seconds"&&this.milliseconds&&(C=(C+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),C+a[j]}};var l="([+-]?\\d+)",E=l+"\\s+years?",h=l+"\\s+mons?",g=l+"\\s+days?",S="([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?",A=new RegExp([E,h,g,S].map(function(D){return"("+D+")?"}).join("\\s*")),p={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},f=["hours","minutes","seconds","milliseconds"];function d(D){var M=D+"000000".slice(D.length);return parseInt(M,10)/1e3}I(d,"parseMilliseconds");function w(D){if(!D)return{};var M=A.exec(D),V=M[8]==="-";return Object.keys(p).reduce(function(j,C){var W=p[C],B=M[W];return!B||(B=C==="milliseconds"?d(B):parseInt(B,10),!B)||(V&&~f.indexOf(C)&&(B*=-1),j[C]=B),j},{})}I(w,"parse")}),nR=De((e,t)=>{_e(),t.exports=I(function(n){if(/^\\x/.test(n))return new ye(n.substr(2),"hex");for(var s="",i=0;i<n.length;)if(n[i]!=="\\")s+=n[i],++i;else if(/[0-7]{3}/.test(n.substr(i+1,3)))s+=String.fromCharCode(parseInt(n.substr(i+1,3),8)),i+=4;else{for(var a=1;i+a<n.length&&n[i+a]==="\\";)a++;for(var o=0;o<Math.floor(a/2);++o)s+="\\";i+=Math.floor(a/2)*2}return new ye(s,"binary")},"parseBytea")}),rR=De((e,t)=>{_e();var n=Ep(),s=gp(),i=ZS(),a=tR(),o=nR();function c(F){return I(function(H){return H===null?H:F(H)},"nullAllowed")}I(c,"allowNull");function l(F){return F===null?F:F==="TRUE"||F==="t"||F==="true"||F==="y"||F==="yes"||F==="on"||F==="1"}I(l,"parseBool");function E(F){return F?n.parse(F,l):null}I(E,"parseBoolArray");function h(F){return parseInt(F,10)}I(h,"parseBaseTenInt");function g(F){return F?n.parse(F,c(h)):null}I(g,"parseIntegerArray");function S(F){return F?n.parse(F,c(function(H){return V(H).trim()})):null}I(S,"parseBigIntegerArray");var A=I(function(F){if(!F)return null;var H=s.create(F,function(Y){return Y!==null&&(Y=C(Y)),Y});return H.parse()},"parsePointArray"),p=I(function(F){if(!F)return null;var H=s.create(F,function(Y){return Y!==null&&(Y=parseFloat(Y)),Y});return H.parse()},"parseFloatArray"),f=I(function(F){if(!F)return null;var H=s.create(F);return H.parse()},"parseStringArray"),d=I(function(F){if(!F)return null;var H=s.create(F,function(Y){return Y!==null&&(Y=i(Y)),Y});return H.parse()},"parseDateArray"),w=I(function(F){if(!F)return null;var H=s.create(F,function(Y){return Y!==null&&(Y=a(Y)),Y});return H.parse()},"parseIntervalArray"),D=I(function(F){return F?n.parse(F,c(o)):null},"parseByteAArray"),M=I(function(F){return parseInt(F,10)},"parseInteger"),V=I(function(F){var H=String(F);return/^\d+$/.test(H)?H:F},"parseBigInteger"),j=I(function(F){return F?n.parse(F,c(JSON.parse)):null},"parseJsonArray"),C=I(function(F){return F[0]!=="("?null:(F=F.substring(1,F.length-1).split(","),{x:parseFloat(F[0]),y:parseFloat(F[1])})},"parsePoint"),W=I(function(F){if(F[0]!=="<"&&F[1]!=="(")return null;for(var H="(",Y="",te=!1,ue=2;ue<F.length-1;ue++){if(te||(H+=F[ue]),F[ue]===")"){te=!0;continue}else if(!te)continue;F[ue]!==","&&(Y+=F[ue])}var z=C(H);return z.radius=parseFloat(Y),z},"parseCircle"),B=I(function(F){F(20,V),F(21,M),F(23,M),F(26,M),F(700,parseFloat),F(701,parseFloat),F(16,l),F(1082,i),F(1114,i),F(1184,i),F(600,C),F(651,f),F(718,W),F(1e3,E),F(1001,D),F(1005,g),F(1007,g),F(1028,g),F(1016,S),F(1017,A),F(1021,p),F(1022,p),F(1231,p),F(1014,f),F(1015,f),F(1008,f),F(1009,f),F(1040,f),F(1041,f),F(1115,d),F(1182,d),F(1185,d),F(1186,a),F(1187,w),F(17,o),F(114,JSON.parse.bind(JSON)),F(3802,JSON.parse.bind(JSON)),F(199,j),F(3807,j),F(3907,f),F(2951,f),F(791,f),F(1183,f),F(1270,f)},"init");t.exports={init:B}}),sR=De((e,t)=>{_e();var n=1e6;function s(i){var a=i.readInt32BE(0),o=i.readUInt32BE(4),c="";a<0&&(a=~a+(o===0),o=~o+1>>>0,c="-");var l="",E,h,g,S,A,p;{if(E=a%n,a=a/n>>>0,h=4294967296*E+o,o=h/n>>>0,g=""+(h-n*o),o===0&&a===0)return c+g+l;for(S="",A=6-g.length,p=0;p<A;p++)S+="0";l=S+g+l}{if(E=a%n,a=a/n>>>0,h=4294967296*E+o,o=h/n>>>0,g=""+(h-n*o),o===0&&a===0)return c+g+l;for(S="",A=6-g.length,p=0;p<A;p++)S+="0";l=S+g+l}{if(E=a%n,a=a/n>>>0,h=4294967296*E+o,o=h/n>>>0,g=""+(h-n*o),o===0&&a===0)return c+g+l;for(S="",A=6-g.length,p=0;p<A;p++)S+="0";l=S+g+l}return E=a%n,h=4294967296*E+o,g=""+h%n,c+g+l}I(s,"readInt8"),t.exports=s}),iR=De((e,t)=>{_e();var n=sR(),s=I(function(f,d,w,D,M){w=w||0,D=D||!1,M=M||function(te,ue,z){return te*Math.pow(2,z)+ue};var V=w>>3,j=I(function(te){return D?~te&255:te},"inv"),C=255,W=8-w%8;d<W&&(C=255<<8-d&255,W=d),w&&(C=C>>w%8);var B=0;w%8+d>=8&&(B=M(0,j(f[V])&C,W));for(var F=d+w>>3,H=V+1;H<F;H++)B=M(B,j(f[H]),8);var Y=(d+w)%8;return Y>0&&(B=M(B,j(f[F])>>8-Y,Y)),B},"parseBits"),i=I(function(f,d,w){var D=Math.pow(2,w-1)-1,M=s(f,1),V=s(f,w,1);if(V===0)return 0;var j=1,C=I(function(B,F,H){B===0&&(B=1);for(var Y=1;Y<=H;Y++)j/=2,(F&1<<H-Y)>0&&(B+=j);return B},"parsePrecisionBits"),W=s(f,d,w+1,!1,C);return V==Math.pow(2,w+1)-1?W===0?M===0?1/0:-1/0:NaN:(M===0?1:-1)*Math.pow(2,V-D)*W},"parseFloatFromBits"),a=I(function(f){return s(f,1)==1?-1*(s(f,15,1,!0)+1):s(f,15,1)},"parseInt16"),o=I(function(f){return s(f,1)==1?-1*(s(f,31,1,!0)+1):s(f,31,1)},"parseInt32"),c=I(function(f){return i(f,23,8)},"parseFloat32"),l=I(function(f){return i(f,52,11)},"parseFloat64"),E=I(function(f){var d=s(f,16,32);if(d==49152)return NaN;for(var w=Math.pow(1e4,s(f,16,16)),D=0,M=[],V=s(f,16),j=0;j<V;j++)D+=s(f,16,64+16*j)*w,w/=1e4;var C=Math.pow(10,s(f,16,48));return(d===0?1:-1)*Math.round(D*C)/C},"parseNumeric"),h=I(function(f,d){var w=s(d,1),D=s(d,63,1),M=new Date((w===0?1:-1)*D/1e3+9466848e5);return f||M.setTime(M.getTime()+M.getTimezoneOffset()*6e4),M.usec=D%1e3,M.getMicroSeconds=function(){return this.usec},M.setMicroSeconds=function(V){this.usec=V},M.getUTCMicroSeconds=function(){return this.usec},M},"parseDate"),g=I(function(f){for(var d=s(f,32),w=s(f,32,32),D=s(f,32,64),M=96,V=[],j=0;j<d;j++)V[j]=s(f,32,M),M+=32,M+=32;var C=I(function(B){var F=s(f,32,M);if(M+=32,F==4294967295)return null;var H;if(B==23||B==20)return H=s(f,F*8,M),M+=F*8,H;if(B==25)return H=f.toString(this.encoding,M>>3,(M+=F<<3)>>3),H;console.log("ERROR: ElementType not implemented: "+B)},"parseElement"),W=I(function(B,F){var H=[],Y;if(B.length>1){var te=B.shift();for(Y=0;Y<te;Y++)H[Y]=W(B,F);B.unshift(te)}else for(Y=0;Y<B[0];Y++)H[Y]=C(F);return H},"parse");return W(V,D)},"parseArray"),S=I(function(f){return f.toString("utf8")},"parseText"),A=I(function(f){return f===null?null:s(f,8)>0},"parseBool"),p=I(function(f){f(20,n),f(21,a),f(23,o),f(26,o),f(1700,E),f(700,c),f(701,l),f(16,A),f(1114,h.bind(null,!1)),f(1184,h.bind(null,!0)),f(1e3,g),f(1007,g),f(1016,g),f(1008,g),f(1009,g),f(25,S)},"init");t.exports={init:p}}),aR=De((e,t)=>{_e(),t.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),ki=De(e=>{_e();var t=rR(),n=iR(),s=gp(),i=aR();e.getTypeParser=c,e.setTypeParser=l,e.arrayParser=s,e.builtins=i;var a={text:{},binary:{}};function o(E){return String(E)}I(o,"noParse");function c(E,h){return h=h||"text",a[h]&&a[h][E]||o}I(c,"getTypeParser");function l(E,h,g){typeof h=="function"&&(g=h,h="text"),a[h][E]=g}I(l,"setTypeParser"),t.init(function(E,h){a.text[E]=h}),n.init(function(E,h){a.binary[E]=h})}),Hi=De((e,t)=>{_e(),t.exports={host:"localhost",user:we.platform==="win32"?we.env.USERNAME:we.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var n=ki(),s=n.getTypeParser(20,"text"),i=n.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(a){n.setTypeParser(20,"text",a?n.getTypeParser(23,"text"):s),n.setTypeParser(1016,"text",a?n.getTypeParser(1007,"text"):i)})}),Bi=De((e,t)=>{_e();var n=(fp(),at(qo)),s=Hi();function i(p){var f=p.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return'"'+f+'"'}I(i,"escapeElement");function a(p){for(var f="{",d=0;d<p.length;d++)d>0&&(f=f+","),p[d]===null||typeof p[d]>"u"?f=f+"NULL":Array.isArray(p[d])?f=f+a(p[d]):p[d]instanceof ye?f+="\\\\x"+p[d].toString("hex"):f+=i(o(p[d]));return f=f+"}",f}I(a,"arrayString");var o=I(function(p,f){if(p==null)return null;if(p instanceof ye)return p;if(ArrayBuffer.isView(p)){var d=ye.from(p.buffer,p.byteOffset,p.byteLength);return d.length===p.byteLength?d:d.slice(p.byteOffset,p.byteOffset+p.byteLength)}return p instanceof Date?s.parseInputDatesAsUTC?h(p):E(p):Array.isArray(p)?a(p):typeof p=="object"?c(p,f):p.toString()},"prepareValue");function c(p,f){if(p&&typeof p.toPostgres=="function"){if(f=f||[],f.indexOf(p)!==-1)throw new Error('circular reference detected while preparing "'+p+'" for query');return f.push(p),o(p.toPostgres(o),f)}return JSON.stringify(p)}I(c,"prepareObject");function l(p,f){for(p=""+p;p.length<f;)p="0"+p;return p}I(l,"pad");function E(p){var f=-p.getTimezoneOffset(),d=p.getFullYear(),w=d<1;w&&(d=Math.abs(d)+1);var D=l(d,4)+"-"+l(p.getMonth()+1,2)+"-"+l(p.getDate(),2)+"T"+l(p.getHours(),2)+":"+l(p.getMinutes(),2)+":"+l(p.getSeconds(),2)+"."+l(p.getMilliseconds(),3);return f<0?(D+="-",f*=-1):D+="+",D+=l(Math.floor(f/60),2)+":"+l(f%60,2),w&&(D+=" BC"),D}I(E,"dateToString");function h(p){var f=p.getUTCFullYear(),d=f<1;d&&(f=Math.abs(f)+1);var w=l(f,4)+"-"+l(p.getUTCMonth()+1,2)+"-"+l(p.getUTCDate(),2)+"T"+l(p.getUTCHours(),2)+":"+l(p.getUTCMinutes(),2)+":"+l(p.getUTCSeconds(),2)+"."+l(p.getUTCMilliseconds(),3);return w+="+00:00",d&&(w+=" BC"),w}I(h,"dateToStringUTC");function g(p,f,d){return p=typeof p=="string"?{text:p}:p,f&&(typeof f=="function"?p.callback=f:p.values=f),d&&(p.callback=d),p}I(g,"normalizeQueryConfig");var S=I(function(p){return n.createHash("md5").update(p,"utf-8").digest("hex")},"md5"),A=I(function(p,f,d){var w=S(f+p),D=S(ye.concat([ye.from(w),d]));return"md5"+D},"postgresMd5PasswordHash");t.exports={prepareValue:I(function(p){return o(p)},"prepareValueWrapper"),normalizeQueryConfig:g,postgresMd5PasswordHash:A,md5:S}}),oR=De((e,t)=>{_e();var n=(fp(),at(qo));function s(f){if(f.indexOf("SCRAM-SHA-256")===-1)throw new Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let d=n.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:d,response:"n,,n=*,r="+d,message:"SASLInitialResponse"}}I(s,"startSession");function i(f,d,w){if(f.message!=="SASLInitialResponse")throw new Error("SASL: Last message was not SASLInitialResponse");if(typeof d!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if(typeof w!="string")throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let D=E(w);if(D.nonce.startsWith(f.clientNonce)){if(D.nonce.length===f.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var M=ye.from(D.salt,"base64"),V=p(d,M,D.iteration),j=A(V,"Client Key"),C=S(j),W="n=*,r="+f.clientNonce,B="r="+D.nonce+",s="+D.salt+",i="+D.iteration,F="c=biws,r="+D.nonce,H=W+","+B+","+F,Y=A(C,H),te=g(j,Y),ue=te.toString("base64"),z=A(V,"Server Key"),ie=A(z,H);f.message="SASLResponse",f.serverSignature=ie.toString("base64"),f.response=F+",p="+ue}I(i,"continueSession");function a(f,d){if(f.message!=="SASLResponse")throw new Error("SASL: Last message was not SASLResponse");if(typeof d!="string")throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:w}=h(d);if(w!==f.serverSignature)throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}I(a,"finalizeSession");function o(f){if(typeof f!="string")throw new TypeError("SASL: text must be a string");return f.split("").map((d,w)=>f.charCodeAt(w)).every(d=>d>=33&&d<=43||d>=45&&d<=126)}I(o,"isPrintableChars");function c(f){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(f)}I(c,"isBase64");function l(f){if(typeof f!="string")throw new TypeError("SASL: attribute pairs text must be a string");return new Map(f.split(",").map(d=>{if(!/^.=/.test(d))throw new Error("SASL: Invalid attribute pair entry");let w=d[0],D=d.substring(2);return[w,D]}))}I(l,"parseAttributePairs");function E(f){let d=l(f),w=d.get("r");if(w){if(!o(w))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let D=d.get("s");if(D){if(!c(D))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let M=d.get("i");if(M){if(!/^[1-9][0-9]*$/.test(M))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");let V=parseInt(M,10);return{nonce:w,salt:D,iteration:V}}I(E,"parseServerFirstMessage");function h(f){let d=l(f).get("v");if(d){if(!c(d))throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw new Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:d}}I(h,"parseServerFinalMessage");function g(f,d){if(!ye.isBuffer(f))throw new TypeError("first argument must be a Buffer");if(!ye.isBuffer(d))throw new TypeError("second argument must be a Buffer");if(f.length!==d.length)throw new Error("Buffer lengths must match");if(f.length===0)throw new Error("Buffers cannot be empty");return ye.from(f.map((w,D)=>f[D]^d[D]))}I(g,"xorBuffers");function S(f){return n.createHash("sha256").update(f).digest()}I(S,"sha256");function A(f,d){return n.createHmac("sha256",f).update(d).digest()}I(A,"hmacSha256");function p(f,d,w){for(var D=A(f,ye.concat([d,ye.from([0,0,0,1])])),M=D,V=0;V<w-1;V++)D=A(f,D),M=g(M,D);return M}I(p,"Hi"),t.exports={startSession:s,continueSession:i,finalizeSession:a}}),Yo={};Wt(Yo,{join:()=>mp});function mp(...e){return e.join("/")}var _p=Nt(()=>{_e(),I(mp,"join")}),jo={};Wt(jo,{stat:()=>Tp});function Tp(e,t){t(new Error("No filesystem"))}var Sp=Nt(()=>{_e(),I(Tp,"stat")}),$o={};Wt($o,{default:()=>Rp});var Rp,Ap=Nt(()=>{_e(),Rp={}}),yp={};Wt(yp,{StringDecoder:()=>Np});var aa,Np,cR=Nt(()=>{_e(),aa=class{constructor(t){Ae(this,"td"),this.td=new TextDecoder(t)}write(t){return this.td.decode(t,{stream:!0})}end(t){return this.td.decode(t)}},I(aa,"StringDecoder"),Np=aa}),lR=De((e,t)=>{_e();var{Transform:n}=(Ap(),at($o)),{StringDecoder:s}=(cR(),at(yp)),i=Symbol("last"),a=Symbol("decoder");function o(g,S,A){let p;if(this.overflow){if(p=this[a].write(g).split(this.matcher),p.length===1)return A();p.shift(),this.overflow=!1}else this[i]+=this[a].write(g),p=this[i].split(this.matcher);this[i]=p.pop();for(let f=0;f<p.length;f++)try{l(this,this.mapper(p[f]))}catch(d){return A(d)}if(this.overflow=this[i].length>this.maxLength,this.overflow&&!this.skipOverflow){A(new Error("maximum buffer reached"));return}A()}I(o,"transform");function c(g){if(this[i]+=this[a].end(),this[i])try{l(this,this.mapper(this[i]))}catch(S){return g(S)}g()}I(c,"flush");function l(g,S){S!==void 0&&g.push(S)}I(l,"push");function E(g){return g}I(E,"noop");function h(g,S,A){switch(g=g||/\r?\n/,S=S||E,A=A||{},arguments.length){case 1:typeof g=="function"?(S=g,g=/\r?\n/):typeof g=="object"&&!(g instanceof RegExp)&&!g[Symbol.split]&&(A=g,g=/\r?\n/);break;case 2:typeof g=="function"?(A=S,S=g,g=/\r?\n/):typeof S=="object"&&(A=S,S=E)}A=Object.assign({},A),A.autoDestroy=!0,A.transform=o,A.flush=c,A.readableObjectMode=!0;let p=new n(A);return p[i]="",p[a]=new s("utf8"),p.matcher=g,p.mapper=S,p.maxLength=A.maxLength,p.skipOverflow=A.skipOverflow||!1,p.overflow=!1,p._destroy=function(f,d){this._writableState.errorEmitted=!1,d(f)},p}I(h,"split"),t.exports=h}),uR=De((e,t)=>{_e();var n=(_p(),at(Yo)),s=(Ap(),at($o)).Stream,i=lR(),a=(xi(),at(bs)),o=5432,c=we.platform==="win32",l=we.stderr,E=56,h=7,g=61440,S=32768;function A(j){return(j&g)==S}I(A,"isRegFile");var p=["host","port","database","user","password"],f=p.length,d=p[f-1];function w(){var j=l instanceof s&&l.writable===!0;if(j){var C=Array.prototype.slice.call(arguments).concat(`
`);l.write(a.format.apply(a,C))}}I(w,"warn"),Object.defineProperty(t.exports,"isWin",{get:I(function(){return c},"get"),set:I(function(j){c=j},"set")}),t.exports.warnTo=function(j){var C=l;return l=j,C},t.exports.getFileName=function(j){var C=j||we.env,W=C.PGPASSFILE||(c?n.join(C.APPDATA||"./","postgresql","pgpass.conf"):n.join(C.HOME||"./",".pgpass"));return W},t.exports.usePgPass=function(j,C){return Object.prototype.hasOwnProperty.call(we.env,"PGPASSWORD")?!1:c?!0:(C=C||"<unkn>",A(j.mode)?j.mode&(E|h)?(w('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',C),!1):!0:(w('WARNING: password file "%s" is not a plain file',C),!1))};var D=t.exports.match=function(j,C){return p.slice(0,-1).reduce(function(W,B,F){return F==1&&Number(j[B]||o)===Number(C[B])?W&&!0:W&&(C[B]==="*"||C[B]===j[B])},!0)};t.exports.getPassword=function(j,C,W){var B,F=C.pipe(i());function H(ue){var z=M(ue);z&&V(z)&&D(j,z)&&(B=z[d],F.end())}I(H,"onLine");var Y=I(function(){C.destroy(),W(B)},"onEnd"),te=I(function(ue){C.destroy(),w("WARNING: error on reading file: %s",ue),W(void 0)},"onErr");C.on("error",te),F.on("data",H).on("end",Y).on("error",te)};var M=t.exports.parseLine=function(j){if(j.length<11||j.match(/^\s+#/))return null;for(var C="",W="",B=0,F=0,H=0,Y={},te=!1,ue=I(function(ie,pe,Ee){var Se=j.substring(pe,Ee);Object.hasOwnProperty.call(we.env,"PGPASS_NO_DEESCAPE")||(Se=Se.replace(/\\([:\\])/g,"$1")),Y[p[ie]]=Se},"addToObj"),z=0;z<j.length-1;z+=1){if(C=j.charAt(z+1),W=j.charAt(z),te=B==f-1,te){ue(B,F);break}z>=0&&C==":"&&W!=="\\"&&(ue(B,F,z+1),F=z+2,B+=1)}return Y=Object.keys(Y).length===f?Y:null,Y},V=t.exports.isValidEntry=function(j){for(var C={0:function(Y){return Y.length>0},1:function(Y){return Y==="*"?!0:(Y=Number(Y),isFinite(Y)&&Y>0&&Y<9007199254740992&&Math.floor(Y)===Y)},2:function(Y){return Y.length>0},3:function(Y){return Y.length>0},4:function(Y){return Y.length>0}},W=0;W<p.length;W+=1){var B=C[W],F=j[p[W]]||"",H=B(F);if(!H)return!1}return!0}}),pR=De((e,t)=>{_e(),_p(),at(Yo);var n=(Sp(),at(jo)),s=uR();t.exports=function(i,a){var o=s.getFileName();n.stat(o,function(c,l){if(c||!s.usePgPass(l,o))return a(void 0);var E=n.createReadStream(o);s.getPassword(i,E,a)})},t.exports.warnTo=s.warnTo}),Vo=De((e,t)=>{_e();var n=ki();function s(i){this._types=i||n,this.text={},this.binary={}}I(s,"TypeOverrides"),s.prototype.getOverrides=function(i){switch(i){case"text":return this.text;case"binary":return this.binary;default:return{}}},s.prototype.setTypeParser=function(i,a,o){typeof a=="function"&&(o=a,a="text"),this.getOverrides(a)[i]=o},s.prototype.getTypeParser=function(i,a){return a=a||"text",this.getOverrides(a)[i]||this._types.getTypeParser(i,a)},t.exports=s}),vp={};Wt(vp,{default:()=>Ip});var Ip,dR=Nt(()=>{_e(),Ip={}}),Op={};Wt(Op,{parse:()=>Xo});function Xo(e,t=!1){let{protocol:n}=new URL(e),s="http:"+e.substring(n.length),{username:i,password:a,host:o,hostname:c,port:l,pathname:E,search:h,searchParams:g,hash:S}=new URL(s);a=decodeURIComponent(a),i=decodeURIComponent(i),E=decodeURIComponent(E);let A=i+":"+a,p=t?Object.fromEntries(g.entries()):h;return{href:e,protocol:n,auth:A,username:i,password:a,host:o,hostname:c,port:l,pathname:E,search:h,query:p,hash:S}}var bp=Nt(()=>{_e(),I(Xo,"parse")}),fR=De((e,t)=>{_e();var n=(bp(),at(Op)),s=(Sp(),at(jo));function i(a){if(a.charAt(0)==="/"){var c=a.split(" ");return{host:c[0],database:c[1]}}var o=n.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(a)?encodeURI(a).replace(/\%25(\d\d)/g,"%$1"):a,!0),c=o.query;for(var l in c)Array.isArray(c[l])&&(c[l]=c[l][c[l].length-1]);var E=(o.auth||":").split(":");if(c.user=E[0],c.password=E.splice(1).join(":"),c.port=o.port,o.protocol=="socket:")return c.host=decodeURI(o.pathname),c.database=o.query.db,c.client_encoding=o.query.encoding,c;c.host||(c.host=o.hostname);var h=o.pathname;if(!c.host&&h&&/^%2f/i.test(h)){var g=h.split("/");c.host=decodeURIComponent(g[0]),h=g.splice(1).join("/")}switch(h&&h.charAt(0)==="/"&&(h=h.slice(1)||null),c.database=h&&decodeURI(h),(c.ssl==="true"||c.ssl==="1")&&(c.ssl=!0),c.ssl==="0"&&(c.ssl=!1),(c.sslcert||c.sslkey||c.sslrootcert||c.sslmode)&&(c.ssl={}),c.sslcert&&(c.ssl.cert=s.readFileSync(c.sslcert).toString()),c.sslkey&&(c.ssl.key=s.readFileSync(c.sslkey).toString()),c.sslrootcert&&(c.ssl.ca=s.readFileSync(c.sslrootcert).toString()),c.sslmode){case"disable":{c.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{c.ssl.rejectUnauthorized=!1;break}}return c}I(i,"parse"),t.exports=i,i.parse=i}),Qo=De((e,t)=>{_e();var n=(dR(),at(vp)),s=Hi(),i=fR().parse,a=I(function(g,S,A){return A===void 0?A=we.env["PG"+g.toUpperCase()]:A===!1||(A=we.env[A]),S[g]||A||s[g]},"val"),o=I(function(){switch(we.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return s.ssl},"readSSLConfigFromEnvironment"),c=I(function(g){return"'"+(""+g).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),l=I(function(g,S,A){var p=S[A];p!=null&&g.push(A+"="+c(p))},"add"),E=class{constructor(S){S=typeof S=="string"?i(S):S||{},S.connectionString&&(S=Object.assign({},S,i(S.connectionString))),this.user=a("user",S),this.database=a("database",S),this.database===void 0&&(this.database=this.user),this.port=parseInt(a("port",S),10),this.host=a("host",S),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:a("password",S)}),this.binary=a("binary",S),this.options=a("options",S),this.ssl=typeof S.ssl>"u"?o():S.ssl,typeof this.ssl=="string"&&this.ssl==="true"&&(this.ssl=!0),this.ssl==="no-verify"&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=a("client_encoding",S),this.replication=a("replication",S),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=a("application_name",S,"PGAPPNAME"),this.fallback_application_name=a("fallback_application_name",S,!1),this.statement_timeout=a("statement_timeout",S,!1),this.lock_timeout=a("lock_timeout",S,!1),this.idle_in_transaction_session_timeout=a("idle_in_transaction_session_timeout",S,!1),this.query_timeout=a("query_timeout",S,!1),S.connectionTimeoutMillis===void 0?this.connect_timeout=we.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(S.connectionTimeoutMillis/1e3),S.keepAlive===!1?this.keepalives=0:S.keepAlive===!0&&(this.keepalives=1),typeof S.keepAliveInitialDelayMillis=="number"&&(this.keepalives_idle=Math.floor(S.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(S){var A=[];l(A,this,"user"),l(A,this,"password"),l(A,this,"port"),l(A,this,"application_name"),l(A,this,"fallback_application_name"),l(A,this,"connect_timeout"),l(A,this,"options");var p=typeof this.ssl=="object"?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(l(A,p,"sslmode"),l(A,p,"sslca"),l(A,p,"sslkey"),l(A,p,"sslcert"),l(A,p,"sslrootcert"),this.database&&A.push("dbname="+c(this.database)),this.replication&&A.push("replication="+c(this.replication)),this.host&&A.push("host="+c(this.host)),this.isDomainSocket)return S(null,A.join(" "));this.client_encoding&&A.push("client_encoding="+c(this.client_encoding)),n.lookup(this.host,function(f,d){return f?S(f,null):(A.push("hostaddr="+c(d)),S(null,A.join(" ")))})}};I(E,"ConnectionParameters");var h=E;t.exports=h}),ER=De((e,t)=>{_e();var n=ki(),s=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,i=class{constructor(c,l){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=l,this.RowCtor=null,this.rowAsArray=c==="array",this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(c){var l;c.text?l=s.exec(c.text):l=s.exec(c.command),l&&(this.command=l[1],l[3]?(this.oid=parseInt(l[2],10),this.rowCount=parseInt(l[3],10)):l[2]&&(this.rowCount=parseInt(l[2],10)))}_parseRowAsArray(c){for(var l=new Array(c.length),E=0,h=c.length;E<h;E++){var g=c[E];g!==null?l[E]=this._parsers[E](g):l[E]=null}return l}parseRow(c){for(var l={},E=0,h=c.length;E<h;E++){var g=c[E],S=this.fields[E].name;g!==null?l[S]=this._parsers[E](g):l[S]=null}return l}addRow(c){this.rows.push(c)}addFields(c){this.fields=c,this.fields.length&&(this._parsers=new Array(c.length));for(var l=0;l<c.length;l++){var E=c[l];this._types?this._parsers[l]=this._types.getTypeParser(E.dataTypeID,E.format||"text"):this._parsers[l]=n.getTypeParser(E.dataTypeID,E.format||"text")}}};I(i,"Result");var a=i;t.exports=a}),hR=De((e,t)=>{_e();var{EventEmitter:n}=sr(),s=ER(),i=Bi(),a=class extends n{constructor(l,E,h){super(),l=i.normalizeQueryConfig(l,E,h),this.text=l.text,this.values=l.values,this.rows=l.rows,this.types=l.types,this.name=l.name,this.binary=l.binary,this.portal=l.portal||"",this.callback=l.callback,this._rowMode=l.rowMode,we.domain&&l.callback&&(this.callback=we.domain.bind(l.callback)),this._result=new s(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return this.name||this.rows?!0:!this.text||!this.values?!1:this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new s(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(l){this._checkForMultirow(),this._result.addFields(l.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(l){let E;if(!this._canceledDueToError){try{E=this._result.parseRow(l.fields)}catch(h){this._canceledDueToError=h;return}this.emit("row",E,this._result),this._accumulateRows&&this._result.addRow(E)}}handleCommandComplete(l,E){this._checkForMultirow(),this._result.addCommandComplete(l),this.rows&&E.sync()}handleEmptyQuery(l){this.rows&&l.sync()}handleError(l,E){if(this._canceledDueToError&&(l=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(l);this.emit("error",l)}handleReadyForQuery(l){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,l);if(this.callback)try{this.callback(null,this._results)}catch(E){we.nextTick(()=>{throw E})}this.emit("end",this._results)}submit(l){if(typeof this.text!="string"&&typeof this.name!="string")return new Error("A query must have either text or a name. Supplying neither is unsupported.");let E=l.parsedStatements[this.name];return this.text&&E&&this.text!==E?new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?new Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(l):l.query(this.text),null)}hasBeenParsed(l){return this.name&&l.parsedStatements[this.name]}handlePortalSuspended(l){this._getRows(l,this.rows)}_getRows(l,E){l.execute({portal:this.portal,rows:E}),E?l.flush():l.sync()}prepare(l){this.isPreparedStatement=!0,this.hasBeenParsed(l)||l.parse({text:this.text,name:this.name,types:this.types});try{l.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:i.prepareValue})}catch(E){this.handleError(E,l);return}l.describe({type:"P",name:this.portal||""}),this._getRows(l,this.rows)}handleCopyInResponse(l){l.sendCopyFail("No source stream defined")}handleCopyData(l,E){}};I(a,"Query");var o=a;t.exports=o}),Lp={};Wt(Lp,{Socket:()=>Wi,isIP:()=>Cp});function Cp(e){return 0}var cl,ll,ns,Wi,Ko=Nt(()=>{_e(),cl=Br(sr(),1),I(Cp,"isIP"),ll=I(e=>e.replace(/^[^.]+\./,"api."),"transformHost"),ns=class Re extends cl.EventEmitter{constructor(){super(...arguments),Ae(this,"opts",{}),Ae(this,"connecting",!1),Ae(this,"pending",!0),Ae(this,"writable",!0),Ae(this,"encrypted",!1),Ae(this,"authorized",!1),Ae(this,"destroyed",!1),Ae(this,"ws",null),Ae(this,"writeBuffer"),Ae(this,"tlsState",0),Ae(this,"tlsRead"),Ae(this,"tlsWrite")}static get poolQueryViaFetch(){return Re.opts.poolQueryViaFetch??Re.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){Re.opts.poolQueryViaFetch=t}static get fetchEndpoint(){return Re.opts.fetchEndpoint??Re.defaults.fetchEndpoint}static set fetchEndpoint(t){Re.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(t){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return Re.opts.fetchFunction??Re.defaults.fetchFunction}static set fetchFunction(t){Re.opts.fetchFunction=t}static get webSocketConstructor(){return Re.opts.webSocketConstructor??Re.defaults.webSocketConstructor}static set webSocketConstructor(t){Re.opts.webSocketConstructor=t}get webSocketConstructor(){return this.opts.webSocketConstructor??Re.webSocketConstructor}set webSocketConstructor(t){this.opts.webSocketConstructor=t}static get wsProxy(){return Re.opts.wsProxy??Re.defaults.wsProxy}static set wsProxy(t){Re.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??Re.wsProxy}set wsProxy(t){this.opts.wsProxy=t}static get coalesceWrites(){return Re.opts.coalesceWrites??Re.defaults.coalesceWrites}static set coalesceWrites(t){Re.opts.coalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??Re.coalesceWrites}set coalesceWrites(t){this.opts.coalesceWrites=t}static get useSecureWebSocket(){return Re.opts.useSecureWebSocket??Re.defaults.useSecureWebSocket}static set useSecureWebSocket(t){Re.opts.useSecureWebSocket=t}get useSecureWebSocket(){return this.opts.useSecureWebSocket??Re.useSecureWebSocket}set useSecureWebSocket(t){this.opts.useSecureWebSocket=t}static get forceDisablePgSSL(){return Re.opts.forceDisablePgSSL??Re.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){Re.opts.forceDisablePgSSL=t}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??Re.forceDisablePgSSL}set forceDisablePgSSL(t){this.opts.forceDisablePgSSL=t}static get disableSNI(){return Re.opts.disableSNI??Re.defaults.disableSNI}static set disableSNI(t){Re.opts.disableSNI=t}get disableSNI(){return this.opts.disableSNI??Re.disableSNI}set disableSNI(t){this.opts.disableSNI=t}static get pipelineConnect(){return Re.opts.pipelineConnect??Re.defaults.pipelineConnect}static set pipelineConnect(t){Re.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??Re.pipelineConnect}set pipelineConnect(t){this.opts.pipelineConnect=t}static get subtls(){return Re.opts.subtls??Re.defaults.subtls}static set subtls(t){Re.opts.subtls=t}get subtls(){return this.opts.subtls??Re.subtls}set subtls(t){this.opts.subtls=t}static get pipelineTLS(){return Re.opts.pipelineTLS??Re.defaults.pipelineTLS}static set pipelineTLS(t){Re.opts.pipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??Re.pipelineTLS}set pipelineTLS(t){this.opts.pipelineTLS=t}static get rootCerts(){return Re.opts.rootCerts??Re.defaults.rootCerts}static set rootCerts(t){Re.opts.rootCerts=t}get rootCerts(){return this.opts.rootCerts??Re.rootCerts}set rootCerts(t){this.opts.rootCerts=t}wsProxyAddrForHost(t,n){let s=this.wsProxy;if(s===void 0)throw new Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return typeof s=="function"?s(t,n):`${s}?address=${t}:${n}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(t,n,s){this.connecting=!0,s&&this.once("connect",s);let i=I(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),a=I((c,l=!1)=>{c.binaryType="arraybuffer",c.addEventListener("error",E=>{this.emit("error",E),this.emit("close")}),c.addEventListener("message",E=>{if(this.tlsState===0){let h=ye.from(E.data);this.emit("data",h)}}),c.addEventListener("close",()=>{this.emit("close")}),l?i():c.addEventListener("open",i)},"configureWebSocket"),o;try{o=this.wsProxyAddrForHost(n,typeof t=="string"?parseInt(t,10):t)}catch(c){this.emit("error",c),this.emit("close");return}try{let c=(this.useSecureWebSocket?"wss:":"ws:")+"//"+o;if(this.webSocketConstructor!==void 0)this.ws=new this.webSocketConstructor(c),a(this.ws);else try{this.ws=new WebSocket(c),a(this.ws)}catch{this.ws=new __unstable_WebSocket(c),a(this.ws)}}catch(c){let l=(this.useSecureWebSocket?"https:":"http:")+"//"+o;fetch(l,{headers:{Upgrade:"websocket"}}).then(E=>{if(this.ws=E.webSocket,this.ws==null)throw c;this.ws.accept(),a(this.ws,!0)}).catch(E=>{this.emit("error",new Error(`All attempts to open a WebSocket to connect to the database failed. Please refer to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined. Details: ${E.message}`)),this.emit("close")})}}async startTls(t){if(this.subtls===void 0)throw new Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let n=this.subtls.TrustedCert.fromPEM(this.rootCerts),s=new this.subtls.WebSocketReadQueue(this.ws),i=s.read.bind(s),a=this.rawWrite.bind(this),[o,c]=await this.subtls.startTls(t,n,i,a,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=o,this.tlsWrite=c,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let t=await this.tlsRead();if(t===void 0)break;{let n=ye.from(t);this.emit("data",n)}}}rawWrite(t){if(!this.coalesceWrites){this.ws.send(t);return}if(this.writeBuffer===void 0)this.writeBuffer=t,setTimeout(()=>{this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let n=new Uint8Array(this.writeBuffer.length+t.length);n.set(this.writeBuffer),n.set(t,this.writeBuffer.length),this.writeBuffer=n}}write(t,n="utf8",s=i=>{}){return t.length===0?(s(),!0):(typeof t=="string"&&(t=ye.from(t,n)),this.tlsState===0?(this.rawWrite(t),s()):this.tlsState===1?this.once("secureConnection",()=>{this.write(t,n,s)}):(this.tlsWrite(t),s()),!0)}end(t=ye.alloc(0),n="utf8",s=()=>{}){return this.write(t,n,()=>{this.ws.close(),s()}),this}destroy(){return this.destroyed=!0,this.end()}},I(ns,"Socket"),Ae(ns,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:I(e=>"https://"+ll(e)+"/sql","fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:I(e=>e+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1}),Ae(ns,"opts",{}),Wi=ns}),wp=De(e=>{_e(),Object.defineProperty(e,"__esModule",{value:!0}),e.NoticeMessage=e.DataRowMessage=e.CommandCompleteMessage=e.ReadyForQueryMessage=e.NotificationResponseMessage=e.BackendKeyDataMessage=e.AuthenticationMD5Password=e.ParameterStatusMessage=e.ParameterDescriptionMessage=e.RowDescriptionMessage=e.Field=e.CopyResponse=e.CopyDataMessage=e.DatabaseError=e.copyDone=e.emptyQuery=e.replicationStart=e.portalSuspended=e.noData=e.closeComplete=e.bindComplete=e.parseComplete=void 0,e.parseComplete={name:"parseComplete",length:5},e.bindComplete={name:"bindComplete",length:5},e.closeComplete={name:"closeComplete",length:5},e.noData={name:"noData",length:5},e.portalSuspended={name:"portalSuspended",length:5},e.replicationStart={name:"replicationStart",length:4},e.emptyQuery={name:"emptyQuery",length:4},e.copyDone={name:"copyDone",length:4};var t=class extends Error{constructor(z,ie,pe){super(z),this.length=ie,this.name=pe}};I(t,"DatabaseError");var n=t;e.DatabaseError=n;var s=class{constructor(z,ie){this.length=z,this.chunk=ie,this.name="copyData"}};I(s,"CopyDataMessage");var i=s;e.CopyDataMessage=i;var a=class{constructor(z,ie,pe,Ee){this.length=z,this.name=ie,this.binary=pe,this.columnTypes=new Array(Ee)}};I(a,"CopyResponse");var o=a;e.CopyResponse=o;var c=class{constructor(z,ie,pe,Ee,Se,Pe,mt){this.name=z,this.tableID=ie,this.columnID=pe,this.dataTypeID=Ee,this.dataTypeSize=Se,this.dataTypeModifier=Pe,this.format=mt}};I(c,"Field");var l=c;e.Field=l;var E=class{constructor(z,ie){this.length=z,this.fieldCount=ie,this.name="rowDescription",this.fields=new Array(this.fieldCount)}};I(E,"RowDescriptionMessage");var h=E;e.RowDescriptionMessage=h;var g=class{constructor(z,ie){this.length=z,this.parameterCount=ie,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}};I(g,"ParameterDescriptionMessage");var S=g;e.ParameterDescriptionMessage=S;var A=class{constructor(z,ie,pe){this.length=z,this.parameterName=ie,this.parameterValue=pe,this.name="parameterStatus"}};I(A,"ParameterStatusMessage");var p=A;e.ParameterStatusMessage=p;var f=class{constructor(z,ie){this.length=z,this.salt=ie,this.name="authenticationMD5Password"}};I(f,"AuthenticationMD5Password");var d=f;e.AuthenticationMD5Password=d;var w=class{constructor(z,ie,pe){this.length=z,this.processID=ie,this.secretKey=pe,this.name="backendKeyData"}};I(w,"BackendKeyDataMessage");var D=w;e.BackendKeyDataMessage=D;var M=class{constructor(z,ie,pe,Ee){this.length=z,this.processId=ie,this.channel=pe,this.payload=Ee,this.name="notification"}};I(M,"NotificationResponseMessage");var V=M;e.NotificationResponseMessage=V;var j=class{constructor(z,ie){this.length=z,this.status=ie,this.name="readyForQuery"}};I(j,"ReadyForQueryMessage");var C=j;e.ReadyForQueryMessage=C;var W=class{constructor(z,ie){this.length=z,this.text=ie,this.name="commandComplete"}};I(W,"CommandCompleteMessage");var B=W;e.CommandCompleteMessage=B;var F=class{constructor(z,ie){this.length=z,this.fields=ie,this.name="dataRow",this.fieldCount=ie.length}};I(F,"DataRowMessage");var H=F;e.DataRowMessage=H;var Y=class{constructor(z,ie){this.length=z,this.message=ie,this.name="notice"}};I(Y,"NoticeMessage");var te=Y;e.NoticeMessage=te}),gR=De(e=>{_e(),Object.defineProperty(e,"__esModule",{value:!0}),e.Writer=void 0;var t=class{constructor(i=256){this.size=i,this.offset=5,this.headerPosition=0,this.buffer=ye.allocUnsafe(i)}ensure(i){var a=this.buffer.length-this.offset;if(a<i){var o=this.buffer,c=o.length+(o.length>>1)+i;this.buffer=ye.allocUnsafe(c),o.copy(this.buffer)}}addInt32(i){return this.ensure(4),this.buffer[this.offset++]=i>>>24&255,this.buffer[this.offset++]=i>>>16&255,this.buffer[this.offset++]=i>>>8&255,this.buffer[this.offset++]=i>>>0&255,this}addInt16(i){return this.ensure(2),this.buffer[this.offset++]=i>>>8&255,this.buffer[this.offset++]=i>>>0&255,this}addCString(i){if(!i)this.ensure(1);else{var a=ye.byteLength(i);this.ensure(a+1),this.buffer.write(i,this.offset,"utf-8"),this.offset+=a}return this.buffer[this.offset++]=0,this}addString(i=""){var a=ye.byteLength(i);return this.ensure(a),this.buffer.write(i,this.offset),this.offset+=a,this}add(i){return this.ensure(i.length),i.copy(this.buffer,this.offset),this.offset+=i.length,this}join(i){if(i){this.buffer[this.headerPosition]=i;let a=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(a,this.headerPosition+1)}return this.buffer.slice(i?0:5,this.offset)}flush(i){var a=this.join(i);return this.offset=5,this.headerPosition=0,this.buffer=ye.allocUnsafe(this.size),a}};I(t,"Writer");var n=t;e.Writer=n}),mR=De(e=>{_e(),Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=void 0;var t=gR(),n=new t.Writer,s=I(z=>{n.addInt16(3).addInt16(0);for(let Ee of Object.keys(z))n.addCString(Ee).addCString(z[Ee]);n.addCString("client_encoding").addCString("UTF8");var ie=n.addCString("").flush(),pe=ie.length+4;return new t.Writer().addInt32(pe).add(ie).flush()},"startup"),i=I(()=>{let z=ye.allocUnsafe(8);return z.writeInt32BE(8,0),z.writeInt32BE(80877103,4),z},"requestSsl"),a=I(z=>n.addCString(z).flush(112),"password"),o=I(function(z,ie){return n.addCString(z).addInt32(ye.byteLength(ie)).addString(ie),n.flush(112)},"sendSASLInitialResponseMessage"),c=I(function(z){return n.addString(z).flush(112)},"sendSCRAMClientFinalMessage"),l=I(z=>n.addCString(z).flush(81),"query"),E=[],h=I(z=>{let ie=z.name||"";ie.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",ie,ie.length),console.error("This can cause conflicts and silent errors executing queries"));let pe=z.types||E;for(var Ee=pe.length,Se=n.addCString(ie).addCString(z.text).addInt16(Ee),Pe=0;Pe<Ee;Pe++)Se.addInt32(pe[Pe]);return n.flush(80)},"parse"),g=new t.Writer,S=I(function(z,ie){for(let pe=0;pe<z.length;pe++){let Ee=ie?ie(z[pe],pe):z[pe];Ee==null?(n.addInt16(0),g.addInt32(-1)):Ee instanceof ye?(n.addInt16(1),g.addInt32(Ee.length),g.add(Ee)):(n.addInt16(0),g.addInt32(ye.byteLength(Ee)),g.addString(Ee))}},"writeValues"),A=I((z={})=>{let ie=z.portal||"",pe=z.statement||"",Ee=z.binary||!1,Se=z.values||E,Pe=Se.length;return n.addCString(ie).addCString(pe),n.addInt16(Pe),S(Se,z.valueMapper),n.addInt16(Pe),n.add(g.flush()),n.addInt16(Ee?1:0),n.flush(66)},"bind"),p=ye.from([69,0,0,0,9,0,0,0,0,0]),f=I(z=>{if(!z||!z.portal&&!z.rows)return p;let ie=z.portal||"",pe=z.rows||0,Ee=ye.byteLength(ie),Se=4+Ee+1+4,Pe=ye.allocUnsafe(1+Se);return Pe[0]=69,Pe.writeInt32BE(Se,1),Pe.write(ie,5,"utf-8"),Pe[Ee+5]=0,Pe.writeUInt32BE(pe,Pe.length-4),Pe},"execute"),d=I((z,ie)=>{let pe=ye.allocUnsafe(16);return pe.writeInt32BE(16,0),pe.writeInt16BE(1234,4),pe.writeInt16BE(5678,6),pe.writeInt32BE(z,8),pe.writeInt32BE(ie,12),pe},"cancel"),w=I((z,ie)=>{let pe=4+ye.byteLength(ie)+1,Ee=ye.allocUnsafe(1+pe);return Ee[0]=z,Ee.writeInt32BE(pe,1),Ee.write(ie,5,"utf-8"),Ee[pe]=0,Ee},"cstringMessage"),D=n.addCString("P").flush(68),M=n.addCString("S").flush(68),V=I(z=>z.name?w(68,`${z.type}${z.name||""}`):z.type==="P"?D:M,"describe"),j=I(z=>{let ie=`${z.type}${z.name||""}`;return w(67,ie)},"close"),C=I(z=>n.add(z).flush(100),"copyData"),W=I(z=>w(102,z),"copyFail"),B=I(z=>ye.from([z,0,0,0,4]),"codeOnlyBuffer"),F=B(72),H=B(83),Y=B(88),te=B(99),ue={startup:s,password:a,requestSsl:i,sendSASLInitialResponseMessage:o,sendSCRAMClientFinalMessage:c,query:l,parse:h,bind:A,execute:f,describe:V,close:j,flush:I(()=>F,"flush"),sync:I(()=>H,"sync"),end:I(()=>Y,"end"),copyData:C,copyDone:I(()=>te,"copyDone"),copyFail:W,cancel:d};e.serialize=ue}),_R=De(e=>{_e(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=void 0;var t=ye.allocUnsafe(0),n=class{constructor(a=0){this.offset=a,this.buffer=t,this.encoding="utf-8"}setBuffer(a,o){this.offset=a,this.buffer=o}int16(){let a=this.buffer.readInt16BE(this.offset);return this.offset+=2,a}byte(){let a=this.buffer[this.offset];return this.offset++,a}int32(){let a=this.buffer.readInt32BE(this.offset);return this.offset+=4,a}string(a){let o=this.buffer.toString(this.encoding,this.offset,this.offset+a);return this.offset+=a,o}cstring(){let a=this.offset,o=a;for(;this.buffer[o++]!==0;);return this.offset=o,this.buffer.toString(this.encoding,a,o-1)}bytes(a){let o=this.buffer.slice(this.offset,this.offset+a);return this.offset+=a,o}};I(n,"BufferReader");var s=n;e.BufferReader=s}),TR=De(e=>{_e(),Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var t=wp(),n=_R(),s=1,i=4,a=s+i,o=ye.allocUnsafe(0),c=class{constructor(h){if(this.buffer=o,this.bufferLength=0,this.bufferOffset=0,this.reader=new n.BufferReader,(h==null?void 0:h.mode)==="binary")throw new Error("Binary mode not supported yet");this.mode=(h==null?void 0:h.mode)||"text"}parse(h,g){this.mergeBuffer(h);let S=this.bufferOffset+this.bufferLength,A=this.bufferOffset;for(;A+a<=S;){let p=this.buffer[A],f=this.buffer.readUInt32BE(A+s),d=s+f;if(d+A<=S){let w=this.handlePacket(A+a,p,f,this.buffer);g(w),A+=d}else break}A===S?(this.buffer=o,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=S-A,this.bufferOffset=A)}mergeBuffer(h){if(this.bufferLength>0){let g=this.bufferLength+h.byteLength;if(g+this.bufferOffset>this.buffer.byteLength){let S;if(g<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)S=this.buffer;else{let A=this.buffer.byteLength*2;for(;g>=A;)A*=2;S=ye.allocUnsafe(A)}this.buffer.copy(S,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=S,this.bufferOffset=0}h.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=g}else this.buffer=h,this.bufferOffset=0,this.bufferLength=h.byteLength}handlePacket(h,g,S,A){switch(g){case 50:return t.bindComplete;case 49:return t.parseComplete;case 51:return t.closeComplete;case 110:return t.noData;case 115:return t.portalSuspended;case 99:return t.copyDone;case 87:return t.replicationStart;case 73:return t.emptyQuery;case 68:return this.parseDataRowMessage(h,S,A);case 67:return this.parseCommandCompleteMessage(h,S,A);case 90:return this.parseReadyForQueryMessage(h,S,A);case 65:return this.parseNotificationMessage(h,S,A);case 82:return this.parseAuthenticationResponse(h,S,A);case 83:return this.parseParameterStatusMessage(h,S,A);case 75:return this.parseBackendKeyData(h,S,A);case 69:return this.parseErrorMessage(h,S,A,"error");case 78:return this.parseErrorMessage(h,S,A,"notice");case 84:return this.parseRowDescriptionMessage(h,S,A);case 116:return this.parseParameterDescriptionMessage(h,S,A);case 71:return this.parseCopyInMessage(h,S,A);case 72:return this.parseCopyOutMessage(h,S,A);case 100:return this.parseCopyData(h,S,A);default:return new t.DatabaseError("received invalid response: "+g.toString(16),S,"error")}}parseReadyForQueryMessage(h,g,S){this.reader.setBuffer(h,S);let A=this.reader.string(1);return new t.ReadyForQueryMessage(g,A)}parseCommandCompleteMessage(h,g,S){this.reader.setBuffer(h,S);let A=this.reader.cstring();return new t.CommandCompleteMessage(g,A)}parseCopyData(h,g,S){let A=S.slice(h,h+(g-4));return new t.CopyDataMessage(g,A)}parseCopyInMessage(h,g,S){return this.parseCopyMessage(h,g,S,"copyInResponse")}parseCopyOutMessage(h,g,S){return this.parseCopyMessage(h,g,S,"copyOutResponse")}parseCopyMessage(h,g,S,A){this.reader.setBuffer(h,S);let p=this.reader.byte()!==0,f=this.reader.int16(),d=new t.CopyResponse(g,A,p,f);for(let w=0;w<f;w++)d.columnTypes[w]=this.reader.int16();return d}parseNotificationMessage(h,g,S){this.reader.setBuffer(h,S);let A=this.reader.int32(),p=this.reader.cstring(),f=this.reader.cstring();return new t.NotificationResponseMessage(g,A,p,f)}parseRowDescriptionMessage(h,g,S){this.reader.setBuffer(h,S);let A=this.reader.int16(),p=new t.RowDescriptionMessage(g,A);for(let f=0;f<A;f++)p.fields[f]=this.parseField();return p}parseField(){let h=this.reader.cstring(),g=this.reader.int32(),S=this.reader.int16(),A=this.reader.int32(),p=this.reader.int16(),f=this.reader.int32(),d=this.reader.int16()===0?"text":"binary";return new t.Field(h,g,S,A,p,f,d)}parseParameterDescriptionMessage(h,g,S){this.reader.setBuffer(h,S);let A=this.reader.int16(),p=new t.ParameterDescriptionMessage(g,A);for(let f=0;f<A;f++)p.dataTypeIDs[f]=this.reader.int32();return p}parseDataRowMessage(h,g,S){this.reader.setBuffer(h,S);let A=this.reader.int16(),p=new Array(A);for(let f=0;f<A;f++){let d=this.reader.int32();p[f]=d===-1?null:this.reader.string(d)}return new t.DataRowMessage(g,p)}parseParameterStatusMessage(h,g,S){this.reader.setBuffer(h,S);let A=this.reader.cstring(),p=this.reader.cstring();return new t.ParameterStatusMessage(g,A,p)}parseBackendKeyData(h,g,S){this.reader.setBuffer(h,S);let A=this.reader.int32(),p=this.reader.int32();return new t.BackendKeyDataMessage(g,A,p)}parseAuthenticationResponse(h,g,S){this.reader.setBuffer(h,S);let A=this.reader.int32(),p={name:"authenticationOk",length:g};switch(A){case 0:break;case 3:p.length===8&&(p.name="authenticationCleartextPassword");break;case 5:if(p.length===12){p.name="authenticationMD5Password";let d=this.reader.bytes(4);return new t.AuthenticationMD5Password(g,d)}break;case 10:p.name="authenticationSASL",p.mechanisms=[];let f;do f=this.reader.cstring(),f&&p.mechanisms.push(f);while(f);break;case 11:p.name="authenticationSASLContinue",p.data=this.reader.string(g-8);break;case 12:p.name="authenticationSASLFinal",p.data=this.reader.string(g-8);break;default:throw new Error("Unknown authenticationOk message type "+A)}return p}parseErrorMessage(h,g,S,A){this.reader.setBuffer(h,S);let p={},f=this.reader.string(1);for(;f!=="\0";)p[f]=this.reader.cstring(),f=this.reader.string(1);let d=p.M,w=A==="notice"?new t.NoticeMessage(g,d):new t.DatabaseError(d,g,A);return w.severity=p.S,w.code=p.C,w.detail=p.D,w.hint=p.H,w.position=p.P,w.internalPosition=p.p,w.internalQuery=p.q,w.where=p.W,w.schema=p.s,w.table=p.t,w.column=p.c,w.dataType=p.d,w.constraint=p.n,w.file=p.F,w.line=p.L,w.routine=p.R,w}};I(c,"Parser");var l=c;e.Parser=l}),Dp=De(e=>{_e(),Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseError=e.serialize=e.parse=void 0;var t=wp();Object.defineProperty(e,"DatabaseError",{enumerable:!0,get:I(function(){return t.DatabaseError},"get")});var n=mR();Object.defineProperty(e,"serialize",{enumerable:!0,get:I(function(){return n.serialize},"get")});var s=TR();function i(a,o){let c=new s.Parser;return a.on("data",l=>c.parse(l,o)),new Promise(l=>a.on("end",()=>l()))}I(i,"parse"),e.parse=i}),Pp={};Wt(Pp,{connect:()=>Up});function Up({socket:e,servername:t}){return e.startTls(t),e}var SR=Nt(()=>{_e(),I(Up,"connect")}),Mp=De((e,t)=>{_e();var n=(Ko(),at(Lp)),s=sr().EventEmitter,{parse:i,serialize:a}=Dp(),o=a.flush(),c=a.sync(),l=a.end(),E=class extends s{constructor(S){super(),S=S||{},this.stream=S.stream||new n.Socket,this._keepAlive=S.keepAlive,this._keepAliveInitialDelayMillis=S.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=S.ssl||!1,this._ending=!1,this._emitMessage=!1;var A=this;this.on("newListener",function(p){p==="message"&&(A._emitMessage=!0)})}connect(S,A){var p=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(S,A),this.stream.once("connect",function(){p._keepAlive&&p.stream.setKeepAlive(!0,p._keepAliveInitialDelayMillis),p.emit("connect")});let f=I(function(d){p._ending&&(d.code==="ECONNRESET"||d.code==="EPIPE")||p.emit("error",d)},"reportStreamError");if(this.stream.on("error",f),this.stream.on("close",function(){p.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(d){var w=d.toString("utf8");switch(w){case"S":break;case"N":return p.stream.end(),p.emit("error",new Error("The server does not support SSL connections"));default:return p.stream.end(),p.emit("error",new Error("There was an error establishing an SSL connection"))}var D=(SR(),at(Pp));let M={socket:p.stream};p.ssl!==!0&&(Object.assign(M,p.ssl),"key"in p.ssl&&(M.key=p.ssl.key)),n.isIP(A)===0&&(M.servername=A);try{p.stream=D.connect(M)}catch(V){return p.emit("error",V)}p.attachListeners(p.stream),p.stream.on("error",f),p.emit("sslconnect")})}attachListeners(S){S.on("end",()=>{this.emit("end")}),i(S,A=>{var p=A.name==="error"?"errorMessage":A.name;this._emitMessage&&this.emit("message",A),this.emit(p,A)})}requestSsl(){this.stream.write(a.requestSsl())}startup(S){this.stream.write(a.startup(S))}cancel(S,A){this._send(a.cancel(S,A))}password(S){this._send(a.password(S))}sendSASLInitialResponseMessage(S,A){this._send(a.sendSASLInitialResponseMessage(S,A))}sendSCRAMClientFinalMessage(S){this._send(a.sendSCRAMClientFinalMessage(S))}_send(S){return this.stream.writable?this.stream.write(S):!1}query(S){this._send(a.query(S))}parse(S){this._send(a.parse(S))}bind(S){this._send(a.bind(S))}execute(S){this._send(a.execute(S))}flush(){this.stream.writable&&this.stream.write(o)}sync(){this._ending=!0,this._send(o),this._send(c)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(l,()=>{this.stream.end()})}close(S){this._send(a.close(S))}describe(S){this._send(a.describe(S))}sendCopyFromChunk(S){this._send(a.copyData(S))}endCopyFrom(){this._send(a.copyDone())}sendCopyFail(S){this._send(a.copyFail(S))}};I(E,"Connection");var h=E;t.exports=h}),RR=De((e,t)=>{_e();var n=sr().EventEmitter;xi(),at(bs);var s=Bi(),i=oR(),a=pR(),o=Vo(),c=Qo(),l=hR(),E=Hi(),h=Mp(),g=class extends n{constructor(p){super(),this.connectionParameters=new c(p),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var f=p||{};this._Promise=f.Promise||Fi.Promise,this._types=new o(f.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=f.connection||new h({stream:f.stream,ssl:this.connectionParameters.ssl,keepAlive:f.keepAlive||!1,keepAliveInitialDelayMillis:f.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=f.binary||E.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=f.connectionTimeoutMillis||0}_errorAllQueries(p){let f=I(d=>{we.nextTick(()=>{d.handleError(p,this.connection)})},"enqueueError");this.activeQuery&&(f(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(f),this.queryQueue.length=0}_connect(p){var f=this,d=this.connection;if(this._connectionCallback=p,this._connecting||this._connected){let w=new Error("Client has already been connected. You cannot reuse a client.");we.nextTick(()=>{p(w)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{d._ending=!0,d.stream.destroy(new Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&this.host.indexOf("/")===0?d.connect(this.host+"/.s.PGSQL."+this.port):d.connect(this.port,this.host),d.on("connect",function(){f.ssl?d.requestSsl():d.startup(f.getStartupConf())}),d.on("sslconnect",function(){d.startup(f.getStartupConf())}),this._attachListeners(d),d.once("end",()=>{let w=this._ending?new Error("Connection terminated"):new Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(w),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(w):this._handleErrorEvent(w):this._connectionError||this._handleErrorEvent(w)),we.nextTick(()=>{this.emit("end")})})}connect(p){if(p){this._connect(p);return}return new this._Promise((f,d)=>{this._connect(w=>{w?d(w):f()})})}_attachListeners(p){p.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),p.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),p.on("authenticationSASL",this._handleAuthSASL.bind(this)),p.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),p.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),p.on("backendKeyData",this._handleBackendKeyData.bind(this)),p.on("error",this._handleErrorEvent.bind(this)),p.on("errorMessage",this._handleErrorMessage.bind(this)),p.on("readyForQuery",this._handleReadyForQuery.bind(this)),p.on("notice",this._handleNotice.bind(this)),p.on("rowDescription",this._handleRowDescription.bind(this)),p.on("dataRow",this._handleDataRow.bind(this)),p.on("portalSuspended",this._handlePortalSuspended.bind(this)),p.on("emptyQuery",this._handleEmptyQuery.bind(this)),p.on("commandComplete",this._handleCommandComplete.bind(this)),p.on("parseComplete",this._handleParseComplete.bind(this)),p.on("copyInResponse",this._handleCopyInResponse.bind(this)),p.on("copyData",this._handleCopyData.bind(this)),p.on("notification",this._handleNotification.bind(this))}_checkPgPass(p){let f=this.connection;typeof this.password=="function"?this._Promise.resolve().then(()=>this.password()).then(d=>{if(d!==void 0){if(typeof d!="string"){f.emit("error",new TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=d}else this.connectionParameters.password=this.password=null;p()}).catch(d=>{f.emit("error",d)}):this.password!==null?p():a(this.connectionParameters,d=>{d!==void 0&&(this.connectionParameters.password=this.password=d),p()})}_handleAuthCleartextPassword(p){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(p){this._checkPgPass(()=>{let f=s.postgresMd5PasswordHash(this.user,this.password,p.salt);this.connection.password(f)})}_handleAuthSASL(p){this._checkPgPass(()=>{this.saslSession=i.startSession(p.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(p){i.continueSession(this.saslSession,this.password,p.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(p){i.finalizeSession(this.saslSession,p.data),this.saslSession=null}_handleBackendKeyData(p){this.processID=p.processID,this.secretKey=p.secretKey}_handleReadyForQuery(p){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:f}=this;this.activeQuery=null,this.readyForQuery=!0,f&&f.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(p){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(p);this.emit("error",p)}}_handleErrorEvent(p){if(this._connecting)return this._handleErrorWhileConnecting(p);this._queryable=!1,this._errorAllQueries(p),this.emit("error",p)}_handleErrorMessage(p){if(this._connecting)return this._handleErrorWhileConnecting(p);let f=this.activeQuery;if(!f){this._handleErrorEvent(p);return}this.activeQuery=null,f.handleError(p,this.connection)}_handleRowDescription(p){this.activeQuery.handleRowDescription(p)}_handleDataRow(p){this.activeQuery.handleDataRow(p)}_handlePortalSuspended(p){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(p){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(p){this.activeQuery.handleCommandComplete(p,this.connection)}_handleParseComplete(p){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(p){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(p){this.activeQuery.handleCopyData(p,this.connection)}_handleNotification(p){this.emit("notification",p)}_handleNotice(p){this.emit("notice",p)}getStartupConf(){var p=this.connectionParameters,f={user:p.user,database:p.database},d=p.application_name||p.fallback_application_name;return d&&(f.application_name=d),p.replication&&(f.replication=""+p.replication),p.statement_timeout&&(f.statement_timeout=String(parseInt(p.statement_timeout,10))),p.lock_timeout&&(f.lock_timeout=String(parseInt(p.lock_timeout,10))),p.idle_in_transaction_session_timeout&&(f.idle_in_transaction_session_timeout=String(parseInt(p.idle_in_transaction_session_timeout,10))),p.options&&(f.options=p.options),f}cancel(p,f){if(p.activeQuery===f){var d=this.connection;this.host&&this.host.indexOf("/")===0?d.connect(this.host+"/.s.PGSQL."+this.port):d.connect(this.port,this.host),d.on("connect",function(){d.cancel(p.processID,p.secretKey)})}else p.queryQueue.indexOf(f)!==-1&&p.queryQueue.splice(p.queryQueue.indexOf(f),1)}setTypeParser(p,f,d){return this._types.setTypeParser(p,f,d)}getTypeParser(p,f){return this._types.getTypeParser(p,f)}escapeIdentifier(p){return'"'+p.replace(/"/g,'""')+'"'}escapeLiteral(p){for(var f=!1,d="'",w=0;w<p.length;w++){var D=p[w];D==="'"?d+=D+D:D==="\\"?(d+=D+D,f=!0):d+=D}return d+="'",f===!0&&(d=" E"+d),d}_pulseQueryQueue(){if(this.readyForQuery===!0)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let p=this.activeQuery.submit(this.connection);p&&we.nextTick(()=>{this.activeQuery.handleError(p,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(p,f,d){var w,D,M,V,j;if(p==null)throw new TypeError("Client was passed a null or undefined query");return typeof p.submit=="function"?(M=p.query_timeout||this.connectionParameters.query_timeout,D=w=p,typeof f=="function"&&(w.callback=w.callback||f)):(M=this.connectionParameters.query_timeout,w=new l(p,f,d),w.callback||(D=new this._Promise((C,W)=>{w.callback=(B,F)=>B?W(B):C(F)}))),M&&(j=w.callback,V=setTimeout(()=>{var C=new Error("Query read timeout");we.nextTick(()=>{w.handleError(C,this.connection)}),j(C),w.callback=()=>{};var W=this.queryQueue.indexOf(w);W>-1&&this.queryQueue.splice(W,1),this._pulseQueryQueue()},M),w.callback=(C,W)=>{clearTimeout(V),j(C,W)}),this.binary&&!w.binary&&(w.binary=!0),w._result&&!w._result._types&&(w._result._types=this._types),this._queryable?this._ending?(we.nextTick(()=>{w.handleError(new Error("Client was closed and is not queryable"),this.connection)}),D):(this.queryQueue.push(w),this._pulseQueryQueue(),D):(we.nextTick(()=>{w.handleError(new Error("Client has encountered a connection error and is not queryable"),this.connection)}),D)}ref(){this.connection.ref()}unref(){this.connection.unref()}end(p){if(this._ending=!0,!this.connection._connecting)if(p)p();else return this._Promise.resolve();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),p)this.connection.once("end",p);else return new this._Promise(f=>{this.connection.once("end",f)})}};I(g,"Client");var S=g;S.Query=l,t.exports=S}),AR=De((e,t)=>{_e();var n=sr().EventEmitter,s=I(function(){},"NOOP"),i=I((p,f)=>{let d=p.findIndex(f);return d===-1?void 0:p.splice(d,1)[0]},"removeWhere"),a=class{constructor(f,d,w){this.client=f,this.idleListener=d,this.timeoutId=w}};I(a,"IdleItem");var o=a,c=class{constructor(f){this.callback=f}};I(c,"PendingItem");var l=c;function E(){throw new Error("Release called on client which has already been released to the pool.")}I(E,"throwOnDoubleRelease");function h(p,f){if(f)return{callback:f,result:void 0};let d,w,D=I(function(V,j){V?d(V):w(j)},"cb"),M=new p(function(V,j){w=V,d=j}).catch(V=>{throw Error.captureStackTrace(V),V});return{callback:D,result:M}}I(h,"promisify");function g(p,f){return I(function d(w){w.client=f,f.removeListener("error",d),f.on("error",()=>{p.log("additional client error after disconnection due to error",w)}),p._remove(f),p.emit("error",w,f)},"idleListener")}I(g,"makeIdleListener");var S=class extends n{constructor(f,d){super(),this.options=Object.assign({},f),f!=null&&"password"in f&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:f.password}),f!=null&&f.ssl&&f.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||d||zo().Client,this.Promise=this.options.Promise||Fi.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(d=>{this._remove(d.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let f=this._pendingQueue.shift();if(this._idle.length){let d=this._idle.pop();clearTimeout(d.timeoutId);let w=d.client;w.ref&&w.ref();let D=d.idleListener;return this._acquireClient(w,f,D,!1)}if(!this._isFull())return this.newClient(f);throw new Error("unexpected condition")}_remove(f){let d=i(this._idle,w=>w.client===f);d!==void 0&&clearTimeout(d.timeoutId),this._clients=this._clients.filter(w=>w!==f),f.end(),this.emit("remove",f)}connect(f){if(this.ending){let D=new Error("Cannot use a pool after calling end on the pool");return f?f(D):this.Promise.reject(D)}let d=h(this.Promise,f),w=d.result;if(this._isFull()||this._idle.length){if(this._idle.length&&we.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new l(d.callback)),w;let D=I((j,C,W)=>{clearTimeout(V),d.callback(j,C,W)},"queueCallback"),M=new l(D),V=setTimeout(()=>{i(this._pendingQueue,j=>j.callback===D),M.timedOut=!0,d.callback(new Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(M),w}return this.newClient(new l(d.callback)),w}newClient(f){let d=new this.Client(this.options);this._clients.push(d);let w=g(this,d);this.log("checking client timeout");let D,M=!1;this.options.connectionTimeoutMillis&&(D=setTimeout(()=>{this.log("ending client due to timeout"),M=!0,d.connection?d.connection.stream.destroy():d.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),d.connect(V=>{if(D&&clearTimeout(D),d.on("error",w),V)this.log("client failed to connect",V),this._clients=this._clients.filter(j=>j!==d),M&&(V.message="Connection terminated due to connection timeout"),this._pulseQueue(),f.timedOut||f.callback(V,void 0,s);else{if(this.log("new client connected"),this.options.maxLifetimeSeconds!==0){let j=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(d),this._idle.findIndex(C=>C.client===d)!==-1&&this._acquireClient(d,new l((C,W,B)=>B()),w,!1)},this.options.maxLifetimeSeconds*1e3);j.unref(),d.once("end",()=>clearTimeout(j))}return this._acquireClient(d,f,w,!0)}})}_acquireClient(f,d,w,D){D&&this.emit("connect",f),this.emit("acquire",f),f.release=this._releaseOnce(f,w),f.removeListener("error",w),d.timedOut?D&&this.options.verify?this.options.verify(f,f.release):f.release():D&&this.options.verify?this.options.verify(f,M=>{if(M)return f.release(M),d.callback(M,void 0,s);d.callback(void 0,f,f.release)}):d.callback(void 0,f,f.release)}_releaseOnce(f,d){let w=!1;return D=>{w&&E(),w=!0,this._release(f,d,D)}}_release(f,d,w){if(f.on("error",d),f._poolUseCount=(f._poolUseCount||0)+1,this.emit("release",w,f),w||this.ending||!f._queryable||f._ending||f._poolUseCount>=this.options.maxUses){f._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(f),this._pulseQueue();return}if(this._expired.has(f)){this.log("remove expired client"),this._expired.delete(f),this._remove(f),this._pulseQueue();return}let D;this.options.idleTimeoutMillis&&(D=setTimeout(()=>{this.log("remove idle client"),this._remove(f)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&D.unref()),this.options.allowExitOnIdle&&f.unref(),this._idle.push(new o(f,d,D)),this._pulseQueue()}query(f,d,w){if(typeof f=="function"){let M=h(this.Promise,f);return Go(function(){return M.callback(new Error("Passing a function as the first parameter to pool.query is not supported"))}),M.result}typeof d=="function"&&(w=d,d=void 0);let D=h(this.Promise,w);return w=D.callback,this.connect((M,V)=>{if(M)return w(M);let j=!1,C=I(W=>{j||(j=!0,V.release(W),w(W))},"onError");V.once("error",C),this.log("dispatching query");try{V.query(f,d,(W,B)=>{if(this.log("query dispatched"),V.removeListener("error",C),!j)return j=!0,V.release(W),W?w(W):w(void 0,B)})}catch(W){return V.release(W),w(W)}}),D.result}end(f){if(this.log("ending"),this.ending){let w=new Error("Called end on pool more than once");return f?f(w):this.Promise.reject(w)}this.ending=!0;let d=h(this.Promise,f);return this._endCallback=d.callback,this._pulseQueue(),d.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((f,d)=>f+(this._expired.has(d)?1:0),0)}get totalCount(){return this._clients.length}};I(S,"Pool");var A=S;t.exports=A}),Fp={};Wt(Fp,{default:()=>xp});var xp,yR=Nt(()=>{_e(),xp={}}),NR=De((e,t)=>{t.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),vR=De((e,t)=>{_e();var n=sr().EventEmitter,s=(xi(),at(bs)),i=Bi(),a=t.exports=function(c,l,E){n.call(this),c=i.normalizeQueryConfig(c,l,E),this.text=c.text,this.values=c.values,this.name=c.name,this.callback=c.callback,this.state="new",this._arrayMode=c.rowMode==="array",this._emitRowEvents=!1,this.on("newListener",(function(h){h==="row"&&(this._emitRowEvents=!0)}).bind(this))};s.inherits(a,n);var o={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};a.prototype.handleError=function(c){var l=this.native.pq.resultErrorFields();if(l)for(var E in l){var h=o[E]||E;c[h]=l[E]}this.callback?this.callback(c):this.emit("error",c),this.state="error"},a.prototype.then=function(c,l){return this._getPromise().then(c,l)},a.prototype.catch=function(c){return this._getPromise().catch(c)},a.prototype._getPromise=function(){return this._promise?this._promise:(this._promise=new Promise((function(c,l){this._once("end",c),this._once("error",l)}).bind(this)),this._promise)},a.prototype.submit=function(c){this.state="running";var l=this;this.native=c.native,c.native.arrayMode=this._arrayMode;var E=I(function(S,A,p){if(c.native.arrayMode=!1,Go(function(){l.emit("_done")}),S)return l.handleError(S);l._emitRowEvents&&(p.length>1?A.forEach((f,d)=>{f.forEach(w=>{l.emit("row",w,p[d])})}):A.forEach(function(f){l.emit("row",f,p)})),l.state="end",l.emit("end",p),l.callback&&l.callback(null,p)},"after");if(we.domain&&(E=we.domain.bind(E)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var h=(this.values||[]).map(i.prepareValue);if(c.namedQueries[this.name]){if(this.text&&c.namedQueries[this.name]!==this.text){let S=new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`);return E(S)}return c.native.execute(this.name,h,E)}return c.native.prepare(this.name,this.text,h.length,function(S){return S?E(S):(c.namedQueries[l.name]=l.text,l.native.execute(l.name,h,E))})}else if(this.values){if(!Array.isArray(this.values)){let S=new Error("Query values must be an array");return E(S)}var g=this.values.map(i.prepareValue);c.native.query(this.text,g,E)}else c.native.query(this.text,E)}}),IR=De((e,t)=>{_e();var n=(yR(),at(Fp)),s=Vo();NR();var i=sr().EventEmitter,a=(xi(),at(bs)),o=Qo(),c=vR(),l=t.exports=function(E){i.call(this),E=E||{},this._Promise=E.Promise||Fi.Promise,this._types=new s(E.types),this.native=new n({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var h=this.connectionParameters=new o(E);this.user=h.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:h.password}),this.database=h.database,this.host=h.host,this.port=h.port,this.namedQueries={}};l.Query=c,a.inherits(l,i),l.prototype._errorAllQueries=function(E){let h=I(g=>{we.nextTick(()=>{g.native=this.native,g.handleError(E)})},"enqueueError");this._hasActiveQuery()&&(h(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(h),this._queryQueue.length=0},l.prototype._connect=function(E){var h=this;if(this._connecting){we.nextTick(()=>E(new Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(g,S){if(g)return E(g);h.native.connect(S,function(A){if(A)return h.native.end(),E(A);h._connected=!0,h.native.on("error",function(p){h._queryable=!1,h._errorAllQueries(p),h.emit("error",p)}),h.native.on("notification",function(p){h.emit("notification",{channel:p.relname,payload:p.extra})}),h.emit("connect"),h._pulseQueryQueue(!0),E()})})},l.prototype.connect=function(E){if(E){this._connect(E);return}return new this._Promise((h,g)=>{this._connect(S=>{S?g(S):h()})})},l.prototype.query=function(E,h,g){var S,A,p,f,d;if(E==null)throw new TypeError("Client was passed a null or undefined query");if(typeof E.submit=="function")p=E.query_timeout||this.connectionParameters.query_timeout,A=S=E,typeof h=="function"&&(E.callback=h);else if(p=this.connectionParameters.query_timeout,S=new c(E,h,g),!S.callback){let w,D;A=new this._Promise((M,V)=>{w=M,D=V}),S.callback=(M,V)=>M?D(M):w(V)}return p&&(d=S.callback,f=setTimeout(()=>{var w=new Error("Query read timeout");we.nextTick(()=>{S.handleError(w,this.connection)}),d(w),S.callback=()=>{};var D=this._queryQueue.indexOf(S);D>-1&&this._queryQueue.splice(D,1),this._pulseQueryQueue()},p),S.callback=(w,D)=>{clearTimeout(f),d(w,D)}),this._queryable?this._ending?(S.native=this.native,we.nextTick(()=>{S.handleError(new Error("Client was closed and is not queryable"))}),A):(this._queryQueue.push(S),this._pulseQueryQueue(),A):(S.native=this.native,we.nextTick(()=>{S.handleError(new Error("Client has encountered a connection error and is not queryable"))}),A)},l.prototype.end=function(E){var h=this;this._ending=!0,this._connected||this.once("connect",this.end.bind(this,E));var g;return E||(g=new this._Promise(function(S,A){E=I(p=>p?A(p):S(),"cb")})),this.native.end(function(){h._errorAllQueries(new Error("Connection terminated")),we.nextTick(()=>{h.emit("end"),E&&E()})}),g},l.prototype._hasActiveQuery=function(){return this._activeQuery&&this._activeQuery.state!=="error"&&this._activeQuery.state!=="end"},l.prototype._pulseQueryQueue=function(E){if(this._connected&&!this._hasActiveQuery()){var h=this._queryQueue.shift();if(!h){E||this.emit("drain");return}this._activeQuery=h,h.submit(this);var g=this;h.once("_done",function(){g._pulseQueryQueue()})}},l.prototype.cancel=function(E){this._activeQuery===E?this.native.cancel(function(){}):this._queryQueue.indexOf(E)!==-1&&this._queryQueue.splice(this._queryQueue.indexOf(E),1)},l.prototype.ref=function(){},l.prototype.unref=function(){},l.prototype.setTypeParser=function(E,h,g){return this._types.setTypeParser(E,h,g)},l.prototype.getTypeParser=function(E,h){return this._types.getTypeParser(E,h)}}),ul=De((e,t)=>{_e(),t.exports=IR()}),zo=De((e,t)=>{_e();var n=RR(),s=Hi(),i=Mp(),a=AR(),{DatabaseError:o}=Dp(),c=I(E=>{var h;return h=class extends a{constructor(g){super(g,E)}},I(h,"BoundPool"),h},"poolFactory"),l=I(function(E){this.defaults=s,this.Client=E,this.Query=this.Client.Query,this.Pool=c(this.Client),this._pools=[],this.Connection=i,this.types=ki(),this.DatabaseError=o},"PG");typeof we.env.NODE_PG_FORCE_NATIVE<"u"?t.exports=new l(ul()):(t.exports=new l(n),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var E=null;try{E=new l(ul())}catch(h){if(h.code!=="MODULE_NOT_FOUND")throw h}return Object.defineProperty(t.exports,"native",{value:E}),E}}))});_e();var kp=Br(zo());Ko();_e();bp();Ko();var OR=Br(Bi()),bR=Br(Vo()),Hp=class extends Error{constructor(){super(...arguments),Ae(this,"name","NeonDbError"),Ae(this,"severity"),Ae(this,"code"),Ae(this,"detail"),Ae(this,"hint"),Ae(this,"position"),Ae(this,"internalPosition"),Ae(this,"internalQuery"),Ae(this,"where"),Ae(this,"schema"),Ae(this,"table"),Ae(this,"column"),Ae(this,"dataType"),Ae(this,"constraint"),Ae(this,"file"),Ae(this,"line"),Ae(this,"routine"),Ae(this,"sourceError")}};I(Hp,"NeonDbError");var Zs=Hp,pl="transaction() expects an array of queries, or a function returning an array of queries",LR=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function Bp(e,{arrayMode:t,fullResults:n,fetchOptions:s,isolationLevel:i,readOnly:a,deferrable:o,queryCallback:c,resultCallback:l}={}){if(!e)throw new Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");let E;try{E=Xo(e)}catch{throw new Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(e))}let{protocol:h,username:g,password:S,hostname:A,port:p,pathname:f}=E;if(h!=="postgres:"&&h!=="postgresql:"||!g||!S||!A||!f)throw new Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function d(D,...M){let V,j;if(typeof D=="string")V=D,j=M[1],M=M[0]??[];else{V="";for(let W=0;W<D.length;W++)V+=D[W],W<M.length&&(V+="$"+(W+1))}M=M.map(W=>(0,OR.prepareValue)(W));let C={query:V,params:M};return c&&c(C),Wp(w,C,j)}I(d,"resolve"),d.transaction=async(D,M)=>{if(typeof D=="function"&&(D=D(d)),!Array.isArray(D))throw new Error(pl);D.forEach(C=>{if(C[Symbol.toStringTag]!=="NeonQueryPromise")throw new Error(pl)});let V=D.map(C=>C.parameterizedQuery),j=D.map(C=>C.opts??{});return w(V,j,M)};async function w(D,M,V){let{fetchEndpoint:j,fetchFunction:C}=Wi,W=typeof j=="function"?j(A,p):j,B=Array.isArray(D)?{queries:D}:D,F=s??{},H=t??!1,Y=n??!1,te=i,ue=a,z=o;V!==void 0&&(V.fetchOptions!==void 0&&(F={...F,...V.fetchOptions}),V.arrayMode!==void 0&&(H=V.arrayMode),V.fullResults!==void 0&&(Y=V.fullResults),V.isolationLevel!==void 0&&(te=V.isolationLevel),V.readOnly!==void 0&&(ue=V.readOnly),V.deferrable!==void 0&&(z=V.deferrable)),M!==void 0&&!Array.isArray(M)&&M.fetchOptions!==void 0&&(F={...F,...M.fetchOptions});let ie={"Neon-Connection-String":e,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"};Array.isArray(D)&&(te!==void 0&&(ie["Neon-Batch-Isolation-Level"]=te),ue!==void 0&&(ie["Neon-Batch-Read-Only"]=String(ue)),z!==void 0&&(ie["Neon-Batch-Deferrable"]=String(z)));let pe;try{pe=await(C??fetch)(W,{method:"POST",body:JSON.stringify(B),headers:ie,...F})}catch(Ee){let Se=new Zs(`Error connecting to database: ${Ee.message}`);throw Se.sourceError=Ee,Se}if(pe.ok){let Ee=await pe.json();if(Array.isArray(D)){let Se=Ee.results;if(!Array.isArray(Se))throw new Zs("Neon internal error: unexpected result format");return Se.map((Pe,mt)=>{let qe=M[mt]??{},Je=qe.arrayMode??H,Ln=qe.fullResults??Y;return Xa(Pe,{arrayMode:Je,fullResults:Ln,parameterizedQuery:D[mt],resultCallback:l,types:qe.types})})}else{let Se=M??{},Pe=Se.arrayMode??H,mt=Se.fullResults??Y;return Xa(Ee,{arrayMode:Pe,fullResults:mt,parameterizedQuery:D,resultCallback:l,types:Se.types})}}else{let{status:Ee}=pe;if(Ee===400){let Se=await pe.json(),Pe=new Zs(Se.message);for(let mt of LR)Pe[mt]=Se[mt]??void 0;throw Pe}else{let Se=await pe.text();throw new Zs(`Server error (HTTP status ${Ee}): ${Se}`)}}}return I(w,"execute"),d}I(Bp,"neon");function Wp(e,t,n){return{[Symbol.toStringTag]:"NeonQueryPromise",parameterizedQuery:t,opts:n,then:I((s,i)=>e(t,n).then(s,i),"then"),catch:I(s=>e(t,n).catch(s),"catch"),finally:I(s=>e(t,n).finally(s),"finally")}}I(Wp,"createNeonQueryPromise");function Xa(e,{arrayMode:t,fullResults:n,parameterizedQuery:s,resultCallback:i,types:a}){let o=new bR.default(a),c=e.fields.map(h=>h.name),l=e.fields.map(h=>o.getTypeParser(h.dataTypeID)),E=t===!0?e.rows.map(h=>h.map((g,S)=>g===null?null:l[S](g))):e.rows.map(h=>Object.fromEntries(h.map((g,S)=>[c[S],g===null?null:l[S](g)])));return i&&i(s,e,E,{arrayMode:t,fullResults:n}),n?(e.viaNeonFetch=!0,e.rowAsArray=t,e.rows=E,e._parsers=l,e._types=o,e):E}I(Xa,"processQueryResult");var CR=Br(Qo()),Wr=Br(zo()),Gp=class extends kp.Client{constructor(t){super(t),this.config=t}get neonConfig(){return this.connection.stream}connect(t){var E,h;let{neonConfig:n}=this;n.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&n.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let s=((E=this.config)==null?void 0:E.host)!==void 0||((h=this.config)==null?void 0:h.connectionString)!==void 0||we.env.PGHOST!==void 0,i=we.env.USER??we.env.USERNAME;if(!s&&this.host==="localhost"&&this.user===i&&this.database===i&&this.password===null)throw new Error(`No database host or connection string was set, and key parameters have default values (host: localhost, user: ${i}, db: ${i}, password: null). Is an environment variable missing? Alternatively, if you intended to connect with these parameters, please set the host to 'localhost' explicitly.`);let a=super.connect(t),o=n.pipelineTLS&&this.ssl,c=n.pipelineConnect==="password";if(!o&&!n.pipelineConnect)return a;let l=this.connection;if(o&&l.on("connect",()=>l.stream.emit("data","S")),c){l.removeAllListeners("authenticationCleartextPassword"),l.removeAllListeners("readyForQuery"),l.once("readyForQuery",()=>l.on("readyForQuery",this._handleReadyForQuery.bind(this)));let g=this.ssl?"sslconnect":"connect";l.on(g,()=>{this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return a}async _handleAuthSASLContinue(t){let n=this.saslSession,s=this.password,i=t.data;if(n.message!=="SASLInitialResponse"||typeof s!="string"||typeof i!="string")throw new Error("SASL: protocol error");let a=Object.fromEntries(i.split(",").map(Ee=>{if(!/^.=/.test(Ee))throw new Error("SASL: Invalid attribute pair entry");let Se=Ee[0],Pe=Ee.substring(2);return[Se,Pe]})),o=a.r,c=a.s,l=a.i;if(!o||!/^[!-+--~]+$/.test(o))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!c||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(c))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!l||!/^[1-9][0-9]*$/.test(l))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!o.startsWith(n.clientNonce))throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(o.length===n.clientNonce.length)throw new Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let E=parseInt(l,10),h=ye.from(c,"base64"),g=new TextEncoder,S=g.encode(s),A=await dt.subtle.importKey("raw",S,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),p=new Uint8Array(await dt.subtle.sign("HMAC",A,ye.concat([h,ye.from([0,0,0,1])]))),f=p;for(var d=0;d<E-1;d++)p=new Uint8Array(await dt.subtle.sign("HMAC",A,p)),f=ye.from(f.map((Ee,Se)=>f[Se]^p[Se]));let w=f,D=await dt.subtle.importKey("raw",w,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),M=new Uint8Array(await dt.subtle.sign("HMAC",D,g.encode("Client Key"))),V=await dt.subtle.digest("SHA-256",M),j="n=*,r="+n.clientNonce,C="r="+o+",s="+c+",i="+E,W="c=biws,r="+o,B=j+","+C+","+W,F=await dt.subtle.importKey("raw",V,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var H=new Uint8Array(await dt.subtle.sign("HMAC",F,g.encode(B))),Y=ye.from(M.map((Ee,Se)=>M[Se]^H[Se])),te=Y.toString("base64");let ue=await dt.subtle.importKey("raw",w,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),z=await dt.subtle.sign("HMAC",ue,g.encode("Server Key")),ie=await dt.subtle.importKey("raw",z,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var pe=ye.from(await dt.subtle.sign("HMAC",ie,g.encode(B)));n.message="SASLResponse",n.serverSignature=pe.toString("base64"),n.response=W+",p="+te,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};I(Gp,"NeonClient");var wR=Gp;function qp(e,t){if(t)return{callback:t,result:void 0};let n,s,i=I(function(o,c){o?n(o):s(c)},"cb"),a=new e(function(o,c){s=o,n=c});return{callback:i,result:a}}I(qp,"promisify");var Yp=class extends kp.Pool{constructor(){super(...arguments),Ae(this,"Client",wR),Ae(this,"hasFetchUnsupportedListeners",!1)}on(t,n){return t!=="error"&&(this.hasFetchUnsupportedListeners=!0),super.on(t,n)}query(t,n,s){var a;if(!Wi.poolQueryViaFetch||this.hasFetchUnsupportedListeners||typeof t=="function")return super.query(t,n,s);typeof n=="function"&&(s=n,n=void 0);let i=qp(this.Promise,s);s=i.callback;try{let o=new CR.default(this.options),c=encodeURIComponent,l=encodeURI,E=`postgresql://${c(o.user)}:${c(o.password)}@${c(o.host)}/${l(o.database)}`,h=typeof t=="string"?t:t.text,g=n??t.values??[];Bp(E,{fullResults:!0,arrayMode:t.rowMode==="array"})(h,g,{types:t.types??((a=this.options)==null?void 0:a.types)}).then(S=>s(void 0,S)).catch(S=>s(S))}catch(o){s(o)}return i.result}};I(Yp,"NeonPool");var DR=Yp;Wr.ClientBase;Wr.Connection;Wr.DatabaseError;Wr.Query;Wr.defaults;Wr.types;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/var gr=(e=>(e.Red="#FF2B6A",e.Green="#2BE5AD",e.LightGreen="#8DF0D2",e.Yellow="#FFD73A",e))(gr||{});class oa{constructor(t,n){this.text=t,this.color=n}html(){return`<span ${this.color?`style="color: ${this.color}"`:""}>${this.text}</span>`}}class PR{constructor(t,n){Be(this,"currentLine");Be(this,"currentLineBuffer",[]);Be(this,"currentLinePrompt","");Be(this,"promptMode",!1);Be(this,"promptText","");Be(this,"history",[]);Be(this,"historyIndex",0);Be(this,"undoHistoryLine","");Be(this,"newLineListeners",[]);Be(this,"keywords",new Set);this.appNode=t,this.inputManager=n}addLine(){var n;this.inputManager.resetText("");const t=(n=this.currentLine)==null?void 0:n.classList.contains("cursor");if(t&&this.hideCursor(),this.currentLine){const s=document.createElement("br");this.appNode.appendChild(s)}this.currentLine=document.createElement("div"),this.currentLine.classList.add("line"),this.appNode.appendChild(this.currentLine),t&&this.showCursor(),this.renderCurrentLine(),this.appNode.scrollTop=this.appNode.scrollHeight}renderCurrentPrompt(){this.currentLineBuffer=this.wrapSql(this.currentLinePrompt),this.renderCurrentLine()}renderCurrentLine(){this.currentLine.innerHTML="",this.promptMode&&(this.currentLine.textContent+=this.promptText),this.currentLine.innerHTML+=this.currentLineBuffer.map(t=>t.html()).join(""),this.appNode.style.setProperty("--cursor-position",(this.inputManager.cursorPosition-1+(this.promptMode?this.promptText.length-1:-1)).toString())}init(){this.appNode.classList.add("terminal"),this.addLine(),this.inputManager.on("left",()=>{this.promptMode&&this.renderCurrentLine()}),this.inputManager.on("right",()=>{this.promptMode&&this.renderCurrentLine()}),this.inputManager.on("up",()=>{this.promptMode&&this.historyIndex>0&&(this.historyIndex===this.history.length&&(this.undoHistoryLine=this.currentLinePrompt),this.historyIndex--,this.currentLinePrompt=this.history[this.historyIndex],this.inputManager.resetText(this.currentLinePrompt),this.renderCurrentPrompt())}),this.inputManager.on("down",()=>{this.promptMode&&this.historyIndex<this.history.length&&(this.historyIndex++,this.currentLinePrompt=this.historyIndex===this.history.length?this.undoHistoryLine:this.history[this.historyIndex],this.inputManager.resetText(this.currentLinePrompt),this.renderCurrentPrompt(),this.historyIndex===this.history.length&&(this.undoHistoryLine=""))}),this.inputManager.on("enter",()=>{this.promptMode&&(this.history.push(this.currentLinePrompt),this.historyIndex=this.history.length,this.undoHistoryLine=""),this.newLineListeners.forEach(t=>t(this.currentLinePrompt)),this.currentLineBuffer=[],this.currentLinePrompt="",this.inputManager.resetText("")}),this.inputManager.on("inputChange",t=>{this.promptMode&&(this.currentLinePrompt=t,this.renderCurrentPrompt())}),fetch("/keywords.json").then(t=>t.json()).then(({keywords:t})=>{this.keywords=new Set(t)})}startPromptMode(t=""){this.promptText=t,this.promptMode=!0,this.appNode.classList.add("prompt-mode"),this.renderCurrentLine()}stopPromptMode(){this.promptMode=!1,this.appNode.classList.remove("prompt-mode")}writeChunk(t){this.currentLinePrompt+=t.text,this.currentLineBuffer.push(t),this.inputManager.resetText(this.currentLinePrompt),this.renderCurrentLine()}writeChunks(t){t.forEach(n=>this.writeChunk(n))}write(t,n){const s=new oa(t,n);this.writeChunk(s)}writeln(t,n){this.write(t,n),this.currentLineBuffer=[],this.currentLinePrompt="",this.addLine()}showCursor(){this.currentLine.classList.add("cursor")}hideCursor(){this.currentLine.classList.remove("cursor")}waitLine(){return new Promise(t=>{this.newLineListeners.push(t)})}wrapSql(t){const n=/\W/g,s=[],i=t.trimStart().startsWith("\\");let a=0;for(;;){const o=n.exec(t),c=o?o.index:t.length,l=t.slice(a,c);if(s.push(new oa(l,!i&&this.keywords.has(l.toLowerCase())?gr.LightGreen:void 0)),o)s.push(new oa(o[0])),a=c+1;else break}return s}}class UR{async request(t,n){const s=await fetch(t,{method:(n==null?void 0:n.method)||"GET",headers:{"Content-Type":"application/json"},body:n!=null&&n.body?JSON.stringify(n.body):void 0,credentials:"include"});if(!s.ok){const i=await s.json().catch(()=>({}));throw new Error(i.error||`HTTP ${s.status}`)}return s.json()}async issueDatabase(t={}){return this.request("/api/issue-database",{method:"POST",body:t})}async listTemplates(){return this.request("/api/templates")}async textToSql(t){const n=await this.request("/api/text-to-sql",{method:"POST",body:t});if(n.error)throw new Error(n.error);return n.sql||""}}const ca=new UR,MR="E",FR="b",xR="i",kR="a",HR="e",BR="r",WR="S",GR="f",qR="T",YR="n",jR="a",$R="d",VR="s",Zt="r",Dn="i",XR="S",rs="t",ss="v",Ct="m",la="c",en="f",Tt="p",tn="I";function QR(e){return typeof e=="string"?e:ZR(e)}function KR(e,t,n,s,i=!1,a=null,o=1,c=l=>`https://www.postgresql.org/docs/current/${l}.html`){let l=!1;function E(){l=!0,s=()=>{}}function h(){if(l)throw new Error("cancelled")}async function g(){const S=e.match(/^\\([?hdzsl]\S*)(.*)/);if(!S)return s(`unsupported command: ${e}`),!1;let[,A,p]=S;if(A=A.replace(/^lo_list/,"dl"),A=A.replace(/^z/,"dp"),A==="?")return s(iA),!1;if(A==="h"){const L=(p??"").trim().toUpperCase().replace(/\s+/g," ");if(L==="")return s(`Available help:
`+is.map(O=>O[0]).join(`
`)),!1;{let O=L==="*"?is:is.filter(R=>R[0]===L);if(O.length===0&&(O=is.filter(R=>R[0].startsWith(L))),O.length===0){const R=L.split(" ");for(let T=R.length;T>0;T--){const v=R.slice(0,T).join(" ");if(O=is.filter(m=>m[0].startsWith(v)),O.length>0)break}}if(O.length===0)return s(`No help available for "${p.trim()}".
Try \\h with no arguments to see available help.`),!1;for(const R of O){const T={};le(T),R[3](T),s(`Command:     ${R[0]}
Description: ${R[1]}
Syntax:
${T.data}

URL: ${c(R[2])}

`)}return!1}}const f=async(L,O=!1)=>{h(),i&&!O&&s(`/******** QUERY *********/
${L}
/************************/`);const R=await n(L);return h(),R};let d;try{if(!a){const T=await f("SHOW server_version_num",!0);a=parseInt(T.rows[0][0],10)}d={sversion:a,db:{dbName:t,sversion:a,std_strings:o,status:0,encoding:6},popt:{topt:{default_footer:!0},nullPrint:""}};const L=[p,0];await(A[0]==="d"?qe(L,!0,A):A[0]==="s"?A[1]==="f"||A[1]==="v"?ue(L,!0,A,A[1]==="f"):0:A[0]==="l"?mt(L,!0,A):0)===0&&s(`invalid command \\${A}`);let O,R=[];for(;O=Mn(L,0,null,!0);)R.push(ft('\\%s: extra argument "%s" ignored',A,O));R.length>0&&s(R.join(`
`))}catch(L){return s("ERROR:  "+L.message),l?null:!1}function w(L,...O){s(ft(L,...O))}function D(L,O,R,T,v,m,U,K,Q,x){let ae={},se={},ee;if(le(ae),ee=M(d.db,L,O,R,T,v,m,U,K,ae,se),se=se.value,Q&&(Q.value=ee),se>=x)return w("improper qualified name (too many dotted names): %s",O),!1;if(x>1&&se==x-1){if(gl(d.db)==null)return w("You are currently not connected to a database."),!1;if(he(gl(d.db),ae.data)!=0)return w("cross-database references are not implemented: %s",O),!1}return!0}function M(L,O,R,T,v,m,U,K,Q,x,ae){let se={},ee={},Te=!1;return ae||(ae={}),ae.value=0,R==null?(Q&&(P(O,T?"  AND ":"WHERE "),T=!0,Te=!0,b(O,`%s
`,Q)),Te):(le(se),le(ee),V(jp(L),m?x:null,m?se:null,ee,R,v,!0,ae),U&&ee.len>2&&he(ee.data,"^(.*)$")!=0&&(P(O,T?"  AND ":"WHERE "),T=!0,Te=!0,K?(b(O,"(%s OPERATOR(pg_catalog.~) ",U),dr(O,ee.data,L),as(L)>=12e4&&P(O," COLLATE pg_catalog.default"),b(O,`
        OR %s OPERATOR(pg_catalog.~) `,K),dr(O,ee.data,L),as(L)>=12e4&&P(O," COLLATE pg_catalog.default"),P(O,`)
`)):(b(O,"%s OPERATOR(pg_catalog.~) ",U),dr(O,ee.data,L),as(L)>=12e4&&P(O," COLLATE pg_catalog.default"),Ge(O,`
`))),m&&se.len>2?he(se.data,"^(.*)$")!=0&&m&&(P(O,T?"  AND ":"WHERE "),T=!0,Te=!0,b(O,"%s OPERATOR(pg_catalog.~) ",m),dr(O,se.data,L),as(L)>=12e4&&P(O," COLLATE pg_catalog.default"),Ge(O,`
`)):Q&&(P(O,T?"  AND ":"WHERE "),T=!0,Te=!0,b(O,`%s
`,Q)),Te)}function V(L,O,R,T,v,m,U,K){let Q=[{},{},{}],x=0,ae={},se={},ee={},Te,ge,qt;pr(v),pr(T),pr(!O||R),pr(K),K.value=0,Te=!1,qt=v,O?ee=2:R?ee=1:ee=0,se=Q[x],ge=!0,le(ae),le(se),P(se,"^(");let st=0,ve;for(;(ve=qt[st])!=null;)ve=='"'?(Te&&qt[st+1]=='"'?(Ge(se,'"'),ge&&Ge(ae,'"'),st++):Te=!Te,st++):!Te&&nA(ve)?(Ge(se,Qa(ve)),ge&&Ge(ae,Qa(ve)),st++):!Te&&ve=="*"?(P(se,".*"),ge&&Ge(ae,"*"),st++):!Te&&ve=="?"?(Ge(se,"."),ge&&Ge(ae,"?"),st++):!Te&&ve=="."?(ge=!1,K.value++,x<ee?(P(se,")$"),se=Q[++x],le(se),P(se,"^("),st++):(Ge(se,ve),st++)):ve=="$"?(P(se,"\\$"),ge&&Ge(ae,"$"),st++):(((Te||m)&&Ke("|*+?()[]{}.^$\\",ve)!=null||ve=="["&&qt[st+1]=="]")&&Ge(se,"\\"),ge&&Ge(ae,ve),Ge(se,ve),st++);P(se,")$"),T&&(P(T,se.data),se=Q[--x]),R&&x>=0&&(P(R,se.data),se=Q[--x]),O&&x>=0&&P(O,ae.data)}function j(L){let O;switch(L){case 21:case 23:case 20:case 700:case 701:case 1700:case 26:case 28:case 5069:case 29:case 790:O="r";break;default:O="l";break}return O}function C(L,O,R,T,v){let m={},U,K,Q;for(W(m,O.topt,O.title,$p(L),be(L)),pr(O.translate_columns==null||O.translate_columns==null||O.n_translate_columns>=m.ncolumns),U=0;U<m.ncolumns;U++)B(m,Vp(L,U),O.translate_header,j(sA(L,U)));for(K=0;K<m.nrows;K++)for(Q=0;Q<m.ncolumns;Q++){let x,ae;lt(L,K,Q)?x=O.nullPrint?O.nullPrint:"":(x=q(L,K,Q),m.aligns[Q]=="r"&&O.topt.numericLocale&&(x=format_numeric_locale(x))),ae=O.translate_columns&&O.translate_columns[Q],F(m,x,ae)}if(O.footers)for(let x of O.footers)H(m,x);te(m)}function W(L,O,R,T,v){L.opt=O,L.title=R,L.ncolumns=T,L.nrows=v,L.headers=[],L.cells=[],L.footers=null,L.aligns=[]}function B(L,O,R,T){R&&(O=r(O)),L.headers.push(O),L.header=O,L.aligns.push(T),L.align=T}function F(L,O,R,T){R&&(O=r(O)),L.cells.push(O),L.cell=O}function H(L,O){L.footers==null&&(L.footers=[]),L.footers.push(O),L.footer=O}function Y(L,O){L.footers&&L.footers.pop(),H(L,O)}function te(L,O,R,T){s({...L})}async function ue(L,O,R,T){let v=2,m=Ke(R,"+")!=null,U={},K,Q={value:0},x=T?0:1;return le(U),K=Mn(L,4),K?await ie(x,K,Q)&&await pe(x,Q.value,U)?m?z(U.data,T):s(U.data):v=5:(w(T?"function name is required":"view name is required"),v=5),v}function z(L,O){let R=O,T=0,v="";L=L.trimEnd().split(`
`);for(let m of L)R&&(Er(m,"AS ",3)==0||Er(m,"BEGIN ",6)==0||Er(m,"RETURN ",7)==0)&&(R=!1),R||T++,R?v+=ft(`        %s
`,m):v+=ft(`%-7d %s
`,T,m);s(v)}async function ie(L,O,R){let T=!0,v={};le(v);let m;switch(L){case 0:P(v,"SELECT "),dr(v,O,d.db),b(v,"::pg_catalog.%s::pg_catalog.oid",Ke(O,"(")!==null?"regprocedure":"regproc");break;case 1:P(v,"SELECT "),dr(v,O,d.db),P(v,"::pg_catalog.regclass::pg_catalog.oid");break}try{m=await f(v.data),m&&be(m)==1?R.value=ua(q(m,0,0)):(w("Error when querying"),T=!1)}catch(U){w("ERROR:  "+U.message),T=!1}return T}async function pe(L,O,R){let T=!0,v={};le(v);let m;switch(L){case 0:X(v,"SELECT pg_catalog.pg_get_functiondef(%u)",O);break;case 1:d.sversion>=90400?X(v,"SELECT nspname, relname, relkind, pg_catalog.pg_get_viewdef(c.oid, true), pg_catalog.array_remove(pg_catalog.array_remove(c.reloptions,'check_option=local'),'check_option=cascaded') AS reloptions, CASE WHEN 'check_option=local' = ANY (c.reloptions) THEN 'LOCAL'::text WHEN 'check_option=cascaded' = ANY (c.reloptions) THEN 'CASCADED'::text ELSE NULL END AS checkoption FROM pg_catalog.pg_class c LEFT JOIN pg_catalog.pg_namespace n ON c.relnamespace = n.oid WHERE c.oid = %u",O):X(v,"SELECT nspname, relname, relkind, pg_catalog.pg_get_viewdef(c.oid, true), c.reloptions AS reloptions, NULL AS checkoption FROM pg_catalog.pg_class c LEFT JOIN pg_catalog.pg_namespace n ON c.relnamespace = n.oid WHERE c.oid = %u",O);break}if(m=await f(v.data),m&&be(m)==1){switch(pa(R),L){case 0:P(R,q(m,0,0));break;case 1:let U=q(m,0,0),K=q(m,0,1),Q=q(m,0,2),x=q(m,0,3),ae=q(m,0,4),se=q(m,0,5);switch(Q[0]){case ss:P(R,"CREATE OR REPLACE VIEW ");break;default:w('"%s.%s" is not a view',U,K),T=!1;break}b(R,"%s.",Pe(U)),P(R,Pe(K)),ae!=null&&sn(ae)>2&&(P(R,`
 WITH (`),Ee(R,ae,"",d.encoding,d.db.standard_strings)||(w("could not parse reloptions array"),T=!1),Ge(R,")")),b(R,` AS
%s`,x),R.len>0&&R.data[R.len-1]==";"&&(R.data=R.data.slice(0,R.len-1)),se&&se[0]!=null&&b(R,`
 WITH %s CHECK OPTION`,se);break}R.len>0&&R.data[R.len-1]!=`
`&&Ge(R,`
`)}else w("Error when querying"),T=!1;return T}function Ee(L,O,R,T,v){let m=[],U={},K;if(!Se(O,m,U))return!1;for(U=U.value,K=0;K<U;K++){let Q=m[K],[x,ae]=Q.split("=");ae??(ae=""),K>0&&P(L,", "),b(L,"%s%s=",R,Pe(x)),he(Pe(ae),ae)==0?P(L,ae):Ka(L,ae,T,v)}return!0}function Se(L,O,R){let T,v,m;if(T=sn(L),R.value=0,T<2||L[0]!="{"||L[T-1]!="}")return!1;let U=0;for(U++,m=0;L[U]!="}";){if(L[U]==null)return!1;for(v="";L[U]!="}"&&L[U]!=",";){if(L[U]==null)return!1;if(L[U]!='"')v+=L[U++];else{for(U++;L[U]!='"';){if(L[U]==null||L[U]=="\\"&&(U++,L[U]==null))return!1;v+=L[U++]}U++}}O[m]=v,L[U]==","&&U++,m++}return L[U+1]&&L[U+1]!=null?!1:(R.value=m,!0)}function Pe(L){let O={};le(O);let R=!1;return L[0]>="a"&&L[0]<="z"||L[0]=="_"?/[^a-z0-9_]/.test(L)&&(R=!0):R=!0,R||new Set(["all","analyse","analyze","and","any","array","as","asc","asymmetric","authorization","between","bigint","binary","bit","boolean","both","case","cast","char","character","check","coalesce","collate","collation","column","concurrently","constraint","create","cross","current_catalog","current_date","current_role","current_schema","current_time","current_timestamp","current_user","dec","decimal","default","deferrable","desc","distinct","do","else","end","except","exists","extract","false","fetch","float","for","foreign","freeze","from","full","grant","greatest","group","grouping","having","ilike","in","initially","inner","inout","int","integer","intersect","interval","into","is","isnull","join","json","json_array","json_arrayagg","json_object","json_objectagg","json_scalar","json_serialize","lateral","leading","least","left","like","limit","localtime","localtimestamp","national","natural","nchar","none","normalize","not","notnull","null","nullif","numeric","offset","on","only","or","order","out","outer","overlaps","overlay","placing","position","precision","primary","real","references","returning","right","row","select","session_user","setof","similar","smallint","some","substring","symmetric","system_user","table","tablesample","then","time","timestamp","to","trailing","treat","trim","true","union","unique","user","using","values","varchar","variadic","verbose","when","where","window","with","xmlattributes","xmlconcat","xmlelement","xmlexists","xmlforest","xmlnamespaces","xmlparse","xmlpi","xmlroot","xmlserialize","xmltable"]).has(L)&&(R=!0),R?(Ge(O,'"'),Ge(O,L.replace(/"/g,'""')),Ge(O,'"')):P(O,L),O.data}async function mt(L,O,R){let T,v,m;return v=Mn(L,0),m=Ke(R,"+")!=null,T=await Ln(v,m),T?2:5}async function qe(L,O,R){let T=2,v=!0,m,U,K;switch(m=Mn(L,0),U=Ke(R,"+")!=null,K=Ke(R,"S")!=null,R[1]){case void 0:case"+":case"S":m?v=await gn(m,U,K):v=await mn("tvmsE",null,U,K);break;case"A":{let Q=null;switch(m&&R[2]!=null&&R[2]!="+"&&(Q=Mn(L,0)),R[2]){case void 0:case"+":v=await qr(m,U);break;case"c":v=await ad(m,Q,U);break;case"f":v=await od(m,Q,U);break;case"o":v=await cd(m,Q,U);break;case"p":v=await ld(m,Q,U);break;default:T=0;break}}break;case"a":v=await Gr(m,U,K);break;case"b":v=await Yr(m,U);break;case"c":Er(R,"dconfig",7)==0?v=await ws(m,U):v=await Mt(m,U,K);break;case"C":v=await y(m,U);break;case"d":Er(R,"ddp",3)==0?v=await Vr(m):v=await zt(m,K);break;case"D":v=await Yi(m,U,K);break;case"f":switch(R[2]){case void 0:case"+":case"S":case"a":case"n":case"p":case"t":case"w":v=await Je(L,R,m,U,K);break;default:T=0;break}break;case"g":v=await Cn(m,U,K);break;case"l":v=await ud(U);break;case"L":v=await ar(m,U,K);break;case"n":v=await $(m,U,K);break;case"o":v=await Je(L,R,m,U,K);break;case"O":v=await k(m,U,K);break;case"p":v=await Ls(m,K);break;case"P":switch(R[2]){case void 0:case"+":case"t":case"i":case"n":v=await vt(R.slice(2),m,U);break;default:T=0;break}break;case"T":v=await En(m,U,K);break;case"t":case"v":case"m":case"i":case"s":case"E":v=await mn(R[1],m,U,K);break;case"r":if(R[2]=="d"&&R[3]=="s"){let Q=null;m&&(Q=Mn(L,0)),v=await Cs(m,Q)}else R[2]=="g"?v=await Xr(m,K):T=0;break;case"R":switch(R[2]){case"p":U?v=await sd(m):v=await rd(m);break;case"s":v=await id(m,U);break;default:T=0}break;case"u":v=await Cn(m,U,K);break;case"F":switch(R[2]){case void 0:case"+":v=await He(m,U);break;case"p":v=await J(m,U);break;case"d":v=await Ze(m,U);break;case"t":v=await We(m,U);break;default:T=0;break}break;case"e":switch(R[2]){case"s":v=await zp(m,U);break;case"u":v=await Jp(m,U);break;case"w":v=await Kp(m,U);break;case"t":v=await Zp(m,U);break;default:T=0;break}break;case"x":U?v=await td(m):v=await ed(m);break;case"X":v=await _(m);break;case"y":v=await u(m,U);break;default:T=0}return v||(T=5),T}async function Je(L,O,R,T,v){let m,U=[],K=0;if(R){let Q;for(;(Q=Mn(L,0))!=null&&(U[K++]=Q,!(K>=100)););}return O[1]=="f"?m=await jr(O.slice(2),R,U,K,T,v):m=await $r(R,U,K,T,v),m}async function Ln(L,O){let R,T={},v=d.popt;return le(T),X(T,`SELECT
  d.datname as "%s",
  pg_catalog.pg_get_userbyid(d.datdba) as "%s",
  pg_catalog.pg_encoding_to_char(d.encoding) as "%s",
`,N("Name"),N("Owner"),N("Encoding")),d.sversion>=15e4?b(T,`  CASE d.datlocprovider WHEN 'b' THEN 'builtin' WHEN 'c' THEN 'libc' WHEN 'i' THEN 'icu' END AS "%s",
`,N("Locale Provider")):b(T,`  'libc' AS "%s",
`,N("Locale Provider")),b(T,`  d.datcollate as "%s",
  d.datctype as "%s",
`,N("Collate"),N("Ctype")),d.sversion>=17e4?b(T,`  d.datlocale as "%s",
`,N("Locale")):d.sversion>=15e4?b(T,`  d.daticulocale as "%s",
`,N("Locale")):b(T,`  NULL as "%s",
`,N("Locale")),d.sversion>=16e4?b(T,`  d.daticurules as "%s",
`,N("ICU Rules")):b(T,`  NULL as "%s",
`,N("ICU Rules")),P(T,"  "),It(T,"d.datacl"),O&&b(T,`,
  CASE WHEN pg_catalog.has_database_privilege(d.datname, 'CONNECT')
       THEN pg_catalog.pg_size_pretty(pg_catalog.pg_database_size(d.datname))
       ELSE 'No Access'
  END as "%s",
  t.spcname as "%s",
  pg_catalog.shobj_description(d.oid, 'pg_database') as "%s"`,N("Size"),N("Tablespace"),N("Description")),P(T,`
FROM pg_catalog.pg_database d
`),O&&P(T,`  JOIN pg_catalog.pg_tablespace t on d.dattablespace = t.oid
`),L&&!D(T,L,!1,!1,null,"d.datname",null,null,null,1)||(P(T,"ORDER BY 1;"),R=await f(T.data),!R)?!1:(v.nullPrint=null,v.title=r("List of databases"),v.translate_header=!0,C(R,v,d.queryFout,!1,d.logfile),!0)}async function Gr(L,O,R){let T={},v,m=d.popt;return le(T),X(T,`SELECT n.nspname as "%s",
  p.proname AS "%s",
  pg_catalog.format_type(p.prorettype, NULL) AS "%s",
  CASE WHEN p.pronargs = 0
    THEN CAST('*' AS pg_catalog.text)
    ELSE pg_catalog.pg_get_function_arguments(p.oid)
  END AS "%s",
`,N("Schema"),N("Name"),N("Result data type"),N("Argument data types")),d.sversion>=11e4?b(T,`  pg_catalog.obj_description(p.oid, 'pg_proc') as "%s"
FROM pg_catalog.pg_proc p
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace
WHERE p.prokind = 'a'
`,N("Description")):b(T,`  pg_catalog.obj_description(p.oid, 'pg_proc') as "%s"
FROM pg_catalog.pg_proc p
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace
WHERE p.proisagg
`,N("Description")),!R&&!L&&P(T,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(T,L,!0,!1,"n.nspname","p.proname",null,"pg_catalog.pg_function_is_visible(p.oid)",null,3)||(P(T,"ORDER BY 1, 2, 4;"),v=await f(T.data),!v)?!1:(m.nullPrint=null,m.title=r("List of aggregate functions"),m.translate_header=!0,C(v,m,d.queryFout,!1,d.logfile),!0)}async function qr(L,O){let R={},T,v=d.popt,m=[!1,!0,!1,!1];return d.sversion<90600?(w("The server (version %s) does not support access methods.",Sn(d.sversion,!1,void 0)),!0):(le(R),X(R,`SELECT amname AS "%s",
  CASE amtype WHEN 'i' THEN '%s' WHEN 't' THEN '%s' END AS "%s"`,N("Name"),N("Index"),N("Table"),N("Type")),O&&b(R,`,
  amhandler AS "%s",
  pg_catalog.obj_description(oid, 'pg_am') AS "%s"`,N("Handler"),N("Description")),P(R,`
FROM pg_catalog.pg_am
`),!D(R,L,!1,!1,null,"amname",null,null,null,1)||(P(R,"ORDER BY 1;"),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of access methods"),v.translate_header=!0,v.translate_columns=m,v.n_translate_columns=et(m),C(T,v,d.queryFout,!1,d.logfile),!0))}async function Yr(L,O){let R={},T,v=d.popt;return le(R),X(R,`SELECT spcname AS "%s",
  pg_catalog.pg_get_userbyid(spcowner) AS "%s",
  pg_catalog.pg_tablespace_location(oid) AS "%s"`,N("Name"),N("Owner"),N("Location")),O&&(P(R,`,
  `),It(R,"spcacl"),b(R,`,
  spcoptions AS "%s",
  pg_catalog.pg_size_pretty(pg_catalog.pg_tablespace_size(oid)) AS "%s",
  pg_catalog.shobj_description(oid, 'pg_tablespace') AS "%s"`,N("Options"),N("Size"),N("Description"))),P(R,`
FROM pg_catalog.pg_tablespace
`),!D(R,L,!1,!1,null,"spcname",null,null,null,1)||(P(R,"ORDER BY 1;"),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of tablespaces"),v.translate_header=!0,C(T,v,d.queryFout,!1,d.logfile),!0)}async function jr(L,O,R,T,v,m){let U=Ke(L,"a")!=null,K=Ke(L,"n")!=null,Q=Ke(L,"p")!=null,x=Ke(L,"t")!=null,ae=Ke(L,"w")!=null,se,ee={},Te,ge=d.popt,qt=[!1,!1,!1,!1,!0,!0,!0,!1,!0,!1,!1,!1,!1],st=[!1,!1,!1,!1,!0,!0,!1,!0,!1,!1,!1,!1];if(sn(L)!=eA(L,"anptwS+"))return w("\\df only takes [anptwS+] as options"),!0;if(Q&&d.sversion<11e4)return w('\\df does not take a "%c" option with server version %s',"p",Sn(d.sversion,!1,void 0)),!0;!U&&!K&&!Q&&!x&&!ae&&(U=K=x=ae=!0,d.sversion>=11e4&&(Q=!0)),le(ee),X(ee,`SELECT n.nspname as "%s",
  p.proname as "%s",
`,N("Schema"),N("Name")),d.sversion>=11e4?b(ee,`  pg_catalog.pg_get_function_result(p.oid) as "%s",
  pg_catalog.pg_get_function_arguments(p.oid) as "%s",
 CASE p.prokind
  WHEN 'a' THEN '%s'
  WHEN 'w' THEN '%s'
  WHEN 'p' THEN '%s'
  ELSE '%s'
 END as "%s"`,N("Result data type"),N("Argument data types"),N("agg"),N("window"),N("proc"),N("func"),N("Type")):b(ee,`  pg_catalog.pg_get_function_result(p.oid) as "%s",
  pg_catalog.pg_get_function_arguments(p.oid) as "%s",
 CASE
  WHEN p.proisagg THEN '%s'
  WHEN p.proiswindow THEN '%s'
  WHEN p.prorettype = 'pg_catalog.trigger'::pg_catalog.regtype THEN '%s'
  ELSE '%s'
 END as "%s"`,N("Result data type"),N("Argument data types"),N("agg"),N("window"),N("trigger"),N("func"),N("Type")),v&&(b(ee,`,
 CASE
  WHEN p.provolatile = 'i' THEN '%s'
  WHEN p.provolatile = 's' THEN '%s'
  WHEN p.provolatile = 'v' THEN '%s'
 END as "%s"`,N("immutable"),N("stable"),N("volatile"),N("Volatility")),d.sversion>=90600&&b(ee,`,
 CASE
  WHEN p.proparallel = 'r' THEN '%s'
  WHEN p.proparallel = 's' THEN '%s'
  WHEN p.proparallel = 'u' THEN '%s'
 END as "%s"`,N("restricted"),N("safe"),N("unsafe"),N("Parallel")),b(ee,`,
 pg_catalog.pg_get_userbyid(p.proowner) as "%s",
 CASE WHEN prosecdef THEN '%s' ELSE '%s' END AS "%s"`,N("Owner"),N("definer"),N("invoker"),N("Security")),P(ee,`,
 `),It(ee,"p.proacl"),b(ee,`,
 l.lanname as "%s"`,N("Language")),b(ee,`,
 CASE WHEN l.lanname IN ('internal', 'c') THEN p.prosrc END as "%s"`,N("Internal name")),b(ee,`,
 pg_catalog.obj_description(p.oid, 'pg_proc') as "%s"`,N("Description"))),P(ee,`
FROM pg_catalog.pg_proc p
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.pronamespace
`);for(let ve=0;ve<T;ve++)b(ee,`     LEFT JOIN pg_catalog.pg_type t%d ON t%d.oid = p.proargtypes[%d]
     LEFT JOIN pg_catalog.pg_namespace nt%d ON nt%d.oid = t%d.typnamespace
`,ve,ve,ve,ve,ve,ve);if(v&&P(ee,`     LEFT JOIN pg_catalog.pg_language l ON l.oid = p.prolang
`),se=!1,!(K&&U&&Q&&x&&ae))if(K)U||(se?P(ee,"      AND "):(P(ee,"WHERE "),se=!0),d.sversion>=11e4?P(ee,`p.prokind <> 'a'
`):P(ee,`NOT p.proisagg
`)),!Q&&d.sversion>=11e4&&(se?P(ee,"      AND "):(P(ee,"WHERE "),se=!0),P(ee,`p.prokind <> 'p'
`)),x||(se?P(ee,"      AND "):(P(ee,"WHERE "),se=!0),P(ee,`p.prorettype <> 'pg_catalog.trigger'::pg_catalog.regtype
`)),ae||(se?P(ee,"      AND "):(P(ee,"WHERE "),se=!0),d.sversion>=11e4?P(ee,`p.prokind <> 'w'
`):P(ee,`NOT p.proiswindow
`));else{let ve=!1;P(ee,`WHERE (
       `),se=!0,U&&(d.sversion>=11e4?P(ee,`p.prokind = 'a'
`):P(ee,`p.proisagg
`),ve=!0),x&&(ve&&P(ee,"       OR "),P(ee,`p.prorettype = 'pg_catalog.trigger'::pg_catalog.regtype
`),ve=!0),Q&&(ve&&P(ee,"       OR "),P(ee,`p.prokind = 'p'
`),ve=!0),ae&&(ve&&P(ee,"       OR "),d.sversion>=11e4?P(ee,`p.prokind = 'w'
`):P(ee,`p.proiswindow
`)),P(ee,`      )
`)}if(!D(ee,O,se,!1,"n.nspname","p.proname",null,"pg_catalog.pg_function_is_visible(p.oid)",null,3))return!1;for(let ve=0;ve<T;ve++)if(he(R[ve],"-")!=0){let Qr,Kr,zr,Jr;if(Qr=ft("nt%d.nspname",ve),Kr=ft("t%d.typname",ve),zr=ft("pg_catalog.format_type(t%d.oid, NULL)",ve),Jr=ft("pg_catalog.pg_type_is_visible(t%d.oid)",ve),!D(ee,hn(R[ve]),!0,!1,Qr,Kr,zr,Jr,null,3))return!1}else b(ee,`  AND t%d.typname IS NULL
`,ve);return!m&&!O&&P(ee,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),P(ee,"ORDER BY 1, 2, 4;"),Te=await f(ee.data),Te?(ge.nullPrint=null,ge.title=r("List of functions"),ge.translate_header=!0,d.sversion>=90600?(ge.translate_columns=qt,ge.n_translate_columns=et(qt)):(ge.translate_columns=st,ge.n_translate_columns=et(st)),C(Te,ge,d.queryFout,!1,d.logfile),!0):!1}async function En(L,O,R){let T={},v,m=d.popt;return le(T),X(T,`SELECT n.nspname as "%s",
  pg_catalog.format_type(t.oid, NULL) AS "%s",
`,N("Schema"),N("Name")),O&&(b(T,`  t.typname AS "%s",
  CASE WHEN t.typrelid != 0
      THEN CAST('tuple' AS pg_catalog.text)
    WHEN t.typlen < 0
      THEN CAST('var' AS pg_catalog.text)
    ELSE CAST(t.typlen AS pg_catalog.text)
  END AS "%s",
  pg_catalog.array_to_string(
      ARRAY(
          SELECT e.enumlabel
          FROM pg_catalog.pg_enum e
          WHERE e.enumtypid = t.oid
          ORDER BY e.enumsortorder
      ),
      E'\\n'
  ) AS "%s",
  pg_catalog.pg_get_userbyid(t.typowner) AS "%s",
`,N("Internal name"),N("Size"),N("Elements"),N("Owner")),It(T,"t.typacl"),P(T,`,
  `)),b(T,`  pg_catalog.obj_description(t.oid, 'pg_type') as "%s"
`,N("Description")),P(T,`FROM pg_catalog.pg_type t
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace
`),P(T,"WHERE (t.typrelid = 0 "),P(T,`OR (SELECT c.relkind = 'c' FROM pg_catalog.pg_class c WHERE c.oid = t.typrelid))
`),(L==null||ci(L,"[]")==null)&&P(T,`  AND NOT EXISTS(SELECT 1 FROM pg_catalog.pg_type el WHERE el.oid = t.typelem AND el.typarray = t.oid)
`),!R&&!L&&P(T,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(T,hn(L),!0,!1,"n.nspname","t.typname","pg_catalog.format_type(t.oid, NULL)","pg_catalog.pg_type_is_visible(t.oid)",null,3)||(P(T,"ORDER BY 1, 2;"),v=await f(T.data),!v)?!1:(m.nullPrint=null,m.title=r("List of data types"),m.translate_header=!0,C(v,m,d.queryFout,!1,d.logfile),!0)}function hn(L){let O=["decimal","numeric","float","double precision","int","integer","bool[]","boolean[]","decimal[]","numeric[]","float[]","double precision[]","float4[]","real[]","float8[]","double precision[]","int[]","integer[]","int2[]","smallint[]","int4[]","integer[]","int8[]","bigint[]","time[]","time without time zone[]","timetz[]","time with time zone[]","timestamp[]","timestamp without time zone[]","timestamptz[]","timestamp with time zone[]","varbit[]","bit varying[]","varchar[]","character varying[]",null];if(L==null)return null;for(let R=0;O[R]!=null;R+=2)if(rA(L,O[R])==0)return O[R+1];return L}async function $r(L,O,R,T,v){let m={},U,K=d.popt;if(le(m),X(m,`SELECT n.nspname as "%s",
  o.oprname AS "%s",
  CASE WHEN o.oprkind='l' THEN NULL ELSE pg_catalog.format_type(o.oprleft, NULL) END AS "%s",
  CASE WHEN o.oprkind='r' THEN NULL ELSE pg_catalog.format_type(o.oprright, NULL) END AS "%s",
  pg_catalog.format_type(o.oprresult, NULL) AS "%s",
`,N("Schema"),N("Name"),N("Left arg type"),N("Right arg type"),N("Result type")),T&&b(m,`  o.oprcode AS "%s",
`,N("Function")),b(m,`  coalesce(pg_catalog.obj_description(o.oid, 'pg_operator'),
           pg_catalog.obj_description(o.oprcode, 'pg_proc')) AS "%s"
FROM pg_catalog.pg_operator o
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = o.oprnamespace
`,N("Description")),R>=2?(R=2,P(m,`     LEFT JOIN pg_catalog.pg_type t0 ON t0.oid = o.oprleft
     LEFT JOIN pg_catalog.pg_namespace nt0 ON nt0.oid = t0.typnamespace
     LEFT JOIN pg_catalog.pg_type t1 ON t1.oid = o.oprright
     LEFT JOIN pg_catalog.pg_namespace nt1 ON nt1.oid = t1.typnamespace
`)):R==1&&P(m,`     LEFT JOIN pg_catalog.pg_type t0 ON t0.oid = o.oprright
     LEFT JOIN pg_catalog.pg_namespace nt0 ON nt0.oid = t0.typnamespace
`),!v&&!L&&P(m,`WHERE n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(m,L,!v&&!L,!0,"n.nspname","o.oprname",null,"pg_catalog.pg_operator_is_visible(o.oid)",null,3))return!1;R==1&&P(m,`  AND o.oprleft = 0
`);for(let Q=0;Q<R;Q++)if(he(O[Q],"-")!=0){let x,ae,se,ee;if(x=ft("nt%d.nspname",Q),ae=ft("t%d.typname",Q),se=ft("pg_catalog.format_type(t%d.oid, NULL)",Q),ee=ft("pg_catalog.pg_type_is_visible(t%d.oid)",Q),!D(m,hn(O[Q]),!0,!1,x,ae,se,ee,null,3))return!1}else b(m,`  AND t%d.typname IS NULL
`,Q);return P(m,"ORDER BY 1, 2, 3, 4;"),U=await f(m.data),U?(K.nullPrint=null,K.title=r("List of operators"),K.translate_header=!0,C(U,K,d.queryFout,!1,d.logfile),!0):!1}async function Ls(L,O){let R={},T,v=d.popt,m=[!1,!1,!0,!1,!1,!1];return le(R),X(R,`SELECT n.nspname as "%s",
  c.relname as "%s",
  CASE c.relkind WHEN 'r' THEN '%s' WHEN 'v' THEN '%s' WHEN 'm' THEN '%s' WHEN 'S' THEN '%s' WHEN 'f' THEN '%s' WHEN 'p' THEN '%s' END as "%s",
  `,N("Schema"),N("Name"),N("table"),N("view"),N("materialized view"),N("sequence"),N("foreign table"),N("partitioned table"),N("Type")),It(R,"c.relacl"),b(R,`,
  pg_catalog.array_to_string(ARRAY(
    SELECT attname || E':\\n  ' || pg_catalog.array_to_string(attacl, E'\\n  ')
    FROM pg_catalog.pg_attribute a
    WHERE attrelid = c.oid AND NOT attisdropped AND attacl IS NOT NULL
  ), E'\\n') AS "%s"`,N("Column privileges")),d.sversion>=90500&&d.sversion<1e5&&b(R,`,
  pg_catalog.array_to_string(ARRAY(
    SELECT polname
    || CASE WHEN polcmd != '*' THEN
           E' (' || polcmd::pg_catalog.text || E'):'
       ELSE E':'
       END
    || CASE WHEN polqual IS NOT NULL THEN
           E'\\n  (u): ' || pg_catalog.pg_get_expr(polqual, polrelid)
       ELSE E''
       END
    || CASE WHEN polwithcheck IS NOT NULL THEN
           E'\\n  (c): ' || pg_catalog.pg_get_expr(polwithcheck, polrelid)
       ELSE E''
       END    || CASE WHEN polroles <> '{0}' THEN
           E'\\n  to: ' || pg_catalog.array_to_string(
               ARRAY(
                   SELECT rolname
                   FROM pg_catalog.pg_roles
                   WHERE oid = ANY (polroles)
                   ORDER BY 1
               ), E', ')
       ELSE E''
       END
    FROM pg_catalog.pg_policy pol
    WHERE polrelid = c.oid), E'\\n')
    AS "%s"`,N("Policies")),d.sversion>=1e5&&b(R,`,
  pg_catalog.array_to_string(ARRAY(
    SELECT polname
    || CASE WHEN NOT polpermissive THEN
       E' (RESTRICTIVE)'
       ELSE '' END
    || CASE WHEN polcmd != '*' THEN
           E' (' || polcmd::pg_catalog.text || E'):'
       ELSE E':'
       END
    || CASE WHEN polqual IS NOT NULL THEN
           E'\\n  (u): ' || pg_catalog.pg_get_expr(polqual, polrelid)
       ELSE E''
       END
    || CASE WHEN polwithcheck IS NOT NULL THEN
           E'\\n  (c): ' || pg_catalog.pg_get_expr(polwithcheck, polrelid)
       ELSE E''
       END    || CASE WHEN polroles <> '{0}' THEN
           E'\\n  to: ' || pg_catalog.array_to_string(
               ARRAY(
                   SELECT rolname
                   FROM pg_catalog.pg_roles
                   WHERE oid = ANY (polroles)
                   ORDER BY 1
               ), E', ')
       ELSE E''
       END
    FROM pg_catalog.pg_policy pol
    WHERE polrelid = c.oid), E'\\n')
    AS "%s"`,N("Policies")),P(R,`
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE c.relkind IN ('r','v','m','S','f','p')
`),!O&&!L&&P(R,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(R,L,!0,!1,"n.nspname","c.relname",null,"pg_catalog.pg_table_is_visible(c.oid)",null,3)||(P(R,"ORDER BY 1, 2;"),T=await f(R.data),!T)?!1:(v.nullPrint=null,X(R,r("Access privileges")),v.title=R.data,v.translate_header=!0,v.translate_columns=m,v.n_translate_columns=et(m),C(T,v,d.queryFout,!1,d.logfile),!0)}async function Vr(L){let O={},R,T=d.popt,v=[!1,!1,!0,!1];return le(O),X(O,`SELECT pg_catalog.pg_get_userbyid(d.defaclrole) AS "%s",
  n.nspname AS "%s",
  CASE d.defaclobjtype WHEN '%c' THEN '%s' WHEN '%c' THEN '%s' WHEN '%c' THEN '%s' WHEN '%c' THEN '%s' WHEN '%c' THEN '%s' END AS "%s",
  `,N("Owner"),N("Schema"),BR,N("table"),WR,N("sequence"),GR,N("function"),qR,N("type"),YR,N("schema"),N("Type")),It(O,"d.defaclacl"),P(O,`
FROM pg_catalog.pg_default_acl d
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = d.defaclnamespace
`),!D(O,L,!1,!1,null,"n.nspname","pg_catalog.pg_get_userbyid(d.defaclrole)",null,null,3)||(P(O,"ORDER BY 1, 2, 3;"),R=await f(O.data),!R)?!1:(T.nullPrint=null,X(O,r("Default access privileges")),T.title=O.data,T.translate_header=!0,T.translate_columns=v,T.n_translate_columns=et(v),C(R,T,d.queryFout,!1,d.logfile),!0)}async function zt(L,O){let R={},T,v=d.popt,m=[!1,!1,!0,!1];return le(R),b(R,`SELECT DISTINCT tt.nspname AS "%s", tt.name AS "%s", tt.object AS "%s", d.description AS "%s"
FROM (
`,N("Schema"),N("Name"),N("Object"),N("Description")),b(R,`  SELECT pgc.oid as oid, pgc.tableoid AS tableoid,
  n.nspname as nspname,
  CAST(pgc.conname AS pg_catalog.text) as name,  CAST('%s' AS pg_catalog.text) as object
  FROM pg_catalog.pg_constraint pgc
    JOIN pg_catalog.pg_class c ON c.oid = pgc.conrelid
    LEFT JOIN pg_catalog.pg_namespace n     ON n.oid = c.relnamespace
`,N("table constraint")),!O&&!L&&P(R,`WHERE n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(R,L,!O&&!L,!1,"n.nspname","pgc.conname",null,"pg_catalog.pg_table_is_visible(c.oid)",null,3)||(b(R,`UNION ALL
  SELECT pgc.oid as oid, pgc.tableoid AS tableoid,
  n.nspname as nspname,
  CAST(pgc.conname AS pg_catalog.text) as name,  CAST('%s' AS pg_catalog.text) as object
  FROM pg_catalog.pg_constraint pgc
    JOIN pg_catalog.pg_type t ON t.oid = pgc.contypid
    LEFT JOIN pg_catalog.pg_namespace n     ON n.oid = t.typnamespace
`,N("domain constraint")),!O&&!L&&P(R,`WHERE n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(R,L,!O&&!L,!1,"n.nspname","pgc.conname",null,"pg_catalog.pg_type_is_visible(t.oid)",null,3))||(b(R,`UNION ALL
  SELECT o.oid as oid, o.tableoid as tableoid,
  n.nspname as nspname,
  CAST(o.opcname AS pg_catalog.text) as name,
  CAST('%s' AS pg_catalog.text) as object
  FROM pg_catalog.pg_opclass o
    JOIN pg_catalog.pg_am am ON o.opcmethod = am.oid
    JOIN pg_catalog.pg_namespace n ON n.oid = o.opcnamespace
`,N("operator class")),!O&&!L&&P(R,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(R,L,!0,!1,"n.nspname","o.opcname",null,"pg_catalog.pg_opclass_is_visible(o.oid)",null,3))||(b(R,`UNION ALL
  SELECT opf.oid as oid, opf.tableoid as tableoid,
  n.nspname as nspname,
  CAST(opf.opfname AS pg_catalog.text) AS name,
  CAST('%s' AS pg_catalog.text) as object
  FROM pg_catalog.pg_opfamily opf
    JOIN pg_catalog.pg_am am ON opf.opfmethod = am.oid
    JOIN pg_catalog.pg_namespace n ON opf.opfnamespace = n.oid
`,N("operator family")),!O&&!L&&P(R,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(R,L,!0,!1,"n.nspname","opf.opfname",null,"pg_catalog.pg_opfamily_is_visible(opf.oid)",null,3))||(b(R,`UNION ALL
  SELECT r.oid as oid, r.tableoid as tableoid,
  n.nspname as nspname,
  CAST(r.rulename AS pg_catalog.text) as name,  CAST('%s' AS pg_catalog.text) as object
  FROM pg_catalog.pg_rewrite r
       JOIN pg_catalog.pg_class c ON c.oid = r.ev_class
       LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
  WHERE r.rulename != '_RETURN'
`,N("rule")),!O&&!L&&P(R,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(R,L,!0,!1,"n.nspname","r.rulename",null,"pg_catalog.pg_table_is_visible(c.oid)",null,3))||(b(R,`UNION ALL
  SELECT t.oid as oid, t.tableoid as tableoid,
  n.nspname as nspname,
  CAST(t.tgname AS pg_catalog.text) as name,  CAST('%s' AS pg_catalog.text) as object
  FROM pg_catalog.pg_trigger t
       JOIN pg_catalog.pg_class c ON c.oid = t.tgrelid
       LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
`,N("trigger")),!O&&!L&&P(R,`WHERE n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(R,L,!O&&!L,!1,"n.nspname","t.tgname",null,"pg_catalog.pg_table_is_visible(c.oid)",null,3))||(P(R,`) AS tt
  JOIN pg_catalog.pg_description d ON (tt.oid = d.objoid AND tt.tableoid = d.classoid AND d.objsubid = 0)
`),P(R,"ORDER BY 1, 2, 3;"),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("Object descriptions"),v.translate_header=!0,v.translate_columns=m,v.n_translate_columns=et(m),C(T,v,d.queryFout,!1,d.logfile),!0)}async function gn(L,O,R){let T={},v,m;if(le(T),X(T,`SELECT c.oid,
  n.nspname,
  c.relname
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
`),!R&&!L&&P(T,`WHERE n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(T,L,!R&&!L,!1,"n.nspname","c.relname",null,"pg_catalog.pg_table_is_visible(c.oid)",null,3)||(P(T,"ORDER BY 2, 3;"),v=await f(T.data),!v))return!1;if(be(v)==0)return d.quiet||(L?w('Did not find any relation named "%s".',L):w("Did not find any relations.")),!1;for(m=0;m<be(v);m++){let U,K,Q;if(U=q(v,m,0),K=q(v,m,1),Q=q(v,m,2),!await qi(K,Q,U,O)||l)return!1}return!0}async function qi(L,O,R,T){let v=!1,m={},U=null,K=d.popt.topt,Q={},x,ae=null,se=[],ee={},Te={},ge,qt=-1,st=-1,ve=-1,Qr=-1,Kr=-1,zr=-1,Jr=-1,Ds=-1,Ps=-1,Us=-1,Ms=-1,Fs=-1,xs=-1,ks=-1,ji,Z={},Hs=!1;if(K.default_footer=!1,K.expanded=!1,le(m),le(ee),le(Te),d.sversion>=12e4?X(m,`SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, false AS relhasoids, c.relispartition, %s, c.reltablespace, CASE WHEN c.reloftype = 0 THEN '' ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident, am.amname
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
LEFT JOIN pg_catalog.pg_am am ON (c.relam = am.oid)
WHERE c.oid = '%s';`,T?`pg_catalog.array_to_string(c.reloptions || array(select 'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')
`:"''",R):d.sversion>=1e5?X(m,`SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, c.relhasoids, c.relispartition, %s, c.reltablespace, CASE WHEN c.reloftype = 0 THEN '' ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
WHERE c.oid = '%s';`,T?`pg_catalog.array_to_string(c.reloptions || array(select 'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')
`:"''",R):d.sversion>=90500?X(m,`SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, c.relrowsecurity, c.relforcerowsecurity, c.relhasoids, false as relispartition, %s, c.reltablespace, CASE WHEN c.reloftype = 0 THEN '' ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
WHERE c.oid = '%s';`,T?`pg_catalog.array_to_string(c.reloptions || array(select 'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')
`:"''",R):d.sversion>=90400?X(m,`SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, false, false, c.relhasoids, false as relispartition, %s, c.reltablespace, CASE WHEN c.reloftype = 0 THEN '' ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence, c.relreplident
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
WHERE c.oid = '%s';`,T?`pg_catalog.array_to_string(c.reloptions || array(select 'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')
`:"''",R):X(m,`SELECT c.relchecks, c.relkind, c.relhasindex, c.relhasrules, c.relhastriggers, false, false, c.relhasoids, false as relispartition, %s, c.reltablespace, CASE WHEN c.reloftype = 0 THEN '' ELSE c.reloftype::pg_catalog.regtype::pg_catalog.text END, c.relpersistence
FROM pg_catalog.pg_class c
 LEFT JOIN pg_catalog.pg_class tc ON (c.reltoastrelid = tc.oid)
WHERE c.oid = '%s';`,T?`pg_catalog.array_to_string(c.reloptions || array(select 'toast.' || x from pg_catalog.unnest(tc.reloptions) x), ', ')
`:"''",R),U=await f(m.data),!U)return v;if(be(U)==0)return d.quiet||w("Did not find any relation with OID %s.",R),v;if(Z.checks=fl(q(U,0,0)),Z.relkind=q(U,0,1),Z.hasindex=he(q(U,0,2),"t")==0,Z.hasrules=he(q(U,0,3),"t")==0,Z.hastriggers=he(q(U,0,4),"t")==0,Z.rowsecurity=he(q(U,0,5),"t")==0,Z.forcerowsecurity=he(q(U,0,6),"t")==0,Z.hasoids=he(q(U,0,7),"t")==0,Z.ispartition=he(q(U,0,8),"t")==0,Z.reloptions=Pn(q(U,0,9)),Z.tablespace=ua(q(U,0,10)),Z.reloftype=he(q(U,0,11),"")!=0?Pn(q(U,0,11)):null,Z.relpersistence=q(U,0,12),Z.relreplident=d.sversion>=90400?q(U,0,13):"d",d.sversion>=12e4?Z.relam=lt(U,0,14)?null:Pn(q(U,0,14)):Z.relam=null,U=null,Z.relkind==XR){let G=null,ce=d.popt,me=[null,null];if(d.sversion>=1e5?(X(m,`SELECT pg_catalog.format_type(seqtypid, NULL) AS "%s",
       seqstart AS "%s",
       seqmin AS "%s",
       seqmax AS "%s",
       seqincrement AS "%s",
       CASE WHEN seqcycle THEN '%s' ELSE '%s' END AS "%s",
       seqcache AS "%s"
`,N("Type"),N("Start"),N("Minimum"),N("Maximum"),N("Increment"),N("yes"),N("no"),N("Cycles?"),N("Cache")),b(m,`FROM pg_catalog.pg_sequence
WHERE seqrelid = '%s';`,R)):(X(m,`SELECT 'bigint' AS "%s",
       start_value AS "%s",
       min_value AS "%s",
       max_value AS "%s",
       increment_by AS "%s",
       CASE WHEN is_cycled THEN '%s' ELSE '%s' END AS "%s",
       cache_value AS "%s"
`,N("Type"),N("Start"),N("Minimum"),N("Maximum"),N("Increment"),N("yes"),N("no"),N("Cycles?"),N("Cache")),b(m,"FROM %s",Pe(L)),b(m,".%s;",Pe(O))),U=await f(m.data),!U)return v;if(X(m,`SELECT pg_catalog.quote_ident(nspname) || '.' ||
   pg_catalog.quote_ident(relname) || '.' ||
   pg_catalog.quote_ident(attname),
   d.deptype
FROM pg_catalog.pg_class c
INNER JOIN pg_catalog.pg_depend d ON c.oid=d.refobjid
INNER JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
INNER JOIN pg_catalog.pg_attribute a ON (
 a.attrelid=c.oid AND
 a.attnum=d.refobjsubid)
WHERE d.classid='pg_catalog.pg_class'::pg_catalog.regclass
 AND d.refclassid='pg_catalog.pg_class'::pg_catalog.regclass
 AND d.objid='%s'
 AND d.deptype IN ('a', 'i')`,R),G=await f(m.data),G){if(be(G)==1)switch(q(G,0,1)[0]){case"a":me[0]=da(r("Owned by: %s"),q(G,0,0));break;case"i":me[0]=da(r("Sequence for identity column: %s"),q(G,0,0));break}}else return v;return Z.relpersistence=="u"?X(ee,r('Unlogged sequence "%s.%s"'),L,O):X(ee,r('Sequence "%s.%s"'),L,O),ce.footers=me,ce.topt.default_footer=!1,ce.title=ee.data,ce.translate_header=!0,C(U,ce,d.queryFout,!1,d.logfile),v=!0,v}if((Z.relkind==Zt||Z.relkind==ss||Z.relkind==Ct||Z.relkind==en||Z.relkind==la||Z.relkind==Tt)&&(Hs=!0),ge=0,X(m,"SELECT a.attname"),qt=ge++,P(m,`,
  pg_catalog.format_type(a.atttypid, a.atttypmod)`),st=ge++,Hs&&(P(m,`,
  (SELECT pg_catalog.pg_get_expr(d.adbin, d.adrelid, true)
   FROM pg_catalog.pg_attrdef d
   WHERE d.adrelid = a.attrelid AND d.adnum = a.attnum AND a.atthasdef),
  a.attnotnull`),ve=ge++,Qr=ge++,P(m,`,
  (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type t
   WHERE c.oid = a.attcollation AND t.oid = a.atttypid AND a.attcollation <> t.typcollation) AS attcollation`),Kr=ge++,d.sversion>=1e5?P(m,`,
  a.attidentity`):P(m,`,
  ''::pg_catalog.char AS attidentity`),zr=ge++,d.sversion>=12e4?P(m,`,
  a.attgenerated`):P(m,`,
  ''::pg_catalog.char AS attgenerated`),Jr=ge++),(Z.relkind==Dn||Z.relkind==tn)&&(d.sversion>=11e4&&(b(m,`,
  CASE WHEN a.attnum <= (SELECT i.indnkeyatts FROM pg_catalog.pg_index i WHERE i.indexrelid = '%s') THEN '%s' ELSE '%s' END AS is_key`,R,N("yes"),N("no")),Ds=ge++),P(m,`,
  pg_catalog.pg_get_indexdef(a.attrelid, a.attnum, TRUE) AS indexdef`),Ps=ge++),Z.relkind==en&&(P(m,`,
  CASE WHEN attfdwoptions IS NULL THEN '' ELSE   '(' || pg_catalog.array_to_string(ARRAY(SELECT pg_catalog.quote_ident(option_name) || ' ' || pg_catalog.quote_literal(option_value)  FROM   pg_catalog.pg_options_to_table(attfdwoptions)), ', ') || ')' END AS attfdwoptions`),Us=ge++),T&&(P(m,`,
  a.attstorage`),Ms=ge++,d.sversion>=14e4&&!d.hide_compression&&(Z.relkind==Zt||Z.relkind==Tt||Z.relkind==Ct)&&(P(m,`,
  a.attcompression AS attcompression`),Fs=ge++),(Z.relkind==Zt||Z.relkind==Dn||Z.relkind==tn||Z.relkind==Ct||Z.relkind==en||Z.relkind==Tt)&&(P(m,`,
  CASE WHEN a.attstattarget=-1 THEN NULL ELSE a.attstattarget END AS attstattarget`),xs=ge++),(Z.relkind==Zt||Z.relkind==ss||Z.relkind==Ct||Z.relkind==en||Z.relkind==la||Z.relkind==Tt)&&(P(m,`,
  pg_catalog.col_description(a.attrelid, a.attnum)`),ks=ge++)),P(m,`
FROM pg_catalog.pg_attribute a`),b(m,`
WHERE a.attrelid = '%s' AND a.attnum > 0 AND NOT a.attisdropped`,R),P(m,`
ORDER BY a.attnum;`),U=await f(m.data),!U)return v;switch(ji=be(U),Z.relkind){case Zt:Z.relpersistence=="u"?X(ee,r('Unlogged table "%s.%s"'),L,O):X(ee,r('Table "%s.%s"'),L,O);break;case ss:X(ee,r('View "%s.%s"'),L,O);break;case Ct:Z.relpersistence=="u"?X(ee,r('Unlogged materialized view "%s.%s"'),L,O):X(ee,r('Materialized view "%s.%s"'),L,O);break;case Dn:Z.relpersistence=="u"?X(ee,r('Unlogged index "%s.%s"'),L,O):X(ee,r('Index "%s.%s"'),L,O);break;case tn:Z.relpersistence=="u"?X(ee,r('Unlogged partitioned index "%s.%s"'),L,O):X(ee,r('Partitioned index "%s.%s"'),L,O);break;case rs:X(ee,r('TOAST table "%s.%s"'),L,O);break;case la:X(ee,r('Composite type "%s.%s"'),L,O);break;case en:X(ee,r('Foreign table "%s.%s"'),L,O);break;case Tt:Z.relpersistence=="u"?X(ee,r('Unlogged partitioned table "%s.%s"'),L,O):X(ee,r('Partitioned table "%s.%s"'),L,O);break;default:X(ee,'?%c? "%s.%s"',Z.relkind,L,O);break}for(ge=0,se[ge++]=N("Column"),se[ge++]=N("Type"),Hs&&(se[ge++]=N("Collation"),se[ge++]=N("Nullable"),se[ge++]=N("Default")),Ds>=0&&(se[ge++]=N("Key?")),Ps>=0&&(se[ge++]=N("Definition")),Us>=0&&(se[ge++]=N("FDW options")),Ms>=0&&(se[ge++]=N("Storage")),Fs>=0&&(se[ge++]=N("Compression")),xs>=0&&(se[ge++]=N("Stats target")),ks>=0&&(se[ge++]=N("Description")),pr(ge<=et(se)),W(Q,K,ee.data,ge,ji),x=0;x<ge;x++)B(Q,se[x],!0,"l");for(x=0;x<ji;x++){if(F(Q,q(U,x,qt),!1),F(Q,q(U,x,st),!1),Hs){let G,ce,me;F(Q,q(U,x,Kr),!1),F(Q,he(q(U,x,Qr),"t")==0?"not null":"",!1),G=q(U,x,zr),ce=q(U,x,Jr),G[0]==jR?me="generated always as identity":G[0]==$R?me="generated by default as identity":ce[0]==VR?me=da("generated always as (%s) stored",q(U,x,ve)):me=q(U,x,ve),F(Q,me,!1)}if(Ds>=0&&F(Q,q(U,x,Ds),!0),Ps>=0&&F(Q,q(U,x,Ps),!1),Us>=0&&F(Q,q(U,x,Us),!1),Ms>=0){let G=q(U,x,Ms);F(Q,G[0]=="p"?"plain":G[0]=="m"?"main":G[0]=="x"?"extended":G[0]=="e"?"external":"???",!1)}if(Fs>=0){let G=q(U,x,Fs);F(Q,G[0]=="p"?"pglz":G[0]=="l"?"lz4":G[0]==null?"":"???",!1)}xs>=0&&F(Q,q(U,x,xs),!1),ks>=0&&F(Q,q(U,x,ks),!1)}if(Z.ispartition){let G;if(X(m,`SELECT inhparent::pg_catalog.regclass,
  pg_catalog.pg_get_expr(c.relpartbound, c.oid),
  `),P(m,d.sversion>=14e4?"inhdetachpending":"false as inhdetachpending"),T&&P(m,`,
  pg_catalog.pg_get_partition_constraintdef(c.oid)`),b(m,`
FROM pg_catalog.pg_class c JOIN pg_catalog.pg_inherits i ON c.oid = inhrelid
WHERE c.oid = '%s';`,R),G=await f(m.data),!G)return v;if(be(G)>0){let ce=q(G,0,0),me=q(G,0,1),Ie=q(G,0,2);if(X(Te,r("Partition of: %s %s%s"),ce,me,he(Ie,"t")==0?" DETACH PENDING":""),H(Q,Te.data),T){let Ue=null;lt(G,0,3)||(Ue=q(G,0,3)),Ue==null||Ue[0]==null?X(Te,r("No partition constraint")):X(Te,r("Partition constraint: %s"),Ue),H(Q,Te.data)}}}if(Z.relkind==Tt){let G;if(X(m,"SELECT pg_catalog.pg_get_partkeydef('%s'::pg_catalog.oid);",R),G=await f(m.data),!G)return v;if(be(G)==1){let ce=q(G,0,0);X(Te,r("Partition key: %s"),ce),H(Q,Te.data)}}if(Z.relkind==rs){let G;if(X(m,`SELECT n.nspname, c.relname
FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
WHERE reltoastrelid = '%s';`,R),G=await f(m.data),!G)return v;if(be(G)==1){let ce=q(G,0,0),me=q(G,0,1);X(Te,r('Owning table: "%s.%s"'),ce,me),H(Q,Te.data)}}if(Z.relkind==Dn||Z.relkind==tn){let G;if(X(m,`SELECT i.indisunique, i.indisprimary, i.indisclustered, i.indisvalid,
  (NOT i.indimmediate) AND EXISTS (SELECT 1 FROM pg_catalog.pg_constraint WHERE conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ('p','u','x') AND condeferrable) AS condeferrable,
  (NOT i.indimmediate) AND EXISTS (SELECT 1 FROM pg_catalog.pg_constraint WHERE conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ('p','u','x') AND condeferred) AS condeferred,
`),d.sversion>=90400?P(m,`i.indisreplident,
`):P(m,`false AS indisreplident,
`),d.sversion>=15e4?P(m,`i.indnullsnotdistinct,
`):P(m,`false AS indnullsnotdistinct,
`),b(m,`  a.amname, c2.relname, pg_catalog.pg_get_expr(i.indpred, i.indrelid, true)
FROM pg_catalog.pg_index i, pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_am a
WHERE i.indexrelid = c.oid AND c.oid = '%s' AND c.relam = a.oid
AND i.indrelid = c2.oid;`,R),G=await f(m.data),G){if(be(G)!=1)return v;{let ce=q(G,0,0),me=q(G,0,1),Ie=q(G,0,2),Ue=q(G,0,3),Ye=q(G,0,4),_n=q(G,0,5),_t=q(G,0,6),Zr=q(G,0,7),pd=q(G,0,8),dd=q(G,0,9),Zo=q(G,0,10);he(me,"t")==0?X(Te,r("primary key, ")):he(ce,"t")==0?(X(Te,r("unique")),he(Zr,"t")==0&&P(Te,r(" nulls not distinct")),P(Te,r(", "))):pa(Te),b(Te,"%s, ",pd),b(Te,r('for table "%s.%s"'),L,dd),sn(Zo)&&b(Te,r(", predicate (%s)"),Zo),he(Ie,"t")==0&&P(Te,r(", clustered")),he(Ue,"t")!=0&&P(Te,r(", invalid")),he(Ye,"t")==0&&P(Te,r(", deferrable")),he(_n,"t")==0&&P(Te,r(", initially deferred")),he(_t,"t")==0&&P(Te,r(", replica identity")),H(Q,Te.data),Z.relkind==Dn&&await ir(Q,Z.relkind,Z.tablespace,!0)}}else return v}else if(Z.relkind==Zt||Z.relkind==Ct||Z.relkind==en||Z.relkind==Tt||Z.relkind==tn||Z.relkind==rs){let G=null,ce=0;if(Z.hasindex){if(X(m,`SELECT c2.relname, i.indisprimary, i.indisunique, i.indisclustered, i.indisvalid, pg_catalog.pg_get_indexdef(i.indexrelid, 0, true),
  pg_catalog.pg_get_constraintdef(con.oid, true), contype, condeferrable, condeferred`),d.sversion>=90400?P(m,", i.indisreplident"):P(m,", false AS indisreplident"),P(m,", c2.reltablespace"),b(m,`
FROM pg_catalog.pg_class c, pg_catalog.pg_class c2, pg_catalog.pg_index i
  LEFT JOIN pg_catalog.pg_constraint con ON (conrelid = i.indrelid AND conindid = i.indexrelid AND contype IN ('p','u','x'))
WHERE c.oid = '%s' AND c.oid = i.indrelid AND i.indexrelid = c2.oid
ORDER BY i.indisprimary DESC, c2.relname;`,R),G=await f(m.data),G)ce=be(G);else return v;if(ce>0)for(H(Q,r("Indexes:")),x=0;x<ce;x++){if(X(m,'    "%s"',q(G,x,0)),he(q(G,x,7),"x")==0)b(m," %s",q(G,x,6));else{let me,Ie;he(q(G,x,1),"t")==0?P(m," PRIMARY KEY,"):he(q(G,x,2),"t")==0&&(he(q(G,x,7),"u")==0?P(m," UNIQUE CONSTRAINT,"):P(m," UNIQUE,")),me=q(G,x,5),Ie=ci(me," USING "),Ie!=null&&(me=me.slice(Ie+7)),b(m," %s",me),he(q(G,x,8),"t")==0&&P(m," DEFERRABLE"),he(q(G,x,9),"t")==0&&P(m," INITIALLY DEFERRED")}he(q(G,x,3),"t")==0&&P(m," CLUSTER"),he(q(G,x,4),"t")!=0&&P(m," INVALID"),he(q(G,x,10),"t")==0&&P(m," REPLICA IDENTITY"),H(Q,m.data),await ir(Q,Dn,ua(q(G,x,11)),!1)}}if(Z.checks){if(X(m,`SELECT r.conname, pg_catalog.pg_get_constraintdef(r.oid, true)
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = '%s' AND r.contype = 'c'
ORDER BY 1;`,R),G=await f(m.data),G)ce=be(G);else return v;if(ce>0)for(H(Q,r("Check constraints:")),x=0;x<ce;x++)X(m,'    "%s" %s',q(G,x,0),q(G,x,1)),H(Q,m.data)}if(Z.hastriggers||Z.relkind==Tt){if(d.sversion>=12e4&&(Z.ispartition||Z.relkind==Tt)?X(m,`SELECT conrelid = '%s'::pg_catalog.regclass AS sametable,
       conname,
       pg_catalog.pg_get_constraintdef(oid, true) AS condef,
       conrelid::pg_catalog.regclass AS ontable
  FROM pg_catalog.pg_constraint,
       pg_catalog.pg_partition_ancestors('%s')
 WHERE conrelid = relid AND contype = 'f' AND conparentid = 0
ORDER BY sametable DESC, conname;`,R,R):(X(m,`SELECT true as sametable, conname,
  pg_catalog.pg_get_constraintdef(r.oid, true) as condef,
  conrelid::pg_catalog.regclass AS ontable
FROM pg_catalog.pg_constraint r
WHERE r.conrelid = '%s' AND r.contype = 'f'
`,R),d.sversion>=12e4&&P(m,`     AND conparentid = 0
`),P(m,"ORDER BY conname")),G=await f(m.data),G)ce=be(G);else return v;if(ce>0){let me=Un(G,"sametable"),Ie=Un(G,"conname"),Ue=Un(G,"condef"),Ye=Un(G,"ontable");for(H(Q,r("Foreign-key constraints:")),x=0;x<ce;x++)he(q(G,x,me),"f")==0?X(m,'    TABLE "%s" CONSTRAINT "%s" %s',q(G,x,Ye),q(G,x,Ie),q(G,x,Ue)):X(m,'    "%s" %s',q(G,x,Ie),q(G,x,Ue)),H(Q,m.data)}}if(Z.hastriggers||Z.relkind==Tt){if(d.sversion>=12e4?X(m,`SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, true) AS condef
  FROM pg_catalog.pg_constraint c
 WHERE confrelid IN (SELECT pg_catalog.pg_partition_ancestors('%s')
                     UNION ALL VALUES ('%s'::pg_catalog.regclass))
       AND contype = 'f' AND conparentid = 0
ORDER BY conname;`,R,R):X(m,`SELECT conname, conrelid::pg_catalog.regclass AS ontable,
       pg_catalog.pg_get_constraintdef(oid, true) AS condef
  FROM pg_catalog.pg_constraint
 WHERE confrelid = %s AND contype = 'f'
ORDER BY conname;`,R),G=await f(m.data),G)ce=be(G);else return v;if(ce>0){let me=Un(G,"conname"),Ie=Un(G,"ontable"),Ue=Un(G,"condef");for(H(Q,r("Referenced by:")),x=0;x<ce;x++)X(m,'    TABLE "%s" CONSTRAINT "%s" %s',q(G,x,Ie),q(G,x,me),q(G,x,Ue)),H(Q,m.data)}}if(d.sversion>=90500){if(X(m,"SELECT pol.polname,"),d.sversion>=1e5?P(m,` pol.polpermissive,
`):P(m,` 't' as polpermissive,
`),b(m,`  CASE WHEN pol.polroles = '{0}' THEN NULL ELSE pg_catalog.array_to_string(array(select rolname from pg_catalog.pg_roles where oid = any (pol.polroles) order by 1),',') END,
  pg_catalog.pg_get_expr(pol.polqual, pol.polrelid),
  pg_catalog.pg_get_expr(pol.polwithcheck, pol.polrelid),
  CASE pol.polcmd
    WHEN 'r' THEN 'SELECT'
    WHEN 'a' THEN 'INSERT'
    WHEN 'w' THEN 'UPDATE'
    WHEN 'd' THEN 'DELETE'
    END AS cmd
FROM pg_catalog.pg_policy pol
WHERE pol.polrelid = '%s' ORDER BY 1;`,R),G=await f(m.data),G)ce=be(G);else return v;for(Z.rowsecurity&&!Z.forcerowsecurity&&ce>0&&H(Q,r("Policies:")),Z.rowsecurity&&Z.forcerowsecurity&&ce>0&&H(Q,r("Policies (forced row security enabled):")),Z.rowsecurity&&!Z.forcerowsecurity&&ce==0&&H(Q,r("Policies (row security enabled): (none)")),Z.rowsecurity&&Z.forcerowsecurity&&ce==0&&H(Q,r("Policies (forced row security enabled): (none)")),!Z.rowsecurity&&ce>0&&H(Q,r("Policies (row security disabled):")),x=0;x<ce;x++)X(m,'    POLICY "%s"',q(G,x,0)),q(G,x,1)=="f"&&P(m," AS RESTRICTIVE"),lt(G,x,5)||b(m," FOR %s",q(G,x,5)),lt(G,x,2)||b(m,`
      TO %s`,q(G,x,2)),lt(G,x,3)||b(m,`
      USING (%s)`,q(G,x,3)),lt(G,x,4)||b(m,`
      WITH CHECK (%s)`,q(G,x,4)),H(Q,m.data)}if(d.sversion>=14e4){if(X(m,`SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS nsp, stxname,
pg_catalog.pg_get_statisticsobjdef_columns(oid) AS columns,
  'd' = any(stxkind) AS ndist_enabled,
  'f' = any(stxkind) AS deps_enabled,
  'm' = any(stxkind) AS mcv_enabled,
stxstattarget
FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = '%s'
ORDER BY nsp, stxname;`,R),G=await f(m.data),G)ce=be(G);else return v;if(ce>0)for(H(Q,r("Statistics objects:")),x=0;x<ce;x++){let me=!1,Ie,Ue,Ye,_n,_t;Ie=he(q(G,x,5),"t")==0,Ue=he(q(G,x,6),"t")==0,Ye=he(q(G,x,7),"t")==0,X(m,"    "),b(m,'"%s.%s"',q(G,x,2),q(G,x,3)),_n=Ie&&Ue&&Ye,_t=Ie||Ue||Ye,_t&&!_n&&(P(m," ("),Ie&&(P(m,"ndistinct"),me=!0),Ue&&(b(m,"%sdependencies",me?", ":""),me=!0),Ye&&b(m,"%smcv",me?", ":""),Ge(m,")")),b(m," ON %s FROM %s",q(G,x,4),q(G,x,1)),!lt(G,x,8)&&he(q(G,x,8),"-1")!=0&&b(m,"; STATISTICS %s",q(G,x,8)),H(Q,m.data)}}else if(d.sversion>=1e5){if(X(m,`SELECT oid, stxrelid::pg_catalog.regclass, stxnamespace::pg_catalog.regnamespace AS nsp, stxname,
  (SELECT pg_catalog.string_agg(pg_catalog.quote_ident(attname),', ')
   FROM pg_catalog.unnest(stxkeys) s(attnum)
   JOIN pg_catalog.pg_attribute a ON (stxrelid = a.attrelid AND
        a.attnum = s.attnum AND NOT attisdropped)) AS columns,
  'd' = any(stxkind) AS ndist_enabled,
  'f' = any(stxkind) AS deps_enabled,
  'm' = any(stxkind) AS mcv_enabled,
`),d.sversion>=13e4?P(m,`  stxstattarget
`):P(m,`  -1 AS stxstattarget
`),b(m,`FROM pg_catalog.pg_statistic_ext
WHERE stxrelid = '%s'
ORDER BY 1;`,R),G=await f(m.data),G)ce=be(G);else return v;if(ce>0)for(H(Q,r("Statistics objects:")),x=0;x<ce;x++){let me=!1;X(m,"    "),b(m,'"%s.%s" (',q(G,x,2),q(G,x,3)),he(q(G,x,5),"t")==0&&(P(m,"ndistinct"),me=!0),he(q(G,x,6),"t")==0&&(b(m,"%sdependencies",me?", ":""),me=!0),he(q(G,x,7),"t")==0&&b(m,"%smcv",me?", ":""),b(m,") ON %s FROM %s",q(G,x,4),q(G,x,1)),he(q(G,x,8),"-1")!=0&&b(m,"; STATISTICS %s",q(G,x,8)),H(Q,m.data)}}if(Z.hasrules&&Z.relkind!=Ct){if(X(m,`SELECT r.rulename, trim(trailing ';' from pg_catalog.pg_get_ruledef(r.oid, true)), ev_enabled
FROM pg_catalog.pg_rewrite r
WHERE r.ev_class = '%s' ORDER BY 1;`,R),G=await f(m.data),G)ce=be(G);else return v;if(ce>0){let me,Ie;for(Ie=0;Ie<4;Ie++)for(me=!1,x=0;x<ce;x++){let Ue,Ye=!1;switch(Ie){case 0:q(G,x,2)=="O"&&(Ye=!0);break;case 1:q(G,x,2)=="D"&&(Ye=!0);break;case 2:q(G,x,2)=="A"&&(Ye=!0);break;case 3:q(G,x,2)=="R"&&(Ye=!0);break}if(Ye){if(!me){switch(Ie){case 0:X(m,r("Rules:"));break;case 1:X(m,r("Disabled rules:"));break;case 2:X(m,r("Rules firing always:"));break;case 3:X(m,r("Rules firing on replica only:"));break}H(Q,m.data),me=!0}Ue=q(G,x,1),Ue=Ue.slice(12),X(m,"    %s",Ue),H(Q,m.data)}}}}if(d.sversion>=1e5){if(d.sversion>=15e4?X(m,`SELECT pubname
     , NULL
     , NULL
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_class pc ON pc.relnamespace = pn.pnnspid
WHERE pc.oid ='%s' and pg_catalog.pg_relation_is_publishable('%s')
UNION
SELECT pubname
     , pg_get_expr(pr.prqual, c.oid)
     , (CASE WHEN pr.prattrs IS NOT NULL THEN
         (SELECT string_agg(attname, ', ')
           FROM pg_catalog.generate_series(0, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], 1)) s,
                pg_catalog.pg_attribute
          WHERE attrelid = pr.prrelid AND attnum = prattrs[s])
        ELSE NULL END) FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
     JOIN pg_catalog.pg_class c ON c.oid = pr.prrelid
WHERE pr.prrelid = '%s'
UNION
SELECT pubname
     , NULL
     , NULL
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable('%s')
ORDER BY 1;`,R,R,R,R):X(m,`SELECT pubname
     , NULL
     , NULL
FROM pg_catalog.pg_publication p
JOIN pg_catalog.pg_publication_rel pr ON p.oid = pr.prpubid
WHERE pr.prrelid = '%s'
UNION ALL
SELECT pubname
     , NULL
     , NULL
FROM pg_catalog.pg_publication p
WHERE p.puballtables AND pg_catalog.pg_relation_is_publishable('%s')
ORDER BY 1;`,R,R),G=await f(m.data),G)ce=be(G);else return v;for(ce>0&&H(Q,r("Publications:")),x=0;x<ce;x++)X(m,'    "%s"',q(G,x,0)),lt(G,x,2)||b(m," (%s)",q(G,x,2)),lt(G,x,1)||b(m," WHERE %s",q(G,x,1)),H(Q,m.data)}}if((Z.relkind==ss||Z.relkind==Ct)&&T){let G;if(X(m,"SELECT pg_catalog.pg_get_viewdef('%s'::pg_catalog.oid, true);",R),G=await f(m.data),!G)return v;be(G)>0&&(ae=Pn(q(G,0,0)))}if(ae){let G=null;if(H(Q,r("View definition:")),H(Q,ae),Z.hasrules){if(X(m,`SELECT r.rulename, trim(trailing ';' from pg_catalog.pg_get_ruledef(r.oid, true))
FROM pg_catalog.pg_rewrite r
WHERE r.ev_class = '%s' AND r.rulename != '_RETURN' ORDER BY 1;`,R),G=await f(m.data),!G)return v;if(be(G)>0)for(H(Q,r("Rules:")),x=0;x<be(G);x++){let ce;ce=q(G,x,1),ce=ce.slice(12),X(m," %s",ce),H(Q,m.data)}}}if(Z.hastriggers){let G,ce;if(X(m,`SELECT t.tgname, pg_catalog.pg_get_triggerdef(t.oid, true), t.tgenabled, t.tgisinternal,
`),d.sversion>=13e4?P(m,`  CASE WHEN t.tgparentid != 0 THEN
    (SELECT u.tgrelid::pg_catalog.regclass
     FROM pg_catalog.pg_trigger AS u,
          pg_catalog.pg_partition_ancestors(t.tgrelid) WITH ORDINALITY AS a(relid, depth)
     WHERE u.tgname = t.tgname AND u.tgrelid = a.relid
           AND u.tgparentid = 0
     ORDER BY a.depth LIMIT 1)
  END AS parent
`):P(m,`  NULL AS parent
`),b(m,`FROM pg_catalog.pg_trigger t
WHERE t.tgrelid = '%s' AND `,R),d.sversion>=11e4&&d.sversion<15e4?P(m,`(NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = 'D') 
    OR EXISTS (SELECT 1 FROM pg_catalog.pg_depend WHERE objid = t.oid 
        AND refclassid = 'pg_catalog.pg_trigger'::pg_catalog.regclass))`):P(m,"(NOT t.tgisinternal OR (t.tgisinternal AND t.tgenabled = 'D'))"),P(m,`
ORDER BY 1;`),G=await f(m.data),G)ce=be(G);else return v;if(ce>0){let me,Ie;for(Ie=0;Ie<=4;Ie++)for(me=!1,x=0;x<ce;x++){let Ue,Ye,_n,_t,Zr;switch(_t=q(G,x,2),Zr=q(G,x,3),Ue=!1,Ie){case 0:(_t=="O"||_t=="t")&&(Ue=!0);break;case 1:(_t=="D"||_t=="f")&&Zr=="f"&&(Ue=!0);break;case 2:(_t=="D"||_t=="f")&&Zr=="t"&&(Ue=!0);break;case 3:_t=="A"&&(Ue=!0);break;case 4:_t=="R"&&(Ue=!0);break}if(Ue!=!1){if(me==!1){switch(Ie){case 0:X(m,r("Triggers:"));break;case 1:X(m,r("Disabled user triggers:"));break;case 2:X(m,r("Disabled internal triggers:"));break;case 3:X(m,r("Triggers firing always:"));break;case 4:X(m,r("Triggers firing on replica only:"));break}H(Q,m.data),me=!0}Ye=q(G,x,1),_n=ci(Ye," TRIGGER "),_n!=null&&(Ye=Ye.slice(_n+9)),X(m,"    %s",Ye),lt(G,x,4)||b(m,", ON TABLE %s",q(G,x,4)),H(Q,m.data)}}}}if(Z.relkind==Zt||Z.relkind==Ct||Z.relkind==en||Z.relkind==Tt||Z.relkind==tn||Z.relkind==rs){let G,ce,me;if(G=Z.relkind==Tt||Z.relkind==tn,Z.relkind==en){let Ie;if(X(m,`SELECT s.srvname,
  pg_catalog.array_to_string(ARRAY(
    SELECT pg_catalog.quote_ident(option_name) || ' ' || pg_catalog.quote_literal(option_value)
    FROM pg_catalog.pg_options_to_table(ftoptions)),  ', ')
FROM pg_catalog.pg_foreign_table f,
     pg_catalog.pg_foreign_server s
WHERE f.ftrelid = '%s' AND s.oid = f.ftserver;`,R),ce=await f(m.data),ce){if(be(ce)!=1)return v}else return v;X(m,r("Server: %s"),q(ce,0,0)),H(Q,m.data),Ie=q(ce,0,1),Ie&&Ie[0]!=null&&(X(m,r("FDW options: (%s)"),Ie),H(Q,m.data))}if(X(m,`SELECT c.oid::pg_catalog.regclass
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhparent AND i.inhrelid = '%s'
  AND c.relkind != 'p' AND c.relkind != 'I'
ORDER BY inhseqno;`,R),ce=await f(m.data),ce){let Ie=r("Inherits"),Ue=hl(Ie,sn(Ie),d.encoding);for(me=be(ce),x=0;x<me;x++)x==0?X(m,"%s: %s",Ie,q(ce,x,0)):X(m,"%*s  %s",Ue,"",q(ce,x,0)),x<me-1&&Ge(m,","),H(Q,m.data)}else return v;if(d.sversion>=14e4?X(m,`SELECT c.oid::pg_catalog.regclass, c.relkind, inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = '%s'
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = 'DEFAULT', c.oid::pg_catalog.regclass::pg_catalog.text;`,R):d.sversion>=1e5?X(m,`SELECT c.oid::pg_catalog.regclass, c.relkind, false AS inhdetachpending, pg_catalog.pg_get_expr(c.relpartbound, c.oid)
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = '%s'
ORDER BY pg_catalog.pg_get_expr(c.relpartbound, c.oid) = 'DEFAULT', c.oid::pg_catalog.regclass::pg_catalog.text;`,R):X(m,`SELECT c.oid::pg_catalog.regclass, c.relkind, false AS inhdetachpending, NULL
FROM pg_catalog.pg_class c, pg_catalog.pg_inherits i
WHERE c.oid = i.inhrelid AND i.inhparent = '%s'
ORDER BY c.oid::pg_catalog.regclass::pg_catalog.text;`,R),ce=await f(m.data),!ce)return v;if(me=be(ce),G&&me==0)X(m,r("Number of partitions: %d"),me),H(Q,m.data);else if(!T)me>0&&(G?X(m,r("Number of partitions: %d (Use \\d+ to list them.)"),me):X(m,r("Number of child tables: %d (Use \\d+ to list them.)"),me),H(Q,m.data));else{let Ie=r(G?"Partitions":"Child tables"),Ue=hl(Ie,sn(Ie),d.encoding);for(x=0;x<me;x++){let Ye=q(ce,x,1);x==0?X(m,"%s: %s",Ie,q(ce,x,0)):X(m,"%*s  %s",Ue,"",q(ce,x,0)),lt(ce,x,3)||b(m," %s",q(ce,x,3)),Ye==Tt||Ye==tn?P(m,", PARTITIONED"):Ye==en&&P(m,", FOREIGN"),he(q(ce,x,2),"t")==0&&P(m," (DETACH PENDING)"),x<me-1&&Ge(m,","),H(Q,m.data)}}if(Z.reloftype&&(X(m,r("Typed table of type: %s"),Z.reloftype),H(Q,m.data)),T&&(Z.relkind==Zt||Z.relkind==Ct)&&Z.relreplident!="i"&&(he(L,"pg_catalog")!=0&&Z.relreplident!="d"||he(L,"pg_catalog")==0&&Z.relreplident!="n")){let Ie=r("Replica Identity");X(m,"%s: %s",Ie,Z.relreplident=="f"?"FULL":Z.relreplident=="n"?"NOTHING":"???"),H(Q,m.data)}T&&Z.relkind!=Ct&&Z.hasoids&&H(Q,r("Has OIDs: yes")),await ir(Q,Z.relkind,Z.tablespace,!0),T&&Z.relam!=null&&!d.hide_tableam&&(X(m,r("Access method: %s"),Z.relam),H(Q,m.data))}if(T&&Z.reloptions&&Z.reloptions[0]!=null){let G=r("Options");X(m,"%s: %s",G,Z.reloptions),H(Q,m.data)}return te(Q,d.queryFout,!1,d.logfile),v=!0,v}async function ir(L,O,R,T){if((O==Zt||O==Ct||O==Dn||O==Tt||O==tn||O==rs)&&R!=0){let v=null,m={};if(le(m),X(m,`SELECT spcname FROM pg_catalog.pg_tablespace
WHERE oid = '%u';`,R),v=await f(m.data),!v)return;be(v)>0&&(T?(X(m,r('Tablespace: "%s"'),q(v,0,0)),H(L,m.data)):(X(m,"%s",L.footer),b(m,r(', tablespace "%s"'),q(v,0,0)),Y(L,m.data)))}}async function Cn(L,O,R){let T={},v,m={},U=d.popt.topt,K=2,Q=0,x,ae,se="l",ee;if(U.default_footer=!1,le(T),X(T,`SELECT r.rolname, r.rolsuper, r.rolinherit,
  r.rolcreaterole, r.rolcreatedb, r.rolcanlogin,
  r.rolconnlimit, r.rolvaliduntil`),O&&(P(T,`
, pg_catalog.shobj_description(r.oid, 'pg_authid') AS description`),K++),P(T,`
, r.rolreplication`),d.sversion>=90500&&P(T,`
, r.rolbypassrls`),P(T,`
FROM pg_catalog.pg_roles r
`),!R&&!L&&P(T,`WHERE r.rolname !~ '^pg_'
`),!D(T,L,!1,!1,null,"r.rolname",null,null,null,1)||(P(T,"ORDER BY 1;"),v=await f(T.data),!v))return!1;for(Q=be(v),ee=[],W(m,U,r("List of roles"),K,Q),B(m,N("Role name"),!0,se),B(m,N("Attributes"),!0,se),O&&B(m,N("Description"),!0,se),x=0;x<Q;x++)F(m,q(v,x,0),!1),pa(T),he(q(v,x,1),"t")==0&&Gt(T,r("Superuser")),he(q(v,x,2),"t")!=0&&Gt(T,r("No inheritance")),he(q(v,x,3),"t")==0&&Gt(T,r("Create role")),he(q(v,x,4),"t")==0&&Gt(T,r("Create DB")),he(q(v,x,5),"t")!=0&&Gt(T,r("Cannot login")),he(q(v,x,O?9:8),"t")==0&&Gt(T,r("Replication")),d.sversion>=90500&&he(q(v,x,O?10:9),"t")==0&&Gt(T,r("Bypass RLS")),ae=fl(q(v,x,6)),ae>=0&&(T.len>0&&Ge(T,`
`),ae==0?P(T,r("No connections")):b(T,ngettext("%d connection","%d connections",ae),ae)),he(q(v,x,7),"")!=0&&(T.len>0&&Ge(T,`
`),P(T,r("Password valid until ")),P(T,q(v,x,7))),ee[x]=Pn(T.data),F(m,ee[x],!1),O&&F(m,q(v,x,8),!1);return te(m,d.queryFout,!1,d.logfile),!0}function Gt(L,O){L.len>0&&P(L,", "),P(L,O)}async function Cs(L,O){let R={},T,v=d.popt,m={};return le(R),X(R,`SELECT rolname AS "%s", datname AS "%s",
pg_catalog.array_to_string(setconfig, E'\\n') AS "%s"
FROM pg_catalog.pg_db_role_setting s
LEFT JOIN pg_catalog.pg_database d ON d.oid = setdatabase
LEFT JOIN pg_catalog.pg_roles r ON r.oid = setrole
`,N("Role"),N("Database"),N("Settings")),!D(R,L,!1,!1,null,"r.rolname",null,null,m,1)||!D(R,O,m.value,!1,null,"d.datname",null,null,null,1)||(P(R,"ORDER BY 1, 2;"),T=await f(R.data),!T)?!1:(be(T)==0&&!d.quiet?L&&O?w('Did not find any settings for role "%s" and database "%s".',L,O):L?w('Did not find any settings for role "%s".',L):w("Did not find any settings."):(v.nullPrint=null,v.title=r("List of settings"),v.translate_header=!0,C(T,v,d.queryFout,!1,d.logfile)),!0)}async function Xr(L,O){let R={},T,v=d.popt;return le(R),X(R,`SELECT m.rolname AS "%s", r.rolname AS "%s",
  pg_catalog.concat_ws(', ',
`,N("Role name"),N("Member of")),d.sversion>=16e4?P(R,`    CASE WHEN pam.admin_option THEN 'ADMIN' END,
    CASE WHEN pam.inherit_option THEN 'INHERIT' END,
    CASE WHEN pam.set_option THEN 'SET' END
`):P(R,`    CASE WHEN pam.admin_option THEN 'ADMIN' END,
    CASE WHEN m.rolinherit THEN 'INHERIT' END,
    'SET'
`),b(R,`  ) AS "%s",
  g.rolname AS "%s"
`,N("Options"),N("Grantor")),P(R,`FROM pg_catalog.pg_roles m
     JOIN pg_catalog.pg_auth_members pam ON (pam.member = m.oid)
     LEFT JOIN pg_catalog.pg_roles r ON (pam.roleid = r.oid)
     LEFT JOIN pg_catalog.pg_roles g ON (pam.grantor = g.oid)
`),!O&&!L&&P(R,`WHERE m.rolname !~ '^pg_'
`),!D(R,L,!1,!1,null,"m.rolname",null,null,null,1)||(P(R,`ORDER BY 1, 2, 4;
`),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of role grants"),v.translate_header=!0,C(T,v,d.queryFout,!1,d.logfile),!0)}async function mn(L,O,R,T){let v=Ke(L,"t")!=null,m=Ke(L,"i")!=null,U=Ke(L,"v")!=null,K=Ke(L,"m")!=null,Q=Ke(L,"s")!=null,x=Ke(L,"E")!=null,ae={},se,ee=d.popt,Te,ge=[!1,!1,!0,!1,!1,!1,!1,!1,!1];return v||m||U||K||Q||x||(v=U=K=Q=x=!0),le(ae),X(ae,`SELECT n.nspname as "%s",
  c.relname as "%s",
  CASE c.relkind WHEN 'r' THEN '%s' WHEN 'v' THEN '%s' WHEN 'm' THEN '%s' WHEN 'i' THEN '%s' WHEN 'S' THEN '%s' WHEN 't' THEN '%s' WHEN 'f' THEN '%s' WHEN 'p' THEN '%s' WHEN 'I' THEN '%s' END as "%s",
  pg_catalog.pg_get_userbyid(c.relowner) as "%s"`,N("Schema"),N("Name"),N("table"),N("view"),N("materialized view"),N("index"),N("sequence"),N("TOAST table"),N("foreign table"),N("partitioned table"),N("partitioned index"),N("Type"),N("Owner")),Te=4,m&&(b(ae,`,
  c2.relname as "%s"`,N("Table")),Te++),R&&(b(ae,`,
  CASE c.relpersistence WHEN 'p' THEN '%s' WHEN 't' THEN '%s' WHEN 'u' THEN '%s' END as "%s"`,N("permanent"),N("temporary"),N("unlogged"),N("Persistence")),ge[Te]=!0,d.sversion>=12e4&&!d.hide_tableam&&(v||K||m)&&b(ae,`,
  am.amname as "%s"`,N("Access method")),b(ae,`,
  pg_catalog.pg_size_pretty(pg_catalog.pg_table_size(c.oid)) as "%s",
  pg_catalog.obj_description(c.oid, 'pg_class') as "%s"`,N("Size"),N("Description"))),P(ae,`
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace`),d.sversion>=12e4&&!d.hide_tableam&&(v||K||m)&&P(ae,`
     LEFT JOIN pg_catalog.pg_am am ON am.oid = c.relam`),m&&P(ae,`
     LEFT JOIN pg_catalog.pg_index i ON i.indexrelid = c.oid
     LEFT JOIN pg_catalog.pg_class c2 ON i.indrelid = c2.oid`),P(ae,`
WHERE c.relkind IN (`),v&&(P(ae,"'r','p',"),(T||O)&&P(ae,"'t',")),U&&P(ae,"'v',"),K&&P(ae,"'m',"),m&&P(ae,"'i','I',"),Q&&P(ae,"'S',"),(T||O)&&P(ae,"'s',"),x&&P(ae,"'f',"),P(ae,"''"),P(ae,`)
`),!T&&!O&&P(ae,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname !~ '^pg_toast'
      AND n.nspname <> 'information_schema'
`),!D(ae,O,!0,!1,"n.nspname","c.relname",null,"pg_catalog.pg_table_is_visible(c.oid)",null,3)||(P(ae,"ORDER BY 1,2;"),se=await f(ae.data),!se)?!1:(be(se)==0&&!d.quiet?O?w('Did not find any relation named "%s".',O):w("Did not find any relations."):(ee.nullPrint=null,ee.title=r("List of relations"),ee.translate_header=!0,ee.translate_columns=ge,ee.n_translate_columns=et(ge),C(se,ee,d.queryFout,!1,d.logfile)),!0)}async function vt(L,O,R){let T=Ke(L,"t")!=null,v=Ke(L,"i")!=null,m=Ke(L,"n")!=null,U={},K={},Q,x=d.popt,ae=[!1,!1,!1,!1,!1,!1,!1,!1,!1],se,ee=!1;return d.sversion<1e5?(w("The server (version %s) does not support declarative table partitioning.",Sn(d.sversion,!1,void 0)),!0):(!T&&!v&&(T=v=!0),v&&!T?se=r("List of partitioned indexes"):T&&!v?se=r("List of partitioned tables"):(se=r("List of partitioned relations"),ee=!0),le(U),X(U,`SELECT n.nspname as "%s",
  c.relname as "%s",
  pg_catalog.pg_get_userbyid(c.relowner) as "%s"`,N("Schema"),N("Name"),N("Owner")),ee&&(b(U,`,
  CASE c.relkind WHEN 'p' THEN '%s' WHEN 'I' THEN '%s' END as "%s"`,N("partitioned table"),N("partitioned index"),N("Type")),ae[3]=!0),(m||O)&&b(U,`,
  inh.inhparent::pg_catalog.regclass as "%s"`,N("Parent name")),v&&b(U,`,
 c2.oid::pg_catalog.regclass as "%s"`,N("Table")),R&&(m&&b(U,`,
  s.dps as "%s"`,N("Leaf partition size")),b(U,`,
  s.tps as "%s"`,N("Total size")),b(U,`,
  pg_catalog.obj_description(c.oid, 'pg_class') as "%s"`,N("Description"))),P(U,`
FROM pg_catalog.pg_class c
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace`),v&&P(U,`
     LEFT JOIN pg_catalog.pg_index i ON i.indexrelid = c.oid
     LEFT JOIN pg_catalog.pg_class c2 ON i.indrelid = c2.oid`),(m||O)&&P(U,`
     LEFT JOIN pg_catalog.pg_inherits inh ON c.oid = inh.inhrelid`),R&&(d.sversion<12e4?P(U,`,
     LATERAL (WITH RECURSIVE d
                AS (SELECT inhrelid AS oid, 1 AS level
                      FROM pg_catalog.pg_inherits
                     WHERE inhparent = c.oid
                    UNION ALL
                    SELECT inhrelid, level + 1
                      FROM pg_catalog.pg_inherits i
                           JOIN d ON i.inhparent = d.oid)
                SELECT pg_catalog.pg_size_pretty(sum(pg_catalog.pg_table_size(d.oid))) AS tps,
                       pg_catalog.pg_size_pretty(sum(
             CASE WHEN d.level = 1 THEN pg_catalog.pg_table_size(d.oid) ELSE 0 END)) AS dps
               FROM d) s`):P(U,`,
     LATERAL (SELECT pg_catalog.pg_size_pretty(sum(
                 CASE WHEN ppt.isleaf AND ppt.level = 1
                      THEN pg_catalog.pg_table_size(ppt.relid) ELSE 0 END)) AS dps,
                     pg_catalog.pg_size_pretty(sum(pg_catalog.pg_table_size(ppt.relid))) AS tps
              FROM pg_catalog.pg_partition_tree(c.oid) ppt) s`)),P(U,`
WHERE c.relkind IN (`),T&&P(U,"'p',"),v&&P(U,"'I',"),P(U,"''"),P(U,`)
`),P(U,!m&&!O?` AND NOT c.relispartition
`:""),O||P(U,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname !~ '^pg_toast'
      AND n.nspname <> 'information_schema'
`),!D(U,O,!0,!1,"n.nspname","c.relname",null,"pg_catalog.pg_table_is_visible(c.oid)",null,3)||(b(U,'ORDER BY "Schema", %s%s"Name";',ee?'"Type" DESC, ':"",m||O?'"Parent name" NULLS FIRST, ':""),Q=await f(U.data),!Q)?!1:(le(K),P(K,se),x.nullPrint=null,x.title=K.data,x.translate_header=!0,x.translate_columns=ae,x.n_translate_columns=et(ae),C(Q,x,d.queryFout,!1,d.logfile),!0))}async function ar(L,O,R){let T={},v,m=d.popt;return le(T),X(T,`SELECT l.lanname AS "%s",
       pg_catalog.pg_get_userbyid(l.lanowner) as "%s",
       l.lanpltrusted AS "%s"`,N("Name"),N("Owner"),N("Trusted")),O&&(b(T,`,
       NOT l.lanispl AS "%s",
       l.lanplcallfoid::pg_catalog.regprocedure AS "%s",
       l.lanvalidator::pg_catalog.regprocedure AS "%s",
       l.laninline::pg_catalog.regprocedure AS "%s",
       `,N("Internal language"),N("Call handler"),N("Validator"),N("Inline handler")),It(T,"l.lanacl")),b(T,`,
       d.description AS "%s"
FROM pg_catalog.pg_language l
LEFT JOIN pg_catalog.pg_description d
  ON d.classoid = l.tableoid AND d.objoid = l.oid
  AND d.objsubid = 0
`,N("Description")),L&&!D(T,L,!1,!1,null,"l.lanname",null,null,null,2)||(!R&&!L&&P(T,`WHERE l.lanplcallfoid != 0
`),P(T,"ORDER BY 1;"),v=await f(T.data),!v)?!1:(m.nullPrint=null,m.title=r("List of languages"),m.translate_header=!0,C(v,m,d.queryFout,!1,d.logfile),!0)}async function Yi(L,O,R){let T={},v,m=d.popt;return le(T),X(T,`SELECT n.nspname as "%s",
       t.typname as "%s",
       pg_catalog.format_type(t.typbasetype, t.typtypmod) as "%s",
       (SELECT c.collname FROM pg_catalog.pg_collation c, pg_catalog.pg_type bt
        WHERE c.oid = t.typcollation AND bt.oid = t.typbasetype AND t.typcollation <> bt.typcollation) as "%s",
       CASE WHEN t.typnotnull THEN 'not null' END as "%s",
       t.typdefault as "%s",
       pg_catalog.array_to_string(ARRAY(
         SELECT pg_catalog.pg_get_constraintdef(r.oid, true) FROM pg_catalog.pg_constraint r WHERE t.oid = r.contypid AND r.contype = 'c' ORDER BY r.conname
       ), ' ') as "%s"`,N("Schema"),N("Name"),N("Type"),N("Collation"),N("Nullable"),N("Default"),N("Check")),O&&(P(T,`,
  `),It(T,"t.typacl"),b(T,`,
       d.description as "%s"`,N("Description"))),P(T,`
FROM pg_catalog.pg_type t
     LEFT JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace
`),O&&P(T,`     LEFT JOIN pg_catalog.pg_description d ON d.classoid = t.tableoid AND d.objoid = t.oid AND d.objsubid = 0
`),P(T,`WHERE t.typtype = 'd'
`),!R&&!L&&P(T,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),!D(T,L,!0,!1,"n.nspname","t.typname",null,"pg_catalog.pg_type_is_visible(t.oid)",null,3)||(P(T,"ORDER BY 1, 2;"),v=await f(T.data),!v)?!1:(m.nullPrint=null,m.title=r("List of domains"),m.translate_header=!0,C(v,m,d.queryFout,!1,d.logfile),!0)}async function Mt(L,O,R){let T={},v,m=d.popt,U=[!1,!1,!1,!1,!0,!1];return le(T),X(T,`SELECT n.nspname AS "%s",
       c.conname AS "%s",
       pg_catalog.pg_encoding_to_char(c.conforencoding) AS "%s",
       pg_catalog.pg_encoding_to_char(c.contoencoding) AS "%s",
       CASE WHEN c.condefault THEN '%s'
       ELSE '%s' END AS "%s"`,N("Schema"),N("Name"),N("Source"),N("Destination"),N("yes"),N("no"),N("Default?")),O&&b(T,`,
       d.description AS "%s"`,N("Description")),P(T,`
FROM pg_catalog.pg_conversion c
     JOIN pg_catalog.pg_namespace n ON n.oid = c.connamespace
`),O&&P(T,`LEFT JOIN pg_catalog.pg_description d ON d.classoid = c.tableoid
          AND d.objoid = c.oid AND d.objsubid = 0
`),P(T,`WHERE true
`),!R&&!L&&P(T,`  AND n.nspname <> 'pg_catalog'
  AND n.nspname <> 'information_schema'
`),!D(T,L,!0,!1,"n.nspname","c.conname",null,"pg_catalog.pg_conversion_is_visible(c.oid)",null,3)||(P(T,"ORDER BY 1, 2;"),v=await f(T.data),!v)?!1:(m.nullPrint=null,m.title=r("List of conversions"),m.translate_header=!0,m.translate_columns=U,m.n_translate_columns=et(U),C(v,m,d.queryFout,!1,d.logfile),!0)}async function ws(L,O,R){let T={},v,m=d.popt;return le(T),X(T,'SELECT s.name AS "%s", pg_catalog.current_setting(s.name) AS "%s"',N("Parameter"),N("Value")),O&&(b(T,', s.vartype AS "%s", s.context AS "%s", ',N("Type"),N("Context")),d.sversion>=15e4?It(T,"p.paracl"):b(T,'NULL AS "%s"',N("Access privileges"))),P(T,`
FROM pg_catalog.pg_settings s
`),O&&d.sversion>=15e4&&P(T,`  LEFT JOIN pg_catalog.pg_parameter_acl p
  ON pg_catalog.lower(s.name) = p.parname
`),L?M(d.db,T,L,!1,!1,null,"pg_catalog.lower(s.name)",null,null,null,null):P(T,`WHERE s.source <> 'default' AND
      s.setting IS DISTINCT FROM s.boot_val
`),P(T,"ORDER BY 1;"),v=await f(T.data),v?(m.nullPrint=null,L?m.title=r("List of configuration parameters"):m.title=r("List of non-default configuration parameters"),m.translate_header=!0,C(v,m,d.queryFout,!1,d.logfile),!0):!1}async function u(L,O){let R={},T,v=d.popt,m=[!1,!1,!1,!0,!1,!1,!1];return d.sversion<90300?(w("The server (version %s) does not support event triggers.",Sn(d.sversion,!1,void 0)),!0):(le(R),X(R,`SELECT evtname as "%s", evtevent as "%s", pg_catalog.pg_get_userbyid(e.evtowner) as "%s",
 case evtenabled when 'O' then '%s'  when 'R' then '%s'  when 'A' then '%s'  when 'D' then '%s' end as "%s",
 e.evtfoid::pg_catalog.regproc as "%s", pg_catalog.array_to_string(array(select x from pg_catalog.unnest(evttags) as t(x)), ', ') as "%s"`,N("Name"),N("Event"),N("Owner"),N("enabled"),N("replica"),N("always"),N("disabled"),N("Enabled"),N("Function"),N("Tags")),O&&b(R,`,
pg_catalog.obj_description(e.oid, 'pg_event_trigger') as "%s"`,N("Description")),P(R,`
FROM pg_catalog.pg_event_trigger e `),!D(R,L,!1,!1,null,"evtname",null,null,null,1)||(P(R,"ORDER BY 1"),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of event triggers"),v.translate_header=!0,v.translate_columns=m,v.n_translate_columns=et(m),C(T,v,d.queryFout,!1,d.logfile),!0))}async function _(L){let O={},R,T=d.popt;return d.sversion<1e5?(w("The server (version %s) does not support extended statistics.",Sn(d.sversion,!1,void 0)),!0):(le(O),X(O,`SELECT 
es.stxnamespace::pg_catalog.regnamespace::pg_catalog.text AS "%s", 
es.stxname AS "%s", 
`,N("Schema"),N("Name")),d.sversion>=14e4?b(O,`pg_catalog.format('%%s FROM %%s', 
  pg_catalog.pg_get_statisticsobjdef_columns(es.oid), 
  es.stxrelid::pg_catalog.regclass) AS "%s"`,N("Definition")):b(O,`pg_catalog.format('%%s FROM %%s', 
  (SELECT pg_catalog.string_agg(pg_catalog.quote_ident(a.attname),', ') 
   FROM pg_catalog.unnest(es.stxkeys) s(attnum) 
   JOIN pg_catalog.pg_attribute a 
   ON (es.stxrelid = a.attrelid 
   AND a.attnum = s.attnum 
   AND NOT a.attisdropped)), 
es.stxrelid::pg_catalog.regclass) AS "%s"`,N("Definition")),b(O,`,
CASE WHEN 'd' = any(es.stxkind) THEN 'defined' 
END AS "%s", 
CASE WHEN 'f' = any(es.stxkind) THEN 'defined' 
END AS "%s"`,N("Ndistinct"),N("Dependencies")),d.sversion>=12e4&&b(O,`,
CASE WHEN 'm' = any(es.stxkind) THEN 'defined' 
END AS "%s" `,N("MCV")),P(O,` 
FROM pg_catalog.pg_statistic_ext es 
`),!D(O,L,!1,!1,"es.stxnamespace::pg_catalog.regnamespace::pg_catalog.text","es.stxname",null,"pg_catalog.pg_statistics_obj_is_visible(es.oid)",null,3)||(P(O,"ORDER BY 1, 2;"),R=await f(O.data),!R)?!1:(T.nullPrint=null,T.title=r("List of extended statistics"),T.translate_header=!0,C(R,T,d.queryFout,!1,d.logfile),!0))}async function y(L,O){let R={},T,v=d.popt,m=[!1,!1,!1,!0,!1];return le(R),X(R,`SELECT pg_catalog.format_type(castsource, NULL) AS "%s",
       pg_catalog.format_type(casttarget, NULL) AS "%s",
`,N("Source type"),N("Target type")),b(R,`       CASE WHEN c.castmethod = '%c' THEN '(binary coercible)'
            WHEN c.castmethod = '%c' THEN '(with inout)'
            ELSE p.proname
       END AS "%s",
`,FR,xR,N("Function")),b(R,`       CASE WHEN c.castcontext = '%c' THEN '%s'
            WHEN c.castcontext = '%c' THEN '%s'
            ELSE '%s'
       END AS "%s"`,HR,N("no"),kR,N("in assignment"),N("yes"),N("Implicit?")),O&&b(R,`,
       d.description AS "%s"`,N("Description")),P(R,`
FROM pg_catalog.pg_cast c LEFT JOIN pg_catalog.pg_proc p
     ON c.castfunc = p.oid
     LEFT JOIN pg_catalog.pg_type ts
     ON c.castsource = ts.oid
     LEFT JOIN pg_catalog.pg_namespace ns
     ON ns.oid = ts.typnamespace
     LEFT JOIN pg_catalog.pg_type tt
     ON c.casttarget = tt.oid
     LEFT JOIN pg_catalog.pg_namespace nt
     ON nt.oid = tt.typnamespace
`),O&&P(R,`     LEFT JOIN pg_catalog.pg_description d
     ON d.classoid = c.tableoid AND d.objoid = c.oid AND d.objsubid = 0
`),P(R,"WHERE ( (true"),!D(R,L,!0,!1,"ns.nspname","ts.typname","pg_catalog.format_type(ts.oid, NULL)","pg_catalog.pg_type_is_visible(ts.oid)",null,3)||(P(R,") OR (true"),!D(R,L,!0,!1,"nt.nspname","tt.typname","pg_catalog.format_type(tt.oid, NULL)","pg_catalog.pg_type_is_visible(tt.oid)",null,3))||(P(R,`) )
ORDER BY 1, 2;`),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of casts"),v.translate_header=!0,v.translate_columns=m,v.n_translate_columns=et(m),C(T,v,d.queryFout,!1,d.logfile),!0)}async function k(L,O,R){let T={},v,m=d.popt,U=[!1,!1,!1,!1,!1,!1,!1,!0,!1];return le(T),X(T,`SELECT
  n.nspname AS "%s",
  c.collname AS "%s",
`,N("Schema"),N("Name")),d.sversion>=1e5?b(T,`  CASE c.collprovider WHEN 'd' THEN 'default' WHEN 'b' THEN 'builtin' WHEN 'c' THEN 'libc' WHEN 'i' THEN 'icu' END AS "%s",
`,N("Provider")):b(T,`  'libc' AS "%s",
`,N("Provider")),b(T,`  c.collcollate AS "%s",
  c.collctype AS "%s",
`,N("Collate"),N("Ctype")),d.sversion>=17e4?b(T,`  c.colllocale AS "%s",
`,N("Locale")):d.sversion>=15e4?b(T,`  c.colliculocale AS "%s",
`,N("Locale")):b(T,`  c.collcollate AS "%s",
`,N("Locale")),d.sversion>=16e4?b(T,`  c.collicurules AS "%s",
`,N("ICU Rules")):b(T,`  NULL AS "%s",
`,N("ICU Rules")),d.sversion>=12e4?b(T,`  CASE WHEN c.collisdeterministic THEN '%s' ELSE '%s' END AS "%s"`,N("yes"),N("no"),N("Deterministic?")):b(T,`  '%s' AS "%s"`,N("yes"),N("Deterministic?")),O&&b(T,`,
  pg_catalog.obj_description(c.oid, 'pg_collation') AS "%s"`,N("Description")),P(T,`
FROM pg_catalog.pg_collation c, pg_catalog.pg_namespace n
WHERE n.oid = c.collnamespace
`),!R&&!L&&P(T,`      AND n.nspname <> 'pg_catalog'
      AND n.nspname <> 'information_schema'
`),P(T,`      AND c.collencoding IN (-1, pg_catalog.pg_char_to_encoding(pg_catalog.getdatabaseencoding()))
`),!D(T,L,!0,!1,"n.nspname","c.collname",null,"pg_catalog.pg_collation_is_visible(c.oid)",null,3)||(P(T,"ORDER BY 1, 2;"),v=await f(T.data),!v)?!1:(m.nullPrint=null,m.title=r("List of collations"),m.translate_header=!0,m.translate_columns=U,m.n_translate_columns=et(U),C(v,m,d.queryFout,!1,d.logfile),!0)}async function $(L,O,R){let T={},v,m=d.popt,U=0,K=null;if(le(T),X(T,`SELECT n.nspname AS "%s",
  pg_catalog.pg_get_userbyid(n.nspowner) AS "%s"`,N("Name"),N("Owner")),O&&(P(T,`,
  `),It(T,"n.nspacl"),b(T,`,
  pg_catalog.obj_description(n.oid, 'pg_namespace') AS "%s"`,N("Description"))),P(T,`
FROM pg_catalog.pg_namespace n
`),!R&&!L&&P(T,`WHERE n.nspname !~ '^pg_' AND n.nspname <> 'information_schema'
`),!D(T,L,!R&&!L,!1,null,"n.nspname",null,null,null,2)||(P(T,"ORDER BY 1;"),v=await f(T.data),!v))return!1;if(m.nullPrint=null,m.title=r("List of schemas"),m.translate_header=!0,L&&d.sversion>=15e4){let Q,x;if(X(T,`SELECT pubname 
FROM pg_catalog.pg_publication p
     JOIN pg_catalog.pg_publication_namespace pn ON p.oid = pn.pnpubid
     JOIN pg_catalog.pg_namespace n ON n.oid = pn.pnnspid 
WHERE n.nspname = '%s'
ORDER BY 1`,L),Q=await f(T.data),Q)U=be(Q);else return!1;if(U>0){for(K=[],K[0]=Pn(r("Publications:")),x=0;x<U;x++)X(T,'    "%s"',q(Q,x,0)),K[x+1]=Pn(T.data);K[x+1]=null,m.footers=K}}return C(v,m,d.queryFout,!1,d.logfile),!0}async function J(L,O){let R={},T,v=d.popt;return O?await re(L):(le(R),X(R,`SELECT
  n.nspname as "%s",
  p.prsname as "%s",
  pg_catalog.obj_description(p.oid, 'pg_ts_parser') as "%s"
FROM pg_catalog.pg_ts_parser p
LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.prsnamespace
`,N("Schema"),N("Name"),N("Description")),!D(R,L,!1,!1,"n.nspname","p.prsname",null,"pg_catalog.pg_ts_parser_is_visible(p.oid)",null,3)||(P(R,"ORDER BY 1, 2;"),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of text search parsers"),v.translate_header=!0,C(T,v,d.queryFout,!1,d.logfile),!0))}async function re(L){let O={},R,T;if(le(O),X(O,`SELECT p.oid,
  n.nspname,
  p.prsname
FROM pg_catalog.pg_ts_parser p
LEFT JOIN pg_catalog.pg_namespace n ON n.oid = p.prsnamespace
`),!D(O,L,!1,!1,"n.nspname","p.prsname",null,"pg_catalog.pg_ts_parser_is_visible(p.oid)",null,3)||(P(O,"ORDER BY 1, 2;"),R=await f(O.data),!R))return!1;if(be(R)==0)return d.quiet||(L?w('Did not find any text search parser named "%s".',L):w("Did not find any text search parsers.")),!1;for(T=0;T<be(R);T++){let v,m=null,U;if(v=q(R,T,0),lt(R,T,1)||(m=q(R,T,1)),U=q(R,T,2),!await ke(v,m,U)||l)return!1}return!0}async function ke(L,O,R){let T={},v,m={},U=d.popt,K=[!0,!1,!1];return le(T),X(T,`SELECT '%s' AS "%s",
   p.prsstart::pg_catalog.regproc AS "%s",
   pg_catalog.obj_description(p.prsstart, 'pg_proc') as "%s"
 FROM pg_catalog.pg_ts_parser p
 WHERE p.oid = '%s'
UNION ALL
SELECT '%s',
   p.prstoken::pg_catalog.regproc,
   pg_catalog.obj_description(p.prstoken, 'pg_proc')
 FROM pg_catalog.pg_ts_parser p
 WHERE p.oid = '%s'
UNION ALL
SELECT '%s',
   p.prsend::pg_catalog.regproc,
   pg_catalog.obj_description(p.prsend, 'pg_proc')
 FROM pg_catalog.pg_ts_parser p
 WHERE p.oid = '%s'
UNION ALL
SELECT '%s',
   p.prsheadline::pg_catalog.regproc,
   pg_catalog.obj_description(p.prsheadline, 'pg_proc')
 FROM pg_catalog.pg_ts_parser p
 WHERE p.oid = '%s'
UNION ALL
SELECT '%s',
   p.prslextype::pg_catalog.regproc,
   pg_catalog.obj_description(p.prslextype, 'pg_proc')
 FROM pg_catalog.pg_ts_parser p
 WHERE p.oid = '%s';`,N("Start parse"),N("Method"),N("Function"),N("Description"),L,N("Get next token"),L,N("End parse"),L,N("Get headline"),L,N("Get token types"),L),v=await f(T.data),!v||(U.nullPrint=null,le(m),O?X(m,r('Text search parser "%s.%s"'),O,R):X(m,r('Text search parser "%s"'),R),U.title=m.data,U.footers=null,U.topt.default_footer=!1,U.translate_header=!0,U.translate_columns=K,U.n_translate_columns=et(K),C(v,U,d.queryFout,!1,d.logfile),le(T),X(T,`SELECT t.alias as "%s",
  t.description as "%s"
FROM pg_catalog.ts_token_type( '%s'::pg_catalog.oid ) as t
ORDER BY 1;`,N("Token name"),N("Description"),L),v=await f(T.data),!v)?!1:(U.nullPrint=null,O?X(m,r('Token types for parser "%s.%s"'),O,R):X(m,r('Token types for parser "%s"'),R),U.title=m.data,U.footers=null,U.topt.default_footer=!0,U.translate_header=!0,U.translate_columns=null,U.n_translate_columns=0,C(v,U,d.queryFout,!1,d.logfile),!0)}async function Ze(L,O){let R={},T,v=d.popt;return le(R),X(R,`SELECT
  n.nspname as "%s",
  d.dictname as "%s",
`,N("Schema"),N("Name")),O&&b(R,`  ( SELECT COALESCE(nt.nspname, '(null)')::pg_catalog.text || '.' || t.tmplname FROM
    pg_catalog.pg_ts_template t
    LEFT JOIN pg_catalog.pg_namespace nt ON nt.oid = t.tmplnamespace
    WHERE d.dicttemplate = t.oid ) AS  "%s",
  d.dictinitoption as "%s",
`,N("Template"),N("Init options")),b(R,`  pg_catalog.obj_description(d.oid, 'pg_ts_dict') as "%s"
`,N("Description")),P(R,`FROM pg_catalog.pg_ts_dict d
LEFT JOIN pg_catalog.pg_namespace n ON n.oid = d.dictnamespace
`),!D(R,L,!1,!1,"n.nspname","d.dictname",null,"pg_catalog.pg_ts_dict_is_visible(d.oid)",null,3)||(P(R,"ORDER BY 1, 2;"),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of text search dictionaries"),v.translate_header=!0,C(T,v,d.queryFout,!1,d.logfile),!0)}async function We(L,O){let R={},T,v=d.popt;return le(R),O?X(R,`SELECT
  n.nspname AS "%s",
  t.tmplname AS "%s",
  t.tmplinit::pg_catalog.regproc AS "%s",
  t.tmpllexize::pg_catalog.regproc AS "%s",
  pg_catalog.obj_description(t.oid, 'pg_ts_template') AS "%s"
`,N("Schema"),N("Name"),N("Init"),N("Lexize"),N("Description")):X(R,`SELECT
  n.nspname AS "%s",
  t.tmplname AS "%s",
  pg_catalog.obj_description(t.oid, 'pg_ts_template') AS "%s"
`,N("Schema"),N("Name"),N("Description")),P(R,`FROM pg_catalog.pg_ts_template t
LEFT JOIN pg_catalog.pg_namespace n ON n.oid = t.tmplnamespace
`),!D(R,L,!1,!1,"n.nspname","t.tmplname",null,"pg_catalog.pg_ts_template_is_visible(t.oid)",null,3)||(P(R,"ORDER BY 1, 2;"),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of text search templates"),v.translate_header=!0,C(T,v,d.queryFout,!1,d.logfile),!0)}async function He(L,O){let R={},T,v=d.popt;return O?await Qe(L):(le(R),X(R,`SELECT
   n.nspname as "%s",
   c.cfgname as "%s",
   pg_catalog.obj_description(c.oid, 'pg_ts_config') as "%s"
FROM pg_catalog.pg_ts_config c
LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.cfgnamespace
`,N("Schema"),N("Name"),N("Description")),!D(R,L,!1,!1,"n.nspname","c.cfgname",null,"pg_catalog.pg_ts_config_is_visible(c.oid)",null,3)||(P(R,"ORDER BY 1, 2;"),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of text search configurations"),v.translate_header=!0,C(T,v,d.queryFout,!1,d.logfile),!0))}async function Qe(L){let O={},R,T;if(le(O),X(O,`SELECT c.oid, c.cfgname,
   n.nspname,
   p.prsname,
   np.nspname as pnspname
FROM pg_catalog.pg_ts_config c
   LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.cfgnamespace,
 pg_catalog.pg_ts_parser p
   LEFT JOIN pg_catalog.pg_namespace np ON np.oid = p.prsnamespace
WHERE  p.oid = c.cfgparser
`),!D(O,L,!0,!1,"n.nspname","c.cfgname",null,"pg_catalog.pg_ts_config_is_visible(c.oid)",null,3)||(P(O,"ORDER BY 3, 2;"),R=await f(O.data),!R))return!1;if(be(R)==0)return d.quiet||(L?w('Did not find any text search configuration named "%s".',L):w("Did not find any text search configurations.")),!1;for(T=0;T<be(R);T++){let v,m,U=null,K,Q=null;if(v=q(R,T,0),m=q(R,T,1),lt(R,T,2)||(U=q(R,T,2)),K=q(R,T,3),lt(R,T,4)||(Q=q(R,T,4)),!await Qp(v,U,m,Q,K)||l)return!1}return!0}async function Qp(L,O,R,T,v){let m={},U={},K,Q=d.popt;return le(m),X(m,`SELECT
  ( SELECT t.alias FROM
    pg_catalog.ts_token_type(c.cfgparser) AS t
    WHERE t.tokid = m.maptokentype ) AS "%s",
  pg_catalog.btrim(
    ARRAY( SELECT mm.mapdict::pg_catalog.regdictionary
           FROM pg_catalog.pg_ts_config_map AS mm
           WHERE mm.mapcfg = m.mapcfg AND mm.maptokentype = m.maptokentype
           ORDER BY mapcfg, maptokentype, mapseqno
    ) :: pg_catalog.text,
  '{}') AS "%s"
FROM pg_catalog.pg_ts_config AS c, pg_catalog.pg_ts_config_map AS m
WHERE c.oid = '%s' AND m.mapcfg = c.oid
GROUP BY m.mapcfg, m.maptokentype, c.cfgparser
ORDER BY 1;`,N("Token"),N("Dictionaries"),L),K=await f(m.data),K?(le(U),O?b(U,r('Text search configuration "%s.%s"'),O,R):b(U,r('Text search configuration "%s"'),R),T?b(U,r(`
Parser: "%s.%s"`),T,v):b(U,r(`
Parser: "%s"`),v),Q.nullPrint=null,Q.title=U.data,Q.footers=null,Q.topt.default_footer=!1,Q.translate_header=!0,C(K,Q,d.queryFout,!1,d.logfile),!0):!1}async function Kp(L,O){let R={},T,v=d.popt;return le(R),X(R,`SELECT fdw.fdwname AS "%s",
  pg_catalog.pg_get_userbyid(fdw.fdwowner) AS "%s",
  fdw.fdwhandler::pg_catalog.regproc AS "%s",
  fdw.fdwvalidator::pg_catalog.regproc AS "%s"`,N("Name"),N("Owner"),N("Handler"),N("Validator")),O&&(P(R,`,
  `),It(R,"fdwacl"),b(R,`,
 CASE WHEN fdwoptions IS NULL THEN '' ELSE   '(' || pg_catalog.array_to_string(ARRAY(SELECT   pg_catalog.quote_ident(option_name) ||  ' ' ||   pg_catalog.quote_literal(option_value)  FROM   pg_catalog.pg_options_to_table(fdwoptions)),  ', ') || ')'   END AS "%s",
  d.description AS "%s" `,N("FDW options"),N("Description"))),P(R,`
FROM pg_catalog.pg_foreign_data_wrapper fdw
`),O&&P(R,`LEFT JOIN pg_catalog.pg_description d
       ON d.classoid = fdw.tableoid AND d.objoid = fdw.oid AND d.objsubid = 0
`),!D(R,L,!1,!1,null,"fdwname",null,null,null,1)||(P(R,"ORDER BY 1;"),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of foreign-data wrappers"),v.translate_header=!0,C(T,v,d.queryFout,!1,d.logfile),!0)}async function zp(L,O){let R={},T,v=d.popt;return le(R),X(R,`SELECT s.srvname AS "%s",
  pg_catalog.pg_get_userbyid(s.srvowner) AS "%s",
  f.fdwname AS "%s"`,N("Name"),N("Owner"),N("Foreign-data wrapper")),O&&(P(R,`,
  `),It(R,"s.srvacl"),b(R,`,
  s.srvtype AS "%s",
  s.srvversion AS "%s",
  CASE WHEN srvoptions IS NULL THEN '' ELSE   '(' || pg_catalog.array_to_string(ARRAY(SELECT   pg_catalog.quote_ident(option_name) ||  ' ' ||   pg_catalog.quote_literal(option_value)  FROM   pg_catalog.pg_options_to_table(srvoptions)),  ', ') || ')'   END AS "%s",
  d.description AS "%s"`,N("Type"),N("Version"),N("FDW options"),N("Description"))),P(R,`
FROM pg_catalog.pg_foreign_server s
     JOIN pg_catalog.pg_foreign_data_wrapper f ON f.oid=s.srvfdw
`),O&&P(R,`LEFT JOIN pg_catalog.pg_description d
       ON d.classoid = s.tableoid AND d.objoid = s.oid AND d.objsubid = 0
`),!D(R,L,!1,!1,null,"s.srvname",null,null,null,1)||(P(R,"ORDER BY 1;"),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of foreign servers"),v.translate_header=!0,C(T,v,d.queryFout,!1,d.logfile),!0)}async function Jp(L,O){let R={},T,v=d.popt;return le(R),X(R,`SELECT um.srvname AS "%s",
  um.usename AS "%s"`,N("Server"),N("User name")),O&&b(R,`,
 CASE WHEN umoptions IS NULL THEN '' ELSE   '(' || pg_catalog.array_to_string(ARRAY(SELECT   pg_catalog.quote_ident(option_name) ||  ' ' ||   pg_catalog.quote_literal(option_value)  FROM   pg_catalog.pg_options_to_table(umoptions)),  ', ') || ')'   END AS "%s"`,N("FDW options")),P(R,`
FROM pg_catalog.pg_user_mappings um
`),!D(R,L,!1,!1,null,"um.srvname","um.usename",null,null,1)||(P(R,"ORDER BY 1, 2;"),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of user mappings"),v.translate_header=!0,C(T,v,d.queryFout,!1,d.logfile),!0)}async function Zp(L,O){let R={},T,v=d.popt;return le(R),X(R,`SELECT n.nspname AS "%s",
  c.relname AS "%s",
  s.srvname AS "%s"`,N("Schema"),N("Table"),N("Server")),O&&b(R,`,
 CASE WHEN ftoptions IS NULL THEN '' ELSE   '(' || pg_catalog.array_to_string(ARRAY(SELECT   pg_catalog.quote_ident(option_name) ||  ' ' ||   pg_catalog.quote_literal(option_value)  FROM   pg_catalog.pg_options_to_table(ftoptions)),  ', ') || ')'   END AS "%s",
  d.description AS "%s"`,N("FDW options"),N("Description")),P(R,`
FROM pg_catalog.pg_foreign_table ft
  INNER JOIN pg_catalog.pg_class c ON c.oid = ft.ftrelid
  INNER JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
  INNER JOIN pg_catalog.pg_foreign_server s ON s.oid = ft.ftserver
`),O&&P(R,`   LEFT JOIN pg_catalog.pg_description d
          ON d.classoid = c.tableoid AND d.objoid = c.oid AND d.objsubid = 0
`),!D(R,L,!1,!1,"n.nspname","c.relname",null,"pg_catalog.pg_table_is_visible(c.oid)",null,3)||(P(R,"ORDER BY 1, 2;"),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of foreign tables"),v.translate_header=!0,C(T,v,d.queryFout,!1,d.logfile),!0)}async function ed(L){let O={},R,T=d.popt;return le(O),X(O,`SELECT e.extname AS "%s", e.extversion AS "%s", n.nspname AS "%s", c.description AS "%s"
FROM pg_catalog.pg_extension e LEFT JOIN pg_catalog.pg_namespace n ON n.oid = e.extnamespace LEFT JOIN pg_catalog.pg_description c ON c.objoid = e.oid AND c.classoid = 'pg_catalog.pg_extension'::pg_catalog.regclass
`,N("Name"),N("Version"),N("Schema"),N("Description")),!D(O,L,!1,!1,null,"e.extname",null,null,null,1)||(P(O,"ORDER BY 1;"),R=await f(O.data),!R)?!1:(T.nullPrint=null,T.title=r("List of installed extensions"),T.translate_header=!0,C(R,T,d.queryFout,!1,d.logfile),!0)}async function td(L){let O={},R,T;if(le(O),X(O,`SELECT e.extname, e.oid
FROM pg_catalog.pg_extension e
`),!D(O,L,!1,!1,null,"e.extname",null,null,null,1)||(P(O,"ORDER BY 1;"),R=await f(O.data),!R))return!1;if(be(R)==0)return d.quiet||(L?w('Did not find any extension named "%s".',L):w("Did not find any extensions.")),!1;for(T=0;T<be(R);T++){let v,m;if(v=q(R,T,0),m=q(R,T,1),!await nd(v,m)||l)return!1}return!0}async function nd(L,O){let R={},T,v={},m=d.popt;return le(R),X(R,`SELECT pg_catalog.pg_describe_object(classid, objid, 0) AS "%s"
FROM pg_catalog.pg_depend
WHERE refclassid = 'pg_catalog.pg_extension'::pg_catalog.regclass AND refobjid = '%s' AND deptype = 'e'
ORDER BY 1;`,N("Object description"),O),T=await f(R.data),T?(m.nullPrint=null,le(v),X(v,r('Objects in extension "%s"'),L),m.title=v.data,m.translate_header=!0,C(T,m,d.queryFout,!1,d.logfile),!0):!1}async function rd(L){let O={},R,T=d.popt,v=[!1,!1,!1,!1,!1,!1,!1,!1];return d.sversion<1e5?(w("The server (version %s) does not support publications.",Sn(d.sversion,!1,void 0)),!0):(le(O),X(O,`SELECT pubname AS "%s",
  pg_catalog.pg_get_userbyid(pubowner) AS "%s",
  puballtables AS "%s",
  pubinsert AS "%s",
  pubupdate AS "%s",
  pubdelete AS "%s"`,N("Name"),N("Owner"),N("All tables"),N("Inserts"),N("Updates"),N("Deletes")),d.sversion>=11e4&&b(O,`,
  pubtruncate AS "%s"`,N("Truncates")),d.sversion>=13e4&&b(O,`,
  pubviaroot AS "%s"`,N("Via root")),P(O,`
FROM pg_catalog.pg_publication
`),!D(O,L,!1,!1,null,"pubname",null,null,null,1)||(P(O,"ORDER BY 1;"),R=await f(O.data),!R)?!1:(T.nullPrint=null,T.title=r("List of publications"),T.translate_header=!0,T.translate_columns=v,T.n_translate_columns=et(v),C(R,T,d.queryFout,!1,d.logfile),!0))}async function Jo(L,O,R,T){let v,m=0,U=0;if(v=await f(L.data),v)m=be(v);else return!1;for(m>0&&H(T,O),U=0;U<m;U++)R?X(L,'    "%s"',q(v,U,0)):(X(L,'    "%s.%s"',q(v,U,0),q(v,U,1)),lt(v,U,3)||b(L," (%s)",q(v,U,3)),lt(v,U,2)||b(L," WHERE %s",q(v,U,2))),H(T,L.data);return!0}async function sd(L){let O={},R,T,v,m,U={},K={};if(d.sversion<1e5)return w("The server (version %s) does not support publications.",Sn(d.sversion,!1,void 0)),!0;if(v=d.sversion>=11e4,m=d.sversion>=13e4,le(O),X(O,`SELECT oid, pubname,
  pg_catalog.pg_get_userbyid(pubowner) AS owner,
  puballtables, pubinsert, pubupdate, pubdelete`),v&&P(O,", pubtruncate"),m&&P(O,", pubviaroot"),P(O,`
FROM pg_catalog.pg_publication
`),!D(O,L,!1,!1,null,"pubname",null,null,null,1)||(P(O,"ORDER BY 2;"),T=await f(O.data),!T))return!1;if(be(T)==0)return d.quiet||(L?w('Did not find any publication named "%s".',L):w("Did not find any publications.")),!1;for(R=0;R<be(T);R++){let Q="l",x=5,ae=1,se=q(T,R,0),ee=q(T,R,1),Te=he(q(T,R,3),"t")==0,ge=d.popt.topt;if(v&&x++,m&&x++,le(U),X(U,r("Publication %s"),ee),W(K,ge,U.data,x,ae),B(K,N("Owner"),!0,Q),B(K,N("All tables"),!0,Q),B(K,N("Inserts"),!0,Q),B(K,N("Updates"),!0,Q),B(K,N("Deletes"),!0,Q),v&&B(K,N("Truncates"),!0,Q),m&&B(K,N("Via root"),!0,Q),F(K,q(T,R,2),!1),F(K,q(T,R,3),!1),F(K,q(T,R,4),!1),F(K,q(T,R,5),!1),F(K,q(T,R,6),!1),v&&F(K,q(T,R,7),!1),m&&F(K,q(T,R,8),!1),!Te&&(X(O,"SELECT n.nspname, c.relname"),d.sversion>=15e4?(P(O,", pg_get_expr(pr.prqual, c.oid)"),P(O,`, (CASE WHEN pr.prattrs IS NOT NULL THEN
     pg_catalog.array_to_string(      ARRAY(SELECT attname
              FROM
                pg_catalog.generate_series(0, pg_catalog.array_upper(pr.prattrs::pg_catalog.int2[], 1)) s,
                pg_catalog.pg_attribute
        WHERE attrelid = c.oid AND attnum = prattrs[s]), ', ')
       ELSE NULL END)`)):P(O,", NULL, NULL"),b(O,`
FROM pg_catalog.pg_class c,
     pg_catalog.pg_namespace n,
     pg_catalog.pg_publication_rel pr
WHERE c.relnamespace = n.oid
  AND c.oid = pr.prrelid
  AND pr.prpubid = '%s'
ORDER BY 1,2`,se),!await Jo(O,r("Tables:"),!1,K)||d.sversion>=15e4&&(X(O,`SELECT n.nspname
FROM pg_catalog.pg_namespace n
     JOIN pg_catalog.pg_publication_namespace pn ON n.oid = pn.pnnspid
WHERE pn.pnpubid = '%s'
ORDER BY 1`,se),!await Jo(O,r("Tables from schemas:"),!0,K))))return!1;te(K,d.queryFout,!1,d.logfile)}return!0}async function id(L,O){let R={},T,v=d.popt,m=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];return d.sversion<1e5?(w("The server (version %s) does not support subscriptions.",Sn(d.sversion,!1,void 0)),!0):(le(R),X(R,`SELECT subname AS "%s"
,  pg_catalog.pg_get_userbyid(subowner) AS "%s"
,  subenabled AS "%s"
,  subpublications AS "%s"
`,N("Name"),N("Owner"),N("Enabled"),N("Publication")),O&&(d.sversion>=14e4&&(b(R,`, subbinary AS "%s"
`,N("Binary")),d.sversion>=16e4?b(R,`, (CASE substream
    WHEN 'f' THEN 'off'
    WHEN 't' THEN 'on'
    WHEN 'p' THEN 'parallel'
   END) AS "%s"
`,N("Streaming")):b(R,`, substream AS "%s"
`,N("Streaming"))),d.sversion>=15e4&&b(R,`, subtwophasestate AS "%s"
, subdisableonerr AS "%s"
`,N("Two-phase commit"),N("Disable on error")),d.sversion>=16e4&&b(R,`, suborigin AS "%s"
, subpasswordrequired AS "%s"
, subrunasowner AS "%s"
`,N("Origin"),N("Password required"),N("Run as owner?")),d.sversion>=17e4&&b(R,`, subfailover AS "%s"
`,N("Failover")),b(R,`,  subsynccommit AS "%s"
,  subconninfo AS "%s"
`,N("Synchronous commit"),N("Conninfo")),d.sversion>=15e4&&b(R,`, subskiplsn AS "%s"
`,N("Skip LSN"))),P(R,`FROM pg_catalog.pg_subscription
WHERE subdbid = (SELECT oid
                 FROM pg_catalog.pg_database
                 WHERE datname = pg_catalog.current_database())`),!D(R,L,!0,!1,null,"subname",null,null,null,1)||(P(R,"ORDER BY 1;"),T=await f(R.data),!T)?!1:(v.nullPrint=null,v.title=r("List of subscriptions"),v.translate_header=!0,v.translate_columns=m,v.n_translate_columns=et(m),C(T,v,d.queryFout,!1,d.logfile),!0))}function It(L,O){b(L,`CASE WHEN pg_catalog.cardinality(%s) = 0 THEN '%s' ELSE pg_catalog.array_to_string(%s, E'\\n') END AS "%s"`,O,N("(none)"),O,N("Access privileges"))}async function ad(L,O,R){let T={},v,m=d.popt,U=!1,K=[!1,!1,!1,!1,!1,!1,!1];if(le(T),X(T,`SELECT
  am.amname AS "%s",
  pg_catalog.format_type(c.opcintype, NULL) AS "%s",
  CASE
    WHEN c.opckeytype <> 0 AND c.opckeytype <> c.opcintype
    THEN pg_catalog.format_type(c.opckeytype, NULL)
    ELSE NULL
  END AS "%s",
  CASE
    WHEN pg_catalog.pg_opclass_is_visible(c.oid)
    THEN pg_catalog.format('%%I', c.opcname)
    ELSE pg_catalog.format('%%I.%%I', n.nspname, c.opcname)
  END AS "%s",
  (CASE WHEN c.opcdefault
    THEN '%s'
    ELSE '%s'
  END) AS "%s"`,N("AM"),N("Input type"),N("Storage type"),N("Operator class"),N("yes"),N("no"),N("Default?")),R&&b(T,`,
  CASE
    WHEN pg_catalog.pg_opfamily_is_visible(of.oid)
    THEN pg_catalog.format('%%I', of.opfname)
    ELSE pg_catalog.format('%%I.%%I', ofn.nspname, of.opfname)
  END AS "%s",
 pg_catalog.pg_get_userbyid(c.opcowner) AS "%s"
`,N("Operator family"),N("Owner")),P(T,`
FROM pg_catalog.pg_opclass c
  LEFT JOIN pg_catalog.pg_am am on am.oid = c.opcmethod
  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.opcnamespace
  LEFT JOIN pg_catalog.pg_type t ON t.oid = c.opcintype
  LEFT JOIN pg_catalog.pg_namespace tn ON tn.oid = t.typnamespace
`),R&&P(T,`  LEFT JOIN pg_catalog.pg_opfamily of ON of.oid = c.opcfamily
  LEFT JOIN pg_catalog.pg_namespace ofn ON ofn.oid = of.opfnamespace
`),L){if(U={value:U},!D(T,L,!1,!1,null,"am.amname",null,null,U,1))return!1;U=U.value}return O&&!D(T,O,U,!1,"tn.nspname","t.typname","pg_catalog.format_type(t.oid, NULL)","pg_catalog.pg_type_is_visible(t.oid)",null,3)||(P(T,"ORDER BY 1, 2, 4;"),v=await f(T.data),!v)?!1:(m.nullPrint=null,m.title=r("List of operator classes"),m.translate_header=!0,m.translate_columns=K,m.n_translate_columns=et(K),C(v,m,d.queryFout,!1,d.logfile),!0)}async function od(L,O,R){let T={},v,m=d.popt,U=!1,K=[!1,!1,!1,!1];if(le(T),X(T,`SELECT
  am.amname AS "%s",
  CASE
    WHEN pg_catalog.pg_opfamily_is_visible(f.oid)
    THEN pg_catalog.format('%%I', f.opfname)
    ELSE pg_catalog.format('%%I.%%I', n.nspname, f.opfname)
  END AS "%s",
  (SELECT
     pg_catalog.string_agg(pg_catalog.format_type(oc.opcintype, NULL), ', ')
   FROM pg_catalog.pg_opclass oc
   WHERE oc.opcfamily = f.oid) "%s"`,N("AM"),N("Operator family"),N("Applicable types")),R&&b(T,`,
  pg_catalog.pg_get_userbyid(f.opfowner) AS "%s"
`,N("Owner")),P(T,`
FROM pg_catalog.pg_opfamily f
  LEFT JOIN pg_catalog.pg_am am on am.oid = f.opfmethod
  LEFT JOIN pg_catalog.pg_namespace n ON n.oid = f.opfnamespace
`),L){if(U={value:U},!D(T,L,!1,!1,null,"am.amname",null,null,U,1))return!1;U=U.value}if(O){if(b(T,`  %s EXISTS (
    SELECT 1
    FROM pg_catalog.pg_type t
    JOIN pg_catalog.pg_opclass oc ON oc.opcintype = t.oid
    LEFT JOIN pg_catalog.pg_namespace tn ON tn.oid = t.typnamespace
    WHERE oc.opcfamily = f.oid
`,U?"AND":"WHERE"),!D(T,O,!0,!1,"tn.nspname","t.typname","pg_catalog.format_type(t.oid, NULL)","pg_catalog.pg_type_is_visible(t.oid)",null,3))return!1;P(T,`  )
`)}return P(T,"ORDER BY 1, 2;"),v=await f(T.data),v?(m.nullPrint=null,m.title=r("List of operator families"),m.translate_header=!0,m.translate_columns=K,m.n_translate_columns=et(K),C(v,m,d.queryFout,!1,d.logfile),!0):!1}async function cd(L,O,R){let T={},v,m=d.popt,U=!1,K=[!1,!1,!1,!1,!1,!1];if(le(T),X(T,`SELECT
  am.amname AS "%s",
  CASE
    WHEN pg_catalog.pg_opfamily_is_visible(of.oid)
    THEN pg_catalog.format('%%I', of.opfname)
    ELSE pg_catalog.format('%%I.%%I', nsf.nspname, of.opfname)
  END AS "%s",
  o.amopopr::pg_catalog.regoperator AS "%s"
,  o.amopstrategy AS "%s",
  CASE o.amoppurpose
    WHEN 'o' THEN '%s'
    WHEN 's' THEN '%s'
  END AS "%s"
`,N("AM"),N("Operator family"),N("Operator"),N("Strategy"),N("ordering"),N("search"),N("Purpose")),R&&b(T,`, ofs.opfname AS "%s"
`,N("Sort opfamily")),P(T,`FROM pg_catalog.pg_amop o
  LEFT JOIN pg_catalog.pg_opfamily of ON of.oid = o.amopfamily
  LEFT JOIN pg_catalog.pg_am am ON am.oid = of.opfmethod AND am.oid = o.amopmethod
  LEFT JOIN pg_catalog.pg_namespace nsf ON of.opfnamespace = nsf.oid
`),R&&P(T,`  LEFT JOIN pg_catalog.pg_opfamily ofs ON ofs.oid = o.amopsortfamily
`),L){if(U={value:U},!D(T,L,!1,!1,null,"am.amname",null,null,U,1))return!1;U=U.value}return O&&!D(T,O,U,!1,"nsf.nspname","of.opfname",null,null,null,3)||(P(T,`ORDER BY 1, 2,
  o.amoplefttype = o.amoprighttype DESC,
  pg_catalog.format_type(o.amoplefttype, NULL),
  pg_catalog.format_type(o.amoprighttype, NULL),
  o.amopstrategy;`),v=await f(T.data),!v)?!1:(m.nullPrint=null,m.title=r("List of operators of operator families"),m.translate_header=!0,m.translate_columns=K,m.n_translate_columns=et(K),C(v,m,d.queryFout,!1,d.logfile),!0)}async function ld(L,O,R){let T={},v,m=d.popt,U=!1,K=[!1,!1,!1,!1,!1,!1];if(le(T),X(T,`SELECT
  am.amname AS "%s",
  CASE
    WHEN pg_catalog.pg_opfamily_is_visible(of.oid)
    THEN pg_catalog.format('%%I', of.opfname)
    ELSE pg_catalog.format('%%I.%%I', ns.nspname, of.opfname)
  END AS "%s",
  pg_catalog.format_type(ap.amproclefttype, NULL) AS "%s",
  pg_catalog.format_type(ap.amprocrighttype, NULL) AS "%s",
  ap.amprocnum AS "%s"
`,N("AM"),N("Operator family"),N("Registered left type"),N("Registered right type"),N("Number")),R?b(T,`, ap.amproc::pg_catalog.regprocedure AS "%s"
`,N("Function")):b(T,`, p.proname AS "%s"
`,N("Function")),P(T,`FROM pg_catalog.pg_amproc ap
  LEFT JOIN pg_catalog.pg_opfamily of ON of.oid = ap.amprocfamily
  LEFT JOIN pg_catalog.pg_am am ON am.oid = of.opfmethod
  LEFT JOIN pg_catalog.pg_namespace ns ON of.opfnamespace = ns.oid
  LEFT JOIN pg_catalog.pg_proc p ON ap.amproc = p.oid
`),L){if(U={value:U},!D(T,L,!1,!1,null,"am.amname",null,null,U,1))return!1;U=U.value}return O&&!D(T,O,U,!1,"ns.nspname","of.opfname",null,null,null,3)||(P(T,`ORDER BY 1, 2,
  ap.amproclefttype = ap.amprocrighttype DESC,
  3, 4, 5;`),v=await f(T.data),!v)?!1:(m.nullPrint=null,m.title=r("List of support functions of operator families"),m.translate_header=!0,m.translate_columns=K,m.n_translate_columns=et(K),C(v,m,d.queryFout,!1,d.logfile),!0)}async function ud(L){let O={},R,T=d.popt;if(le(O),X(O,`SELECT oid as "%s",
  pg_catalog.pg_get_userbyid(lomowner) as "%s",
  `,N("ID"),N("Owner")),L&&(It(O,"lomacl"),P(O,`,
  `)),b(O,`pg_catalog.obj_description(oid, 'pg_largeobject') as "%s"
FROM pg_catalog.pg_largeobject_metadata
ORDER BY oid`,N("Description")),R=await f(O.data),!R)return!1;T.nullPrint=null,T.title=r("Large objects"),T.translate_header=!0,C(R,T,d.queryFout,!1,d.logfile)}return!0}return{promise:g(),cancel:E}}function dl(e,t,n,s="",i=""){const a=Math.max(0,t-sn(e));return n==="r"?s+" ".repeat(a)+e+i:n==="c"?s+" ".repeat(Math.floor(a/2))+e+" ".repeat(Math.ceil(a/2))+i:s+e+" ".repeat(a)+i}function zR(e,t){let n=0;const s=e.length,i=[];for(;n<s;)i.push(e.slice(n,n+=t));return i}function JR(e){let t=-1,n=0,s=1,i=0;for(;(t=e.indexOf(`
`,t+1))!==-1;)t-n>i&&(i=t-n),n=t+1,s++;return e.length-n>i&&(i=e.length-n),{count:s,longest:i}}function ZR(e,t){const{ncolumns:n,nrows:s,aligns:i}=e,a=[...e.headers,...e.cells].map(JR),{colWidths:o,rowHeights:c}=a.reduce((f,d,w)=>{const D=Math.floor(w/e.ncolumns),M=w%e.ncolumns;return d.longest>f.colWidths[M]&&(f.colWidths[M]=d.longest),d.count>f.rowHeights[D]&&(f.rowHeights[D]=d.count),f},{colWidths:new Array(n).fill(0),rowHeights:new Array(s+1).fill(1)}),l=o.reduce((f,d)=>f+d,0)+n*2+(n-1),E=dl(e.title,l,"c"),h=[e.headers,null,...zR(e.cells,n)],g=h.map((f,d)=>{if(d===1)return e.headers.map((D,M)=>"-".repeat(o[M%n]+2)).join("+");d>1&&d--;const w=f.map(D=>D.split(`
`));return new Array(c[d]).fill("").map((D,M)=>w.map((V,j)=>dl(V[M]??"",o[j],d===0?"c":i[j]," ",V[M+1]===void 0?" ":"+")).join("|")).join(`
`)}).join(`
`),S=e.footers?e.footers.filter(Gi):[],A=S.length>0?`
`+S.join(`
`):e.opt.default_footer?`
(${s} row${s===1?"":"s"})`:"";return`${E}
${g}${A}`}function pr(e){if(!e)throw new Error(`Assertion failed (value: ${e})`)}const N=Gi,Pn=Gi,r=Gi;function ci(e,t){const n=e.indexOf(t);return n===-1?null:n}const Ke=ci;function sn(e){return e.length}function Er(e,t,n){if(typeof e!="string"||typeof t!="string")throw new Error("Not a string");return e.length>n&&(e=e.slice(0,n)),t.length>n&&(t=t.slice(0,n)),e<t?-1:e>t?1:0}function he(e,t){return Er(e,t,1/0)}function eA(e,t){const n=sn(e);for(let s=0;s<n;s++)if(t.indexOf(e[s])===-1)return s;return n}function fl(e){return parseInt(e,10)}function ua(e){return parseInt(e,10)}function El(e){return e===" "||e==="	"||e===`
`||e==="\r"}function tA(e){return e==='"'||e==="'"}function nA(e){const t=e.charCodeAt(0);return t>=65&&t<=90}function et(e){return e.length}function Qa(e){return e.toLowerCase()}function rA(e,t){return he(e.toLowerCase(),t.toLowerCase())}function hl(e,t,n){return t}function le(e){e.data="",e.len=0}const pa=le;function P(e,t){e.data+=t,e.len=e.data.length}const Ge=P;function b(e,t,...n){const s=ft(t,...n);P(e,s)}function X(e,t,...n){le(e),b(e,t,...n)}function Ka(e,t,n,s){const i="'"+t.replace(s?/[']/g:/['\\]/g,"\\$&")+"'";P(e,i)}function dr(e,t,n){if(Ke(t,"\\")!=null&&as(n)>=80100){e.len>0&&e.data[e.len-1]!=" "&&Ge(e," "),Ge(e,MR),Ka(e,t,jp(n),!1);return}Ka(e,t,n.encoding,n.std_strings)}function ft(e,...t){let n="",s=0,i=0,a;for(;(a=e.indexOf("%",i))!==-1;){let o=0,c=!1;n+=e.slice(i,a),i=a+1;let l=e[i++];if(l==="%"&&(n+="%"),l==="*"&&(o=parseInt(t[s++],10),l=e[i++]),l==="-"&&(c=!0,l=e[i++]),l>="0"&&l<="9"&&(o=parseInt(l,10),l=e[i++]),l==="s"||l==="c"||l==="d"||l==="u"){const E=String(t[s++]),h=o-E.length;c===!1&&h>0&&(n+=" ".repeat(h)),n+=E,c===!0&&h>0&&(n+=" ".repeat(h))}}return n+=e.slice(i),n}const da=ft;function gl(e){return e?e.dbName:null}function as(e){return!e||e.status===1?0:e.sversion}function jp(e){return!e||e.status!=0?-1:e.client_encoding}function be(e){return e.rowCount}function $p(e){return e.fields.length}function Vp(e,t){return e.fields[t].name}function sA(e,t){return e.fields[t].dataTypeID}function lt(e,t,n){return e.rows[t][n]===null?1:0}function q(e,t,n){const s=e.rows[t][n];return String(s===null?"":s)}function Un(e,t){let n,s,i,a,o;if(!e||t==null||t[0]==null)return-1;for(n=!1,i="",s=0,o=sn(t);s<o;s++){let c=t[s];n?c=='"'?t[s+1]=='"'?(i+='"',s++):n=!1:i+=c:c=='"'?n=!0:(c=Qa(c),i+=c)}for(a=0,o=$p(e);a<o;a++)if(he(i,Vp(e,a))==0)return a;return-1}function Sn(e,t,n,s){return e>=1e5?n=ft("%d",e/1e4):n=ft("%d.%d",Math.floor(e/1e4),Math.floor(e/100)%100),n}function Mn(e,t,n,s){if(t!==0&&t!==4)throw new Error(`scan type ${t} not implemented`);const i=[],a=/^(.*);*$/;let o;for(;;){if(o=e[0][e[1]],o==null)return null;if(!El(o))break;e[1]++}if(t===4)return e[0].slice(e[1],e[1]=e[0].length);let c="";for(;;){if(o=e[0][e[1]++],o==null)return i.length>0?null:c.match(a)[1];if(tA(o))o===i[i.length-1]?i.pop():i.push(o),o==='"'&&(c+=o);else{if(i.length===0&&El(o))return c.match(a)[1];c+=o}}}function Gi(e){return e}const iA=`Help
  \\? [commands]          show help on backslash commands
  \\h [NAME]              help on syntax of SQL commands, * for all commands

Informational
  (options: S = show system objects, + = additional detail)
  \\d[S+]                 list tables, views, and sequences
  \\d[S+]  NAME           describe table, view, sequence, or index
  \\da[S]  [PATTERN]      list aggregates
  \\dA[+]  [PATTERN]      list access methods
  \\dAc[+] [AMPTRN [TYPEPTRN]]  list operator classes
  \\dAf[+] [AMPTRN [TYPEPTRN]]  list operator families
  \\dAo[+] [AMPTRN [OPFPTRN]]   list operators of operator families
  \\dAp[+] [AMPTRN [OPFPTRN]]   list support functions of operator families
  \\db[+]  [PATTERN]      list tablespaces
  \\dc[S+] [PATTERN]      list conversions
  \\dconfig[+] [PATTERN]  list configuration parameters
  \\dC[+]  [PATTERN]      list casts
  \\dd[S]  [PATTERN]      show object descriptions not displayed elsewhere
  \\dD[S+] [PATTERN]      list domains
  \\ddp    [PATTERN]      list default privileges
  \\dE[S+] [PATTERN]      list foreign tables
  \\des[+] [PATTERN]      list foreign servers
  \\det[+] [PATTERN]      list foreign tables
  \\deu[+] [PATTERN]      list user mappings
  \\dew[+] [PATTERN]      list foreign-data wrappers
  \\df[anptw][S+] [FUNCPTRN [TYPEPTRN ...]]
                         list [only agg/normal/procedure/trigger/window] functions
  \\dF[+]  [PATTERN]      list text search configurations
  \\dFd[+] [PATTERN]      list text search dictionaries
  \\dFp[+] [PATTERN]      list text search parsers
  \\dFt[+] [PATTERN]      list text search templates
  \\dg[S+] [PATTERN]      list roles
  \\di[S+] [PATTERN]      list indexes
  \\dl[+]                 list large objects, same as \\lo_list
  \\dL[S+] [PATTERN]      list procedural languages
  \\dm[S+] [PATTERN]      list materialized views
  \\dn[S+] [PATTERN]      list schemas
  \\do[S+] [OPPTRN [TYPEPTRN [TYPEPTRN]]]
                         list operators
  \\dO[S+] [PATTERN]      list collations
  \\dp[S]  [PATTERN]      list table, view, and sequence access privileges
  \\dP[itn+] [PATTERN]    list [only index/table] partitioned relations [n=nested]
  \\drds [ROLEPTRN [DBPTRN]] list per-database role settings
  \\drg[S] [PATTERN]      list role grants
  \\dRp[+] [PATTERN]      list replication publications
  \\dRs[+] [PATTERN]      list replication subscriptions
  \\ds[S+] [PATTERN]      list sequences
  \\dt[S+] [PATTERN]      list tables
  \\dT[S+] [PATTERN]      list data types
  \\du[S+] [PATTERN]      list roles
  \\dv[S+] [PATTERN]      list views
  \\dx[+]  [PATTERN]      list extensions
  \\dX     [PATTERN]      list extended statistics
  \\dy[+]  [PATTERN]      list event triggers
  \\l[+]   [PATTERN]      list databases
  \\lo_list[+]            list large objects
  \\sf[+]  FUNCNAME       show a function's definition
  \\sv[+]  VIEWNAME       show a view's definition
  \\z[S]   [PATTERN]      same as \\dp
`,is=[["ABORT","abort the current transaction","sql-abort",aA],["ALTER AGGREGATE","change the definition of an aggregate function","sql-alteraggregate",oA],["ALTER COLLATION","change the definition of a collation","sql-altercollation",cA],["ALTER CONVERSION","change the definition of a conversion","sql-alterconversion",lA],["ALTER DATABASE","change a database","sql-alterdatabase",uA],["ALTER DEFAULT PRIVILEGES","define default access privileges","sql-alterdefaultprivileges",pA],["ALTER DOMAIN","change the definition of a domain","sql-alterdomain",dA],["ALTER EVENT TRIGGER","change the definition of an event trigger","sql-altereventtrigger",fA],["ALTER EXTENSION","change the definition of an extension","sql-alterextension",EA],["ALTER FOREIGN DATA WRAPPER","change the definition of a foreign-data wrapper","sql-alterforeigndatawrapper",hA],["ALTER FOREIGN TABLE","change the definition of a foreign table","sql-alterforeigntable",gA],["ALTER FUNCTION","change the definition of a function","sql-alterfunction",mA],["ALTER GROUP","change role name or membership","sql-altergroup",_A],["ALTER INDEX","change the definition of an index","sql-alterindex",TA],["ALTER LANGUAGE","change the definition of a procedural language","sql-alterlanguage",SA],["ALTER LARGE OBJECT","change the definition of a large object","sql-alterlargeobject",RA],["ALTER MATERIALIZED VIEW","change the definition of a materialized view","sql-altermaterializedview",AA],["ALTER OPERATOR","change the definition of an operator","sql-alteroperator",yA],["ALTER OPERATOR CLASS","change the definition of an operator class","sql-alteropclass",NA],["ALTER OPERATOR FAMILY","change the definition of an operator family","sql-alteropfamily",vA],["ALTER POLICY","change the definition of a row-level security policy","sql-alterpolicy",IA],["ALTER PROCEDURE","change the definition of a procedure","sql-alterprocedure",OA],["ALTER PUBLICATION","change the definition of a publication","sql-alterpublication",bA],["ALTER ROLE","change a database role","sql-alterrole",LA],["ALTER ROUTINE","change the definition of a routine","sql-alterroutine",CA],["ALTER RULE","change the definition of a rule","sql-alterrule",wA],["ALTER SCHEMA","change the definition of a schema","sql-alterschema",DA],["ALTER SEQUENCE","change the definition of a sequence generator","sql-altersequence",PA],["ALTER SERVER","change the definition of a foreign server","sql-alterserver",UA],["ALTER STATISTICS","change the definition of an extended statistics object","sql-alterstatistics",MA],["ALTER SUBSCRIPTION","change the definition of a subscription","sql-altersubscription",FA],["ALTER SYSTEM","change a server configuration parameter","sql-altersystem",xA],["ALTER TABLE","change the definition of a table","sql-altertable",kA],["ALTER TABLESPACE","change the definition of a tablespace","sql-altertablespace",HA],["ALTER TEXT SEARCH CONFIGURATION","change the definition of a text search configuration","sql-altertsconfig",BA],["ALTER TEXT SEARCH DICTIONARY","change the definition of a text search dictionary","sql-altertsdictionary",WA],["ALTER TEXT SEARCH PARSER","change the definition of a text search parser","sql-altertsparser",GA],["ALTER TEXT SEARCH TEMPLATE","change the definition of a text search template","sql-altertstemplate",qA],["ALTER TRIGGER","change the definition of a trigger","sql-altertrigger",YA],["ALTER TYPE","change the definition of a type","sql-altertype",jA],["ALTER USER","change a database role","sql-alteruser",$A],["ALTER USER MAPPING","change the definition of a user mapping","sql-alterusermapping",VA],["ALTER VIEW","change the definition of a view","sql-alterview",XA],["ANALYZE","collect statistics about a database","sql-analyze",QA],["BEGIN","start a transaction block","sql-begin",KA],["CALL","invoke a procedure","sql-call",zA],["CHECKPOINT","force a write-ahead log checkpoint","sql-checkpoint",JA],["CLOSE","close a cursor","sql-close",ZA],["CLUSTER","cluster a table according to an index","sql-cluster",ey],["COMMENT","define or change the comment of an object","sql-comment",ty],["COMMIT","commit the current transaction","sql-commit",ny],["COMMIT PREPARED","commit a transaction that was earlier prepared for two-phase commit","sql-commit-prepared",ry],["COPY","copy data between a file and a table","sql-copy",sy],["CREATE ACCESS METHOD","define a new access method","sql-create-access-method",iy],["CREATE AGGREGATE","define a new aggregate function","sql-createaggregate",ay],["CREATE CAST","define a new cast","sql-createcast",oy],["CREATE COLLATION","define a new collation","sql-createcollation",cy],["CREATE CONVERSION","define a new encoding conversion","sql-createconversion",ly],["CREATE DATABASE","create a new database","sql-createdatabase",uy],["CREATE DOMAIN","define a new domain","sql-createdomain",py],["CREATE EVENT TRIGGER","define a new event trigger","sql-createeventtrigger",dy],["CREATE EXTENSION","install an extension","sql-createextension",fy],["CREATE FOREIGN DATA WRAPPER","define a new foreign-data wrapper","sql-createforeigndatawrapper",Ey],["CREATE FOREIGN TABLE","define a new foreign table","sql-createforeigntable",hy],["CREATE FUNCTION","define a new function","sql-createfunction",gy],["CREATE GROUP","define a new database role","sql-creategroup",my],["CREATE INDEX","define a new index","sql-createindex",_y],["CREATE LANGUAGE","define a new procedural language","sql-createlanguage",Ty],["CREATE MATERIALIZED VIEW","define a new materialized view","sql-creatematerializedview",Sy],["CREATE OPERATOR","define a new operator","sql-createoperator",Ry],["CREATE OPERATOR CLASS","define a new operator class","sql-createopclass",Ay],["CREATE OPERATOR FAMILY","define a new operator family","sql-createopfamily",yy],["CREATE POLICY","define a new row-level security policy for a table","sql-createpolicy",Ny],["CREATE PROCEDURE","define a new procedure","sql-createprocedure",vy],["CREATE PUBLICATION","define a new publication","sql-createpublication",Iy],["CREATE ROLE","define a new database role","sql-createrole",Oy],["CREATE RULE","define a new rewrite rule","sql-createrule",by],["CREATE SCHEMA","define a new schema","sql-createschema",Ly],["CREATE SEQUENCE","define a new sequence generator","sql-createsequence",Cy],["CREATE SERVER","define a new foreign server","sql-createserver",wy],["CREATE STATISTICS","define extended statistics","sql-createstatistics",Dy],["CREATE SUBSCRIPTION","define a new subscription","sql-createsubscription",Py],["CREATE TABLE","define a new table","sql-createtable",Uy],["CREATE TABLE AS","define a new table from the results of a query","sql-createtableas",My],["CREATE TABLESPACE","define a new tablespace","sql-createtablespace",Fy],["CREATE TEXT SEARCH CONFIGURATION","define a new text search configuration","sql-createtsconfig",xy],["CREATE TEXT SEARCH DICTIONARY","define a new text search dictionary","sql-createtsdictionary",ky],["CREATE TEXT SEARCH PARSER","define a new text search parser","sql-createtsparser",Hy],["CREATE TEXT SEARCH TEMPLATE","define a new text search template","sql-createtstemplate",By],["CREATE TRANSFORM","define a new transform","sql-createtransform",Wy],["CREATE TRIGGER","define a new trigger","sql-createtrigger",Gy],["CREATE TYPE","define a new data type","sql-createtype",qy],["CREATE USER","define a new database role","sql-createuser",Yy],["CREATE USER MAPPING","define a new mapping of a user to a foreign server","sql-createusermapping",jy],["CREATE VIEW","define a new view","sql-createview",$y],["DEALLOCATE","deallocate a prepared statement","sql-deallocate",Vy],["DECLARE","define a cursor","sql-declare",Xy],["DELETE","delete rows of a table","sql-delete",Qy],["DISCARD","discard session state","sql-discard",Ky],["DO","execute an anonymous code block","sql-do",zy],["DROP ACCESS METHOD","remove an access method","sql-drop-access-method",Jy],["DROP AGGREGATE","remove an aggregate function","sql-dropaggregate",Zy],["DROP CAST","remove a cast","sql-dropcast",eN],["DROP COLLATION","remove a collation","sql-dropcollation",tN],["DROP CONVERSION","remove a conversion","sql-dropconversion",nN],["DROP DATABASE","remove a database","sql-dropdatabase",rN],["DROP DOMAIN","remove a domain","sql-dropdomain",sN],["DROP EVENT TRIGGER","remove an event trigger","sql-dropeventtrigger",iN],["DROP EXTENSION","remove an extension","sql-dropextension",aN],["DROP FOREIGN DATA WRAPPER","remove a foreign-data wrapper","sql-dropforeigndatawrapper",oN],["DROP FOREIGN TABLE","remove a foreign table","sql-dropforeigntable",cN],["DROP FUNCTION","remove a function","sql-dropfunction",lN],["DROP GROUP","remove a database role","sql-dropgroup",uN],["DROP INDEX","remove an index","sql-dropindex",pN],["DROP LANGUAGE","remove a procedural language","sql-droplanguage",dN],["DROP MATERIALIZED VIEW","remove a materialized view","sql-dropmaterializedview",fN],["DROP OPERATOR","remove an operator","sql-dropoperator",EN],["DROP OPERATOR CLASS","remove an operator class","sql-dropopclass",hN],["DROP OPERATOR FAMILY","remove an operator family","sql-dropopfamily",gN],["DROP OWNED","remove database objects owned by a database role","sql-drop-owned",mN],["DROP POLICY","remove a row-level security policy from a table","sql-droppolicy",_N],["DROP PROCEDURE","remove a procedure","sql-dropprocedure",TN],["DROP PUBLICATION","remove a publication","sql-droppublication",SN],["DROP ROLE","remove a database role","sql-droprole",RN],["DROP ROUTINE","remove a routine","sql-droproutine",AN],["DROP RULE","remove a rewrite rule","sql-droprule",yN],["DROP SCHEMA","remove a schema","sql-dropschema",NN],["DROP SEQUENCE","remove a sequence","sql-dropsequence",vN],["DROP SERVER","remove a foreign server descriptor","sql-dropserver",IN],["DROP STATISTICS","remove extended statistics","sql-dropstatistics",ON],["DROP SUBSCRIPTION","remove a subscription","sql-dropsubscription",bN],["DROP TABLE","remove a table","sql-droptable",LN],["DROP TABLESPACE","remove a tablespace","sql-droptablespace",CN],["DROP TEXT SEARCH CONFIGURATION","remove a text search configuration","sql-droptsconfig",wN],["DROP TEXT SEARCH DICTIONARY","remove a text search dictionary","sql-droptsdictionary",DN],["DROP TEXT SEARCH PARSER","remove a text search parser","sql-droptsparser",PN],["DROP TEXT SEARCH TEMPLATE","remove a text search template","sql-droptstemplate",UN],["DROP TRANSFORM","remove a transform","sql-droptransform",MN],["DROP TRIGGER","remove a trigger","sql-droptrigger",FN],["DROP TYPE","remove a data type","sql-droptype",xN],["DROP USER","remove a database role","sql-dropuser",kN],["DROP USER MAPPING","remove a user mapping for a foreign server","sql-dropusermapping",HN],["DROP VIEW","remove a view","sql-dropview",BN],["END","commit the current transaction","sql-end",WN],["EXECUTE","execute a prepared statement","sql-execute",GN],["EXPLAIN","show the execution plan of a statement","sql-explain",qN],["FETCH","retrieve rows from a query using a cursor","sql-fetch",YN],["GRANT","define access privileges","sql-grant",jN],["IMPORT FOREIGN SCHEMA","import table definitions from a foreign server","sql-importforeignschema",$N],["INSERT","create new rows in a table","sql-insert",VN],["LISTEN","listen for a notification","sql-listen",XN],["LOAD","load a shared library file","sql-load",QN],["LOCK","lock a table","sql-lock",KN],["MERGE","conditionally insert, update, or delete rows of a table","sql-merge",zN],["MOVE","position a cursor","sql-move",JN],["NOTIFY","generate a notification","sql-notify",ZN],["PREPARE","prepare a statement for execution","sql-prepare",ev],["PREPARE TRANSACTION","prepare the current transaction for two-phase commit","sql-prepare-transaction",tv],["REASSIGN OWNED","change the ownership of database objects owned by a database role","sql-reassign-owned",nv],["REFRESH MATERIALIZED VIEW","replace the contents of a materialized view","sql-refreshmaterializedview",rv],["REINDEX","rebuild indexes","sql-reindex",sv],["RELEASE SAVEPOINT","release a previously defined savepoint","sql-release-savepoint",iv],["RESET","restore the value of a run-time parameter to the default value","sql-reset",av],["REVOKE","remove access privileges","sql-revoke",ov],["ROLLBACK","abort the current transaction","sql-rollback",cv],["ROLLBACK PREPARED","cancel a transaction that was earlier prepared for two-phase commit","sql-rollback-prepared",lv],["ROLLBACK TO SAVEPOINT","roll back to a savepoint","sql-rollback-to",uv],["SAVEPOINT","define a new savepoint within the current transaction","sql-savepoint",pv],["SECURITY LABEL","define or change a security label applied to an object","sql-security-label",dv],["SELECT","retrieve rows from a table or view","sql-select",fv],["SELECT INTO","define a new table from the results of a query","sql-selectinto",Ev],["SET","change a run-time parameter","sql-set",hv],["SET CONSTRAINTS","set constraint check timing for the current transaction","sql-set-constraints",gv],["SET ROLE","set the current user identifier of the current session","sql-set-role",mv],["SET SESSION AUTHORIZATION","set the session user identifier and the current user identifier of the current session","sql-set-session-authorization",_v],["SET TRANSACTION","set the characteristics of the current transaction","sql-set-transaction",Tv],["SHOW","show the value of a run-time parameter","sql-show",Sv],["START TRANSACTION","start a transaction block","sql-start-transaction",Rv],["TABLE","retrieve rows from a table or view","sql-select",Av],["TRUNCATE","empty a table or set of tables","sql-truncate",yv],["UNLISTEN","stop listening for a notification","sql-unlisten",Nv],["UPDATE","update rows of a table","sql-update",vv],["VACUUM","garbage-collect and optionally analyze a database","sql-vacuum",Iv],["VALUES","compute a set of rows","sql-values",Ov],["WITH","retrieve rows from a table or view","sql-select",bv]];function aA(e){b(e,"ABORT [ WORK | TRANSACTION ] [ AND [ NO ] CHAIN ]")}function oA(e){b(e,`ALTER AGGREGATE %s ( %s ) RENAME TO %s
ALTER AGGREGATE %s ( %s )
                OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER AGGREGATE %s ( %s ) SET SCHEMA %s

%s

* |
[ %s ] [ %s ] %s [ , ... ] |
[ [ %s ] [ %s ] %s [ , ... ] ] ORDER BY [ %s ] [ %s ] %s [ , ... ]`,r("name"),r("aggregate_signature"),r("new_name"),r("name"),r("aggregate_signature"),r("new_owner"),r("name"),r("aggregate_signature"),r("new_schema"),r("where aggregate_signature is:"),r("argmode"),r("argname"),r("argtype"),r("argmode"),r("argname"),r("argtype"),r("argmode"),r("argname"),r("argtype"))}function cA(e){b(e,`ALTER COLLATION %s REFRESH VERSION

ALTER COLLATION %s RENAME TO %s
ALTER COLLATION %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER COLLATION %s SET SCHEMA %s`,r("name"),r("name"),r("new_name"),r("name"),r("new_owner"),r("name"),r("new_schema"))}function lA(e){b(e,`ALTER CONVERSION %s RENAME TO %s
ALTER CONVERSION %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER CONVERSION %s SET SCHEMA %s`,r("name"),r("new_name"),r("name"),r("new_owner"),r("name"),r("new_schema"))}function uA(e){b(e,`ALTER DATABASE %s [ [ WITH ] %s [ ... ] ]

%s

    ALLOW_CONNECTIONS %s
    CONNECTION LIMIT %s
    IS_TEMPLATE %s

ALTER DATABASE %s RENAME TO %s

ALTER DATABASE %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }

ALTER DATABASE %s SET TABLESPACE %s

ALTER DATABASE %s REFRESH COLLATION VERSION

ALTER DATABASE %s SET %s { TO | = } { %s | DEFAULT }
ALTER DATABASE %s SET %s FROM CURRENT
ALTER DATABASE %s RESET %s
ALTER DATABASE %s RESET ALL`,r("name"),r("option"),r("where option can be:"),r("allowconn"),r("connlimit"),r("istemplate"),r("name"),r("new_name"),r("name"),r("new_owner"),r("name"),r("new_tablespace"),r("name"),r("name"),r("configuration_parameter"),r("value"),r("name"),r("configuration_parameter"),r("name"),r("configuration_parameter"),r("name"))}function pA(e){b(e,`ALTER DEFAULT PRIVILEGES
    [ FOR { ROLE | USER } %s [, ...] ]
    [ IN SCHEMA %s [, ...] ]
    %s

%s

GRANT { { SELECT | INSERT | UPDATE | DELETE | TRUNCATE | REFERENCES | TRIGGER | MAINTAIN }
    [, ...] | ALL [ PRIVILEGES ] }
    ON TABLES
    TO { [ GROUP ] %s | PUBLIC } [, ...] [ WITH GRANT OPTION ]

GRANT { { USAGE | SELECT | UPDATE }
    [, ...] | ALL [ PRIVILEGES ] }
    ON SEQUENCES
    TO { [ GROUP ] %s | PUBLIC } [, ...] [ WITH GRANT OPTION ]

GRANT { EXECUTE | ALL [ PRIVILEGES ] }
    ON { FUNCTIONS | ROUTINES }
    TO { [ GROUP ] %s | PUBLIC } [, ...] [ WITH GRANT OPTION ]

GRANT { USAGE | ALL [ PRIVILEGES ] }
    ON TYPES
    TO { [ GROUP ] %s | PUBLIC } [, ...] [ WITH GRANT OPTION ]

GRANT { { USAGE | CREATE }
    [, ...] | ALL [ PRIVILEGES ] }
    ON SCHEMAS
    TO { [ GROUP ] %s | PUBLIC } [, ...] [ WITH GRANT OPTION ]

REVOKE [ GRANT OPTION FOR ]
    { { SELECT | INSERT | UPDATE | DELETE | TRUNCATE | REFERENCES | TRIGGER | MAINTAIN }
    [, ...] | ALL [ PRIVILEGES ] }
    ON TABLES
    FROM { [ GROUP ] %s | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { { USAGE | SELECT | UPDATE }
    [, ...] | ALL [ PRIVILEGES ] }
    ON SEQUENCES
    FROM { [ GROUP ] %s | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { EXECUTE | ALL [ PRIVILEGES ] }
    ON { FUNCTIONS | ROUTINES }
    FROM { [ GROUP ] %s | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { USAGE | ALL [ PRIVILEGES ] }
    ON TYPES
    FROM { [ GROUP ] %s | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { { USAGE | CREATE }
    [, ...] | ALL [ PRIVILEGES ] }
    ON SCHEMAS
    FROM { [ GROUP ] %s | PUBLIC } [, ...]
    [ CASCADE | RESTRICT ]`,r("target_role"),r("schema_name"),r("abbreviated_grant_or_revoke"),r("where abbreviated_grant_or_revoke is one of:"),r("role_name"),r("role_name"),r("role_name"),r("role_name"),r("role_name"),r("role_name"),r("role_name"),r("role_name"),r("role_name"),r("role_name"))}function dA(e){b(e,`ALTER DOMAIN %s
    { SET DEFAULT %s | DROP DEFAULT }
ALTER DOMAIN %s
    { SET | DROP } NOT NULL
ALTER DOMAIN %s
    ADD %s [ NOT VALID ]
ALTER DOMAIN %s
    DROP CONSTRAINT [ IF EXISTS ] %s [ RESTRICT | CASCADE ]
ALTER DOMAIN %s
     RENAME CONSTRAINT %s TO %s
ALTER DOMAIN %s
    VALIDATE CONSTRAINT %s
ALTER DOMAIN %s
    OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER DOMAIN %s
    RENAME TO %s
ALTER DOMAIN %s
    SET SCHEMA %s`,r("name"),r("expression"),r("name"),r("name"),r("domain_constraint"),r("name"),r("constraint_name"),r("name"),r("constraint_name"),r("new_constraint_name"),r("name"),r("constraint_name"),r("name"),r("new_owner"),r("name"),r("new_name"),r("name"),r("new_schema"))}function fA(e){b(e,`ALTER EVENT TRIGGER %s DISABLE
ALTER EVENT TRIGGER %s ENABLE [ REPLICA | ALWAYS ]
ALTER EVENT TRIGGER %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER EVENT TRIGGER %s RENAME TO %s`,r("name"),r("name"),r("name"),r("new_owner"),r("name"),r("new_name"))}function EA(e){b(e,`ALTER EXTENSION %s UPDATE [ TO %s ]
ALTER EXTENSION %s SET SCHEMA %s
ALTER EXTENSION %s ADD %s
ALTER EXTENSION %s DROP %s

%s

  ACCESS METHOD %s |
  AGGREGATE %s ( %s ) |
  CAST (%s AS %s) |
  COLLATION %s |
  CONVERSION %s |
  DOMAIN %s |
  EVENT TRIGGER %s |
  FOREIGN DATA WRAPPER %s |
  FOREIGN TABLE %s |
  FUNCTION %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] |
  MATERIALIZED VIEW %s |
  OPERATOR %s (%s, %s) |
  OPERATOR CLASS %s USING %s |
  OPERATOR FAMILY %s USING %s |
  [ PROCEDURAL ] LANGUAGE %s |
  PROCEDURE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] |
  ROUTINE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] |
  SCHEMA %s |
  SEQUENCE %s |
  SERVER %s |
  TABLE %s |
  TEXT SEARCH CONFIGURATION %s |
  TEXT SEARCH DICTIONARY %s |
  TEXT SEARCH PARSER %s |
  TEXT SEARCH TEMPLATE %s |
  TRANSFORM FOR %s LANGUAGE %s |
  TYPE %s |
  VIEW %s

%s

* |
[ %s ] [ %s ] %s [ , ... ] |
[ [ %s ] [ %s ] %s [ , ... ] ] ORDER BY [ %s ] [ %s ] %s [ , ... ]`,r("name"),r("new_version"),r("name"),r("new_schema"),r("name"),r("member_object"),r("name"),r("member_object"),r("where member_object is:"),r("object_name"),r("aggregate_name"),r("aggregate_signature"),r("source_type"),r("target_type"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("function_name"),r("argmode"),r("argname"),r("argtype"),r("object_name"),r("operator_name"),r("left_type"),r("right_type"),r("object_name"),r("index_method"),r("object_name"),r("index_method"),r("object_name"),r("procedure_name"),r("argmode"),r("argname"),r("argtype"),r("routine_name"),r("argmode"),r("argname"),r("argtype"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("type_name"),r("lang_name"),r("object_name"),r("object_name"),r("and aggregate_signature is:"),r("argmode"),r("argname"),r("argtype"),r("argmode"),r("argname"),r("argtype"),r("argmode"),r("argname"),r("argtype"))}function hA(e){b(e,`ALTER FOREIGN DATA WRAPPER %s
    [ HANDLER %s | NO HANDLER ]
    [ VALIDATOR %s | NO VALIDATOR ]
    [ OPTIONS ( [ ADD | SET | DROP ] %s ['%s'] [, ... ]) ]
ALTER FOREIGN DATA WRAPPER %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER FOREIGN DATA WRAPPER %s RENAME TO %s`,r("name"),r("handler_function"),r("validator_function"),r("option"),r("value"),r("name"),r("new_owner"),r("name"),r("new_name"))}function gA(e){b(e,`ALTER FOREIGN TABLE [ IF EXISTS ] [ ONLY ] %s [ * ]
    %s [, ... ]
ALTER FOREIGN TABLE [ IF EXISTS ] [ ONLY ] %s [ * ]
    RENAME [ COLUMN ] %s TO %s
ALTER FOREIGN TABLE [ IF EXISTS ] %s
    RENAME TO %s
ALTER FOREIGN TABLE [ IF EXISTS ] %s
    SET SCHEMA %s

%s

    ADD [ COLUMN ] %s %s [ COLLATE %s ] [ %s [ ... ] ]
    DROP [ COLUMN ] [ IF EXISTS ] %s [ RESTRICT | CASCADE ]
    ALTER [ COLUMN ] %s [ SET DATA ] TYPE %s [ COLLATE %s ]
    ALTER [ COLUMN ] %s SET DEFAULT %s
    ALTER [ COLUMN ] %s DROP DEFAULT
    ALTER [ COLUMN ] %s { SET | DROP } NOT NULL
    ALTER [ COLUMN ] %s SET STATISTICS %s
    ALTER [ COLUMN ] %s SET ( %s = %s [, ... ] )
    ALTER [ COLUMN ] %s RESET ( %s [, ... ] )
    ALTER [ COLUMN ] %s SET STORAGE { PLAIN | EXTERNAL | EXTENDED | MAIN | DEFAULT }
    ALTER [ COLUMN ] %s OPTIONS ( [ ADD | SET | DROP ] %s ['%s'] [, ... ])
    ADD %s [ NOT VALID ]
    VALIDATE CONSTRAINT %s
    DROP CONSTRAINT [ IF EXISTS ]  %s [ RESTRICT | CASCADE ]
    DISABLE TRIGGER [ %s | ALL | USER ]
    ENABLE TRIGGER [ %s | ALL | USER ]
    ENABLE REPLICA TRIGGER %s
    ENABLE ALWAYS TRIGGER %s
    SET WITHOUT OIDS
    INHERIT %s
    NO INHERIT %s
    OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
    OPTIONS ( [ ADD | SET | DROP ] %s ['%s'] [, ... ])`,r("name"),r("action"),r("name"),r("column_name"),r("new_column_name"),r("name"),r("new_name"),r("name"),r("new_schema"),r("where action is one of:"),r("column_name"),r("data_type"),r("collation"),r("column_constraint"),r("column_name"),r("column_name"),r("data_type"),r("collation"),r("column_name"),r("expression"),r("column_name"),r("column_name"),r("column_name"),r("integer"),r("column_name"),r("attribute_option"),r("value"),r("column_name"),r("attribute_option"),r("column_name"),r("column_name"),r("option"),r("value"),r("table_constraint"),r("constraint_name"),r("constraint_name"),r("trigger_name"),r("trigger_name"),r("trigger_name"),r("trigger_name"),r("parent_table"),r("parent_table"),r("new_owner"),r("option"),r("value"))}function mA(e){b(e,`ALTER FUNCTION %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    %s [ ... ] [ RESTRICT ]
ALTER FUNCTION %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    RENAME TO %s
ALTER FUNCTION %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER FUNCTION %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    SET SCHEMA %s
ALTER FUNCTION %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    [ NO ] DEPENDS ON EXTENSION %s

%s

    CALLED ON NULL INPUT | RETURNS NULL ON NULL INPUT | STRICT
    IMMUTABLE | STABLE | VOLATILE
    [ NOT ] LEAKPROOF
    [ EXTERNAL ] SECURITY INVOKER | [ EXTERNAL ] SECURITY DEFINER
    PARALLEL { UNSAFE | RESTRICTED | SAFE }
    COST %s
    ROWS %s
    SUPPORT %s
    SET %s { TO | = } { %s | DEFAULT }
    SET %s FROM CURRENT
    RESET %s
    RESET ALL`,r("name"),r("argmode"),r("argname"),r("argtype"),r("action"),r("name"),r("argmode"),r("argname"),r("argtype"),r("new_name"),r("name"),r("argmode"),r("argname"),r("argtype"),r("new_owner"),r("name"),r("argmode"),r("argname"),r("argtype"),r("new_schema"),r("name"),r("argmode"),r("argname"),r("argtype"),r("extension_name"),r("where action is one of:"),r("execution_cost"),r("result_rows"),r("support_function"),r("configuration_parameter"),r("value"),r("configuration_parameter"),r("configuration_parameter"))}function _A(e){b(e,`ALTER GROUP %s ADD USER %s [, ... ]
ALTER GROUP %s DROP USER %s [, ... ]

%s

    %s
  | CURRENT_ROLE
  | CURRENT_USER
  | SESSION_USER

ALTER GROUP %s RENAME TO %s`,r("role_specification"),r("user_name"),r("role_specification"),r("user_name"),r("where role_specification can be:"),r("role_name"),r("group_name"),r("new_name"))}function TA(e){b(e,`ALTER INDEX [ IF EXISTS ] %s RENAME TO %s
ALTER INDEX [ IF EXISTS ] %s SET TABLESPACE %s
ALTER INDEX %s ATTACH PARTITION %s
ALTER INDEX %s [ NO ] DEPENDS ON EXTENSION %s
ALTER INDEX [ IF EXISTS ] %s SET ( %s [= %s] [, ... ] )
ALTER INDEX [ IF EXISTS ] %s RESET ( %s [, ... ] )
ALTER INDEX [ IF EXISTS ] %s ALTER [ COLUMN ] %s
    SET STATISTICS %s
ALTER INDEX ALL IN TABLESPACE %s [ OWNED BY %s [, ... ] ]
    SET TABLESPACE %s [ NOWAIT ]`,r("name"),r("new_name"),r("name"),r("tablespace_name"),r("name"),r("index_name"),r("name"),r("extension_name"),r("name"),r("storage_parameter"),r("value"),r("name"),r("storage_parameter"),r("name"),r("column_number"),r("integer"),r("name"),r("role_name"),r("new_tablespace"))}function SA(e){b(e,`ALTER [ PROCEDURAL ] LANGUAGE %s RENAME TO %s
ALTER [ PROCEDURAL ] LANGUAGE %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }`,r("name"),r("new_name"),r("name"),r("new_owner"))}function RA(e){b(e,"ALTER LARGE OBJECT %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }",r("large_object_oid"),r("new_owner"))}function AA(e){b(e,`ALTER MATERIALIZED VIEW [ IF EXISTS ] %s
    %s [, ... ]
ALTER MATERIALIZED VIEW %s
    [ NO ] DEPENDS ON EXTENSION %s
ALTER MATERIALIZED VIEW [ IF EXISTS ] %s
    RENAME [ COLUMN ] %s TO %s
ALTER MATERIALIZED VIEW [ IF EXISTS ] %s
    RENAME TO %s
ALTER MATERIALIZED VIEW [ IF EXISTS ] %s
    SET SCHEMA %s
ALTER MATERIALIZED VIEW ALL IN TABLESPACE %s [ OWNED BY %s [, ... ] ]
    SET TABLESPACE %s [ NOWAIT ]

%s

    ALTER [ COLUMN ] %s SET STATISTICS %s
    ALTER [ COLUMN ] %s SET ( %s = %s [, ... ] )
    ALTER [ COLUMN ] %s RESET ( %s [, ... ] )
    ALTER [ COLUMN ] %s SET STORAGE { PLAIN | EXTERNAL | EXTENDED | MAIN | DEFAULT }
    ALTER [ COLUMN ] %s SET COMPRESSION %s
    CLUSTER ON %s
    SET WITHOUT CLUSTER
    SET ACCESS METHOD %s
    SET TABLESPACE %s
    SET ( %s [= %s] [, ... ] )
    RESET ( %s [, ... ] )
    OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }`,r("name"),r("action"),r("name"),r("extension_name"),r("name"),r("column_name"),r("new_column_name"),r("name"),r("new_name"),r("name"),r("new_schema"),r("name"),r("role_name"),r("new_tablespace"),r("where action is one of:"),r("column_name"),r("integer"),r("column_name"),r("attribute_option"),r("value"),r("column_name"),r("attribute_option"),r("column_name"),r("column_name"),r("compression_method"),r("index_name"),r("new_access_method"),r("new_tablespace"),r("storage_parameter"),r("value"),r("storage_parameter"),r("new_owner"))}function yA(e){b(e,`ALTER OPERATOR %s ( { %s | NONE } , %s )
    OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }

ALTER OPERATOR %s ( { %s | NONE } , %s )
    SET SCHEMA %s

ALTER OPERATOR %s ( { %s | NONE } , %s )
    SET ( {  RESTRICT = { %s | NONE }
           | JOIN = { %s | NONE }
           | COMMUTATOR = %s
           | NEGATOR = %s
           | HASHES
           | MERGES
          } [, ... ] )`,r("name"),r("left_type"),r("right_type"),r("new_owner"),r("name"),r("left_type"),r("right_type"),r("new_schema"),r("name"),r("left_type"),r("right_type"),r("res_proc"),r("join_proc"),r("com_op"),r("neg_op"))}function NA(e){b(e,`ALTER OPERATOR CLASS %s USING %s
    RENAME TO %s

ALTER OPERATOR CLASS %s USING %s
    OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }

ALTER OPERATOR CLASS %s USING %s
    SET SCHEMA %s`,r("name"),r("index_method"),r("new_name"),r("name"),r("index_method"),r("new_owner"),r("name"),r("index_method"),r("new_schema"))}function vA(e){b(e,`ALTER OPERATOR FAMILY %s USING %s ADD
  {  OPERATOR %s %s ( %s, %s )
              [ FOR SEARCH | FOR ORDER BY %s ]
   | FUNCTION %s [ ( %s [ , %s ] ) ]
              %s [ ( %s [, ...] ) ]
  } [, ... ]

ALTER OPERATOR FAMILY %s USING %s DROP
  {  OPERATOR %s ( %s [ , %s ] )
   | FUNCTION %s ( %s [ , %s ] )
  } [, ... ]

ALTER OPERATOR FAMILY %s USING %s
    RENAME TO %s

ALTER OPERATOR FAMILY %s USING %s
    OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }

ALTER OPERATOR FAMILY %s USING %s
    SET SCHEMA %s`,r("name"),r("index_method"),r("strategy_number"),r("operator_name"),r("op_type"),r("op_type"),r("sort_family_name"),r("support_number"),r("op_type"),r("op_type"),r("function_name"),r("argument_type"),r("name"),r("index_method"),r("strategy_number"),r("op_type"),r("op_type"),r("support_number"),r("op_type"),r("op_type"),r("name"),r("index_method"),r("new_name"),r("name"),r("index_method"),r("new_owner"),r("name"),r("index_method"),r("new_schema"))}function IA(e){b(e,`ALTER POLICY %s ON %s RENAME TO %s

ALTER POLICY %s ON %s
    [ TO { %s | PUBLIC | CURRENT_ROLE | CURRENT_USER | SESSION_USER } [, ...] ]
    [ USING ( %s ) ]
    [ WITH CHECK ( %s ) ]`,r("name"),r("table_name"),r("new_name"),r("name"),r("table_name"),r("role_name"),r("using_expression"),r("check_expression"))}function OA(e){b(e,`ALTER PROCEDURE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    %s [ ... ] [ RESTRICT ]
ALTER PROCEDURE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    RENAME TO %s
ALTER PROCEDURE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER PROCEDURE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    SET SCHEMA %s
ALTER PROCEDURE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    [ NO ] DEPENDS ON EXTENSION %s

%s

    [ EXTERNAL ] SECURITY INVOKER | [ EXTERNAL ] SECURITY DEFINER
    SET %s { TO | = } { %s | DEFAULT }
    SET %s FROM CURRENT
    RESET %s
    RESET ALL`,r("name"),r("argmode"),r("argname"),r("argtype"),r("action"),r("name"),r("argmode"),r("argname"),r("argtype"),r("new_name"),r("name"),r("argmode"),r("argname"),r("argtype"),r("new_owner"),r("name"),r("argmode"),r("argname"),r("argtype"),r("new_schema"),r("name"),r("argmode"),r("argname"),r("argtype"),r("extension_name"),r("where action is one of:"),r("configuration_parameter"),r("value"),r("configuration_parameter"),r("configuration_parameter"))}function bA(e){b(e,`ALTER PUBLICATION %s ADD %s [, ...]
ALTER PUBLICATION %s SET %s [, ...]
ALTER PUBLICATION %s DROP %s [, ...]
ALTER PUBLICATION %s SET ( %s [= %s] [, ... ] )
ALTER PUBLICATION %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER PUBLICATION %s RENAME TO %s

%s

    TABLE [ ONLY ] %s [ * ] [ ( %s [, ... ] ) ] [ WHERE ( %s ) ] [, ... ]
    TABLES IN SCHEMA { %s | CURRENT_SCHEMA } [, ... ]`,r("name"),r("publication_object"),r("name"),r("publication_object"),r("name"),r("publication_object"),r("name"),r("publication_parameter"),r("value"),r("name"),r("new_owner"),r("name"),r("new_name"),r("where publication_object is one of:"),r("table_name"),r("column_name"),r("expression"),r("schema_name"))}function LA(e){b(e,`ALTER ROLE %s [ WITH ] %s [ ... ]

%s

      SUPERUSER | NOSUPERUSER
    | CREATEDB | NOCREATEDB
    | CREATEROLE | NOCREATEROLE
    | INHERIT | NOINHERIT
    | LOGIN | NOLOGIN
    | REPLICATION | NOREPLICATION
    | BYPASSRLS | NOBYPASSRLS
    | CONNECTION LIMIT %s
    | [ ENCRYPTED ] PASSWORD '%s' | PASSWORD NULL
    | VALID UNTIL '%s'

ALTER ROLE %s RENAME TO %s

ALTER ROLE { %s | ALL } [ IN DATABASE %s ] SET %s { TO | = } { %s | DEFAULT }
ALTER ROLE { %s | ALL } [ IN DATABASE %s ] SET %s FROM CURRENT
ALTER ROLE { %s | ALL } [ IN DATABASE %s ] RESET %s
ALTER ROLE { %s | ALL } [ IN DATABASE %s ] RESET ALL

%s

    %s
  | CURRENT_ROLE
  | CURRENT_USER
  | SESSION_USER`,r("role_specification"),r("option"),r("where option can be:"),r("connlimit"),r("password"),r("timestamp"),r("name"),r("new_name"),r("role_specification"),r("database_name"),r("configuration_parameter"),r("value"),r("role_specification"),r("database_name"),r("configuration_parameter"),r("role_specification"),r("database_name"),r("configuration_parameter"),r("role_specification"),r("database_name"),r("where role_specification can be:"),r("role_name"))}function CA(e){b(e,`ALTER ROUTINE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    %s [ ... ] [ RESTRICT ]
ALTER ROUTINE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    RENAME TO %s
ALTER ROUTINE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER ROUTINE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    SET SCHEMA %s
ALTER ROUTINE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ]
    [ NO ] DEPENDS ON EXTENSION %s

%s

    IMMUTABLE | STABLE | VOLATILE
    [ NOT ] LEAKPROOF
    [ EXTERNAL ] SECURITY INVOKER | [ EXTERNAL ] SECURITY DEFINER
    PARALLEL { UNSAFE | RESTRICTED | SAFE }
    COST %s
    ROWS %s
    SET %s { TO | = } { %s | DEFAULT }
    SET %s FROM CURRENT
    RESET %s
    RESET ALL`,r("name"),r("argmode"),r("argname"),r("argtype"),r("action"),r("name"),r("argmode"),r("argname"),r("argtype"),r("new_name"),r("name"),r("argmode"),r("argname"),r("argtype"),r("new_owner"),r("name"),r("argmode"),r("argname"),r("argtype"),r("new_schema"),r("name"),r("argmode"),r("argname"),r("argtype"),r("extension_name"),r("where action is one of:"),r("execution_cost"),r("result_rows"),r("configuration_parameter"),r("value"),r("configuration_parameter"),r("configuration_parameter"))}function wA(e){b(e,"ALTER RULE %s ON %s RENAME TO %s",r("name"),r("table_name"),r("new_name"))}function DA(e){b(e,`ALTER SCHEMA %s RENAME TO %s
ALTER SCHEMA %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }`,r("name"),r("new_name"),r("name"),r("new_owner"))}function PA(e){b(e,`ALTER SEQUENCE [ IF EXISTS ] %s
    [ AS %s ]
    [ INCREMENT [ BY ] %s ]
    [ MINVALUE %s | NO MINVALUE ] [ MAXVALUE %s | NO MAXVALUE ]
    [ START [ WITH ] %s ]
    [ RESTART [ [ WITH ] %s ] ]
    [ CACHE %s ] [ [ NO ] CYCLE ]
    [ OWNED BY { %s.%s | NONE } ]
ALTER SEQUENCE [ IF EXISTS ] %s SET { LOGGED | UNLOGGED }
ALTER SEQUENCE [ IF EXISTS ] %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER SEQUENCE [ IF EXISTS ] %s RENAME TO %s
ALTER SEQUENCE [ IF EXISTS ] %s SET SCHEMA %s`,r("name"),r("data_type"),r("increment"),r("minvalue"),r("maxvalue"),r("start"),r("restart"),r("cache"),r("table_name"),r("column_name"),r("name"),r("name"),r("new_owner"),r("name"),r("new_name"),r("name"),r("new_schema"))}function UA(e){b(e,`ALTER SERVER %s [ VERSION '%s' ]
    [ OPTIONS ( [ ADD | SET | DROP ] %s ['%s'] [, ... ] ) ]
ALTER SERVER %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER SERVER %s RENAME TO %s`,r("name"),r("new_version"),r("option"),r("value"),r("name"),r("new_owner"),r("name"),r("new_name"))}function MA(e){b(e,`ALTER STATISTICS %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER STATISTICS %s RENAME TO %s
ALTER STATISTICS %s SET SCHEMA %s
ALTER STATISTICS %s SET STATISTICS { %s | DEFAULT }`,r("name"),r("new_owner"),r("name"),r("new_name"),r("name"),r("new_schema"),r("name"),r("new_target"))}function FA(e){b(e,`ALTER SUBSCRIPTION %s CONNECTION '%s'
ALTER SUBSCRIPTION %s SET PUBLICATION %s [, ...] [ WITH ( %s [= %s] [, ... ] ) ]
ALTER SUBSCRIPTION %s ADD PUBLICATION %s [, ...] [ WITH ( %s [= %s] [, ... ] ) ]
ALTER SUBSCRIPTION %s DROP PUBLICATION %s [, ...] [ WITH ( %s [= %s] [, ... ] ) ]
ALTER SUBSCRIPTION %s REFRESH PUBLICATION [ WITH ( %s [= %s] [, ... ] ) ]
ALTER SUBSCRIPTION %s ENABLE
ALTER SUBSCRIPTION %s DISABLE
ALTER SUBSCRIPTION %s SET ( %s [= %s] [, ... ] )
ALTER SUBSCRIPTION %s SKIP ( %s = %s )
ALTER SUBSCRIPTION %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER SUBSCRIPTION %s RENAME TO %s`,r("name"),r("conninfo"),r("name"),r("publication_name"),r("publication_option"),r("value"),r("name"),r("publication_name"),r("publication_option"),r("value"),r("name"),r("publication_name"),r("publication_option"),r("value"),r("name"),r("refresh_option"),r("value"),r("name"),r("name"),r("name"),r("subscription_parameter"),r("value"),r("name"),r("skip_option"),r("value"),r("name"),r("new_owner"),r("name"),r("new_name"))}function xA(e){b(e,`ALTER SYSTEM SET %s { TO | = } { %s | '%s' | DEFAULT }

ALTER SYSTEM RESET %s
ALTER SYSTEM RESET ALL`,r("configuration_parameter"),r("value"),r("value"),r("configuration_parameter"))}function kA(e){b(e,`ALTER TABLE [ IF EXISTS ] [ ONLY ] %s [ * ]
    %s [, ... ]
ALTER TABLE [ IF EXISTS ] [ ONLY ] %s [ * ]
    RENAME [ COLUMN ] %s TO %s
ALTER TABLE [ IF EXISTS ] [ ONLY ] %s [ * ]
    RENAME CONSTRAINT %s TO %s
ALTER TABLE [ IF EXISTS ] %s
    RENAME TO %s
ALTER TABLE [ IF EXISTS ] %s
    SET SCHEMA %s
ALTER TABLE ALL IN TABLESPACE %s [ OWNED BY %s [, ... ] ]
    SET TABLESPACE %s [ NOWAIT ]
ALTER TABLE [ IF EXISTS ] %s
    ATTACH PARTITION %s { FOR VALUES %s | DEFAULT }
ALTER TABLE [ IF EXISTS ] %s
    DETACH PARTITION %s [ CONCURRENTLY | FINALIZE ]

%s

    ADD [ COLUMN ] [ IF NOT EXISTS ] %s %s [ COLLATE %s ] [ %s [ ... ] ]
    DROP [ COLUMN ] [ IF EXISTS ] %s [ RESTRICT | CASCADE ]
    ALTER [ COLUMN ] %s [ SET DATA ] TYPE %s [ COLLATE %s ] [ USING %s ]
    ALTER [ COLUMN ] %s SET DEFAULT %s
    ALTER [ COLUMN ] %s DROP DEFAULT
    ALTER [ COLUMN ] %s { SET | DROP } NOT NULL
    ALTER [ COLUMN ] %s SET EXPRESSION AS ( %s )
    ALTER [ COLUMN ] %s DROP EXPRESSION [ IF EXISTS ]
    ALTER [ COLUMN ] %s ADD GENERATED { ALWAYS | BY DEFAULT } AS IDENTITY [ ( %s ) ]
    ALTER [ COLUMN ] %s { SET GENERATED { ALWAYS | BY DEFAULT } | SET %s | RESTART [ [ WITH ] %s ] } [...]
    ALTER [ COLUMN ] %s DROP IDENTITY [ IF EXISTS ]
    ALTER [ COLUMN ] %s SET STATISTICS { %s | DEFAULT }
    ALTER [ COLUMN ] %s SET ( %s = %s [, ... ] )
    ALTER [ COLUMN ] %s RESET ( %s [, ... ] )
    ALTER [ COLUMN ] %s SET STORAGE { PLAIN | EXTERNAL | EXTENDED | MAIN | DEFAULT }
    ALTER [ COLUMN ] %s SET COMPRESSION %s
    ADD %s [ NOT VALID ]
    ADD %s
    ALTER CONSTRAINT %s [ DEFERRABLE | NOT DEFERRABLE ] [ INITIALLY DEFERRED | INITIALLY IMMEDIATE ]
    VALIDATE CONSTRAINT %s
    DROP CONSTRAINT [ IF EXISTS ]  %s [ RESTRICT | CASCADE ]
    DISABLE TRIGGER [ %s | ALL | USER ]
    ENABLE TRIGGER [ %s | ALL | USER ]
    ENABLE REPLICA TRIGGER %s
    ENABLE ALWAYS TRIGGER %s
    DISABLE RULE %s
    ENABLE RULE %s
    ENABLE REPLICA RULE %s
    ENABLE ALWAYS RULE %s
    DISABLE ROW LEVEL SECURITY
    ENABLE ROW LEVEL SECURITY
    FORCE ROW LEVEL SECURITY
    NO FORCE ROW LEVEL SECURITY
    CLUSTER ON %s
    SET WITHOUT CLUSTER
    SET WITHOUT OIDS
    SET ACCESS METHOD { %s | DEFAULT }
    SET TABLESPACE %s
    SET { LOGGED | UNLOGGED }
    SET ( %s [= %s] [, ... ] )
    RESET ( %s [, ... ] )
    INHERIT %s
    NO INHERIT %s
    OF %s
    NOT OF
    OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
    REPLICA IDENTITY { DEFAULT | USING INDEX %s | FULL | NOTHING }

%s

IN ( %s [, ...] ) |
FROM ( { %s | MINVALUE | MAXVALUE } [, ...] )
  TO ( { %s | MINVALUE | MAXVALUE } [, ...] ) |
WITH ( MODULUS %s, REMAINDER %s )

%s

[ CONSTRAINT %s ]
{ NOT NULL |
  NULL |
  CHECK ( %s ) [ NO INHERIT ] |
  DEFAULT %s |
  GENERATED ALWAYS AS ( %s ) STORED |
  GENERATED { ALWAYS | BY DEFAULT } AS IDENTITY [ ( %s ) ] |
  UNIQUE [ NULLS [ NOT ] DISTINCT ] %s |
  PRIMARY KEY %s |
  REFERENCES %s [ ( %s ) ] [ MATCH FULL | MATCH PARTIAL | MATCH SIMPLE ]
    [ ON DELETE %s ] [ ON UPDATE %s ] }
[ DEFERRABLE | NOT DEFERRABLE ] [ INITIALLY DEFERRED | INITIALLY IMMEDIATE ]

%s

[ CONSTRAINT %s ]
{ CHECK ( %s ) [ NO INHERIT ] |
  UNIQUE [ NULLS [ NOT ] DISTINCT ] ( %s [, ... ] ) %s |
  PRIMARY KEY ( %s [, ... ] ) %s |
  EXCLUDE [ USING %s ] ( %s WITH %s [, ... ] ) %s [ WHERE ( %s ) ] |
  FOREIGN KEY ( %s [, ... ] ) REFERENCES %s [ ( %s [, ... ] ) ]
    [ MATCH FULL | MATCH PARTIAL | MATCH SIMPLE ] [ ON DELETE %s ] [ ON UPDATE %s ] }
[ DEFERRABLE | NOT DEFERRABLE ] [ INITIALLY DEFERRED | INITIALLY IMMEDIATE ]

%s

    [ CONSTRAINT %s ]
    { UNIQUE | PRIMARY KEY } USING INDEX %s
    [ DEFERRABLE | NOT DEFERRABLE ] [ INITIALLY DEFERRED | INITIALLY IMMEDIATE ]

%s

[ INCLUDE ( %s [, ... ] ) ]
[ WITH ( %s [= %s] [, ... ] ) ]
[ USING INDEX TABLESPACE %s ]

%s

{ %s | ( %s ) } [ COLLATE %s ] [ %s [ ( %s = %s [, ... ] ) ] ] [ ASC | DESC ] [ NULLS { FIRST | LAST } ]

%s

{ NO ACTION | RESTRICT | CASCADE | SET NULL [ ( %s [, ... ] ) ] | SET DEFAULT [ ( %s [, ... ] ) ] }`,r("name"),r("action"),r("name"),r("column_name"),r("new_column_name"),r("name"),r("constraint_name"),r("new_constraint_name"),r("name"),r("new_name"),r("name"),r("new_schema"),r("name"),r("role_name"),r("new_tablespace"),r("name"),r("partition_name"),r("partition_bound_spec"),r("name"),r("partition_name"),r("where action is one of:"),r("column_name"),r("data_type"),r("collation"),r("column_constraint"),r("column_name"),r("column_name"),r("data_type"),r("collation"),r("expression"),r("column_name"),r("expression"),r("column_name"),r("column_name"),r("column_name"),r("expression"),r("column_name"),r("column_name"),r("sequence_options"),r("column_name"),r("sequence_option"),r("restart"),r("column_name"),r("column_name"),r("integer"),r("column_name"),r("attribute_option"),r("value"),r("column_name"),r("attribute_option"),r("column_name"),r("column_name"),r("compression_method"),r("table_constraint"),r("table_constraint_using_index"),r("constraint_name"),r("constraint_name"),r("constraint_name"),r("trigger_name"),r("trigger_name"),r("trigger_name"),r("trigger_name"),r("rewrite_rule_name"),r("rewrite_rule_name"),r("rewrite_rule_name"),r("rewrite_rule_name"),r("index_name"),r("new_access_method"),r("new_tablespace"),r("storage_parameter"),r("value"),r("storage_parameter"),r("parent_table"),r("parent_table"),r("type_name"),r("new_owner"),r("index_name"),r("and partition_bound_spec is:"),r("partition_bound_expr"),r("partition_bound_expr"),r("partition_bound_expr"),r("numeric_literal"),r("numeric_literal"),r("and column_constraint is:"),r("constraint_name"),r("expression"),r("default_expr"),r("generation_expr"),r("sequence_options"),r("index_parameters"),r("index_parameters"),r("reftable"),r("refcolumn"),r("referential_action"),r("referential_action"),r("and table_constraint is:"),r("constraint_name"),r("expression"),r("column_name"),r("index_parameters"),r("column_name"),r("index_parameters"),r("index_method"),r("exclude_element"),r("operator"),r("index_parameters"),r("predicate"),r("column_name"),r("reftable"),r("refcolumn"),r("referential_action"),r("referential_action"),r("and table_constraint_using_index is:"),r("constraint_name"),r("index_name"),r("index_parameters in UNIQUE, PRIMARY KEY, and EXCLUDE constraints are:"),r("column_name"),r("storage_parameter"),r("value"),r("tablespace_name"),r("exclude_element in an EXCLUDE constraint is:"),r("column_name"),r("expression"),r("collation"),r("opclass"),r("opclass_parameter"),r("value"),r("referential_action in a FOREIGN KEY/REFERENCES constraint is:"),r("column_name"),r("column_name"))}function HA(e){b(e,`ALTER TABLESPACE %s RENAME TO %s
ALTER TABLESPACE %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER TABLESPACE %s SET ( %s = %s [, ... ] )
ALTER TABLESPACE %s RESET ( %s [, ... ] )`,r("name"),r("new_name"),r("name"),r("new_owner"),r("name"),r("tablespace_option"),r("value"),r("name"),r("tablespace_option"))}function BA(e){b(e,`ALTER TEXT SEARCH CONFIGURATION %s
    ADD MAPPING FOR %s [, ... ] WITH %s [, ... ]
ALTER TEXT SEARCH CONFIGURATION %s
    ALTER MAPPING FOR %s [, ... ] WITH %s [, ... ]
ALTER TEXT SEARCH CONFIGURATION %s
    ALTER MAPPING REPLACE %s WITH %s
ALTER TEXT SEARCH CONFIGURATION %s
    ALTER MAPPING FOR %s [, ... ] REPLACE %s WITH %s
ALTER TEXT SEARCH CONFIGURATION %s
    DROP MAPPING [ IF EXISTS ] FOR %s [, ... ]
ALTER TEXT SEARCH CONFIGURATION %s RENAME TO %s
ALTER TEXT SEARCH CONFIGURATION %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER TEXT SEARCH CONFIGURATION %s SET SCHEMA %s`,r("name"),r("token_type"),r("dictionary_name"),r("name"),r("token_type"),r("dictionary_name"),r("name"),r("old_dictionary"),r("new_dictionary"),r("name"),r("token_type"),r("old_dictionary"),r("new_dictionary"),r("name"),r("token_type"),r("name"),r("new_name"),r("name"),r("new_owner"),r("name"),r("new_schema"))}function WA(e){b(e,`ALTER TEXT SEARCH DICTIONARY %s (
    %s [ = %s ] [, ... ]
)
ALTER TEXT SEARCH DICTIONARY %s RENAME TO %s
ALTER TEXT SEARCH DICTIONARY %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER TEXT SEARCH DICTIONARY %s SET SCHEMA %s`,r("name"),r("option"),r("value"),r("name"),r("new_name"),r("name"),r("new_owner"),r("name"),r("new_schema"))}function GA(e){b(e,`ALTER TEXT SEARCH PARSER %s RENAME TO %s
ALTER TEXT SEARCH PARSER %s SET SCHEMA %s`,r("name"),r("new_name"),r("name"),r("new_schema"))}function qA(e){b(e,`ALTER TEXT SEARCH TEMPLATE %s RENAME TO %s
ALTER TEXT SEARCH TEMPLATE %s SET SCHEMA %s`,r("name"),r("new_name"),r("name"),r("new_schema"))}function YA(e){b(e,`ALTER TRIGGER %s ON %s RENAME TO %s
ALTER TRIGGER %s ON %s [ NO ] DEPENDS ON EXTENSION %s`,r("name"),r("table_name"),r("new_name"),r("name"),r("table_name"),r("extension_name"))}function jA(e){b(e,`ALTER TYPE %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER TYPE %s RENAME TO %s
ALTER TYPE %s SET SCHEMA %s
ALTER TYPE %s RENAME ATTRIBUTE %s TO %s [ CASCADE | RESTRICT ]
ALTER TYPE %s %s [, ... ]
ALTER TYPE %s ADD VALUE [ IF NOT EXISTS ] %s [ { BEFORE | AFTER } %s ]
ALTER TYPE %s RENAME VALUE %s TO %s
ALTER TYPE %s SET ( %s = %s [, ... ] )

%s

    ADD ATTRIBUTE %s %s [ COLLATE %s ] [ CASCADE | RESTRICT ]
    DROP ATTRIBUTE [ IF EXISTS ] %s [ CASCADE | RESTRICT ]
    ALTER ATTRIBUTE %s [ SET DATA ] TYPE %s [ COLLATE %s ] [ CASCADE | RESTRICT ]`,r("name"),r("new_owner"),r("name"),r("new_name"),r("name"),r("new_schema"),r("name"),r("attribute_name"),r("new_attribute_name"),r("name"),r("action"),r("name"),r("new_enum_value"),r("neighbor_enum_value"),r("name"),r("existing_enum_value"),r("new_enum_value"),r("name"),r("property"),r("value"),r("where action is one of:"),r("attribute_name"),r("data_type"),r("collation"),r("attribute_name"),r("attribute_name"),r("data_type"),r("collation"))}function $A(e){b(e,`ALTER USER %s [ WITH ] %s [ ... ]

%s

      SUPERUSER | NOSUPERUSER
    | CREATEDB | NOCREATEDB
    | CREATEROLE | NOCREATEROLE
    | INHERIT | NOINHERIT
    | LOGIN | NOLOGIN
    | REPLICATION | NOREPLICATION
    | BYPASSRLS | NOBYPASSRLS
    | CONNECTION LIMIT %s
    | [ ENCRYPTED ] PASSWORD '%s' | PASSWORD NULL
    | VALID UNTIL '%s'

ALTER USER %s RENAME TO %s

ALTER USER { %s | ALL } [ IN DATABASE %s ] SET %s { TO | = } { %s | DEFAULT }
ALTER USER { %s | ALL } [ IN DATABASE %s ] SET %s FROM CURRENT
ALTER USER { %s | ALL } [ IN DATABASE %s ] RESET %s
ALTER USER { %s | ALL } [ IN DATABASE %s ] RESET ALL

%s

    %s
  | CURRENT_ROLE
  | CURRENT_USER
  | SESSION_USER`,r("role_specification"),r("option"),r("where option can be:"),r("connlimit"),r("password"),r("timestamp"),r("name"),r("new_name"),r("role_specification"),r("database_name"),r("configuration_parameter"),r("value"),r("role_specification"),r("database_name"),r("configuration_parameter"),r("role_specification"),r("database_name"),r("configuration_parameter"),r("role_specification"),r("database_name"),r("where role_specification can be:"),r("role_name"))}function VA(e){b(e,`ALTER USER MAPPING FOR { %s | USER | CURRENT_ROLE | CURRENT_USER | SESSION_USER | PUBLIC }
    SERVER %s
    OPTIONS ( [ ADD | SET | DROP ] %s ['%s'] [, ... ] )`,r("user_name"),r("server_name"),r("option"),r("value"))}function XA(e){b(e,`ALTER VIEW [ IF EXISTS ] %s ALTER [ COLUMN ] %s SET DEFAULT %s
ALTER VIEW [ IF EXISTS ] %s ALTER [ COLUMN ] %s DROP DEFAULT
ALTER VIEW [ IF EXISTS ] %s OWNER TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }
ALTER VIEW [ IF EXISTS ] %s RENAME [ COLUMN ] %s TO %s
ALTER VIEW [ IF EXISTS ] %s RENAME TO %s
ALTER VIEW [ IF EXISTS ] %s SET SCHEMA %s
ALTER VIEW [ IF EXISTS ] %s SET ( %s [= %s] [, ... ] )
ALTER VIEW [ IF EXISTS ] %s RESET ( %s [, ... ] )`,r("name"),r("column_name"),r("expression"),r("name"),r("column_name"),r("name"),r("new_owner"),r("name"),r("column_name"),r("new_column_name"),r("name"),r("new_name"),r("name"),r("new_schema"),r("name"),r("view_option_name"),r("view_option_value"),r("name"),r("view_option_name"))}function QA(e){b(e,`ANALYZE [ ( %s [, ...] ) ] [ %s [, ...] ]

%s

    VERBOSE [ %s ]
    SKIP_LOCKED [ %s ]
    BUFFER_USAGE_LIMIT %s

%s

    %s [ ( %s [, ...] ) ]`,r("option"),r("table_and_columns"),r("where option can be one of:"),r("boolean"),r("boolean"),r("size"),r("and table_and_columns is:"),r("table_name"),r("column_name"))}function KA(e){b(e,`BEGIN [ WORK | TRANSACTION ] [ %s [, ...] ]

%s

    ISOLATION LEVEL { SERIALIZABLE | REPEATABLE READ | READ COMMITTED | READ UNCOMMITTED }
    READ WRITE | READ ONLY
    [ NOT ] DEFERRABLE`,r("transaction_mode"),r("where transaction_mode is one of:"))}function zA(e){b(e,"CALL %s ( [ %s ] [, ...] )",r("name"),r("argument"))}function JA(e){b(e,"CHECKPOINT")}function ZA(e){b(e,"CLOSE { %s | ALL }",r("name"))}function ey(e){b(e,`CLUSTER [ ( %s [, ...] ) ] [ %s [ USING %s ] ]

%s

    VERBOSE [ %s ]`,r("option"),r("table_name"),r("index_name"),r("where option can be one of:"),r("boolean"))}function ty(e){b(e,`COMMENT ON
{
  ACCESS METHOD %s |
  AGGREGATE %s ( %s ) |
  CAST (%s AS %s) |
  COLLATION %s |
  COLUMN %s.%s |
  CONSTRAINT %s ON %s |
  CONSTRAINT %s ON DOMAIN %s |
  CONVERSION %s |
  DATABASE %s |
  DOMAIN %s |
  EXTENSION %s |
  EVENT TRIGGER %s |
  FOREIGN DATA WRAPPER %s |
  FOREIGN TABLE %s |
  FUNCTION %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] |
  INDEX %s |
  LARGE OBJECT %s |
  MATERIALIZED VIEW %s |
  OPERATOR %s (%s, %s) |
  OPERATOR CLASS %s USING %s |
  OPERATOR FAMILY %s USING %s |
  POLICY %s ON %s |
  [ PROCEDURAL ] LANGUAGE %s |
  PROCEDURE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] |
  PUBLICATION %s |
  ROLE %s |
  ROUTINE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] |
  RULE %s ON %s |
  SCHEMA %s |
  SEQUENCE %s |
  SERVER %s |
  STATISTICS %s |
  SUBSCRIPTION %s |
  TABLE %s |
  TABLESPACE %s |
  TEXT SEARCH CONFIGURATION %s |
  TEXT SEARCH DICTIONARY %s |
  TEXT SEARCH PARSER %s |
  TEXT SEARCH TEMPLATE %s |
  TRANSFORM FOR %s LANGUAGE %s |
  TRIGGER %s ON %s |
  TYPE %s |
  VIEW %s
} IS { %s | NULL }

%s

* |
[ %s ] [ %s ] %s [ , ... ] |
[ [ %s ] [ %s ] %s [ , ... ] ] ORDER BY [ %s ] [ %s ] %s [ , ... ]`,r("object_name"),r("aggregate_name"),r("aggregate_signature"),r("source_type"),r("target_type"),r("object_name"),r("relation_name"),r("column_name"),r("constraint_name"),r("table_name"),r("constraint_name"),r("domain_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("function_name"),r("argmode"),r("argname"),r("argtype"),r("object_name"),r("large_object_oid"),r("object_name"),r("operator_name"),r("left_type"),r("right_type"),r("object_name"),r("index_method"),r("object_name"),r("index_method"),r("policy_name"),r("table_name"),r("object_name"),r("procedure_name"),r("argmode"),r("argname"),r("argtype"),r("object_name"),r("object_name"),r("routine_name"),r("argmode"),r("argname"),r("argtype"),r("rule_name"),r("table_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("type_name"),r("lang_name"),r("trigger_name"),r("table_name"),r("object_name"),r("object_name"),r("string_literal"),r("where aggregate_signature is:"),r("argmode"),r("argname"),r("argtype"),r("argmode"),r("argname"),r("argtype"),r("argmode"),r("argname"),r("argtype"))}function ny(e){b(e,"COMMIT [ WORK | TRANSACTION ] [ AND [ NO ] CHAIN ]")}function ry(e){b(e,"COMMIT PREPARED %s",r("transaction_id"))}function sy(e){b(e,`COPY %s [ ( %s [, ...] ) ]
    FROM { '%s' | PROGRAM '%s' | STDIN }
    [ [ WITH ] ( %s [, ...] ) ]
    [ WHERE %s ]

COPY { %s [ ( %s [, ...] ) ] | ( %s ) }
    TO { '%s' | PROGRAM '%s' | STDOUT }
    [ [ WITH ] ( %s [, ...] ) ]

%s

    FORMAT %s
    FREEZE [ %s ]
    DELIMITER '%s'
    NULL '%s'
    DEFAULT '%s'
    HEADER [ %s | MATCH ]
    QUOTE '%s'
    ESCAPE '%s'
    FORCE_QUOTE { ( %s [, ...] ) | * }
    FORCE_NOT_NULL { ( %s [, ...] ) | * }
    FORCE_NULL { ( %s [, ...] ) | * }
    ON_ERROR %s
    ENCODING '%s'
    LOG_VERBOSITY %s`,r("table_name"),r("column_name"),r("filename"),r("command"),r("option"),r("condition"),r("table_name"),r("column_name"),r("query"),r("filename"),r("command"),r("option"),r("where option can be one of:"),r("format_name"),r("boolean"),r("delimiter_character"),r("null_string"),r("default_string"),r("boolean"),r("quote_character"),r("escape_character"),r("column_name"),r("column_name"),r("column_name"),r("error_action"),r("encoding_name"),r("verbosity"))}function iy(e){b(e,`CREATE ACCESS METHOD %s
    TYPE %s
    HANDLER %s`,r("name"),r("access_method_type"),r("handler_function"))}function ay(e){b(e,`CREATE [ OR REPLACE ] AGGREGATE %s ( [ %s ] [ %s ] %s [ , ... ] ) (
    SFUNC = %s,
    STYPE = %s
    [ , SSPACE = %s ]
    [ , FINALFUNC = %s ]
    [ , FINALFUNC_EXTRA ]
    [ , FINALFUNC_MODIFY = { READ_ONLY | SHAREABLE | READ_WRITE } ]
    [ , COMBINEFUNC = %s ]
    [ , SERIALFUNC = %s ]
    [ , DESERIALFUNC = %s ]
    [ , INITCOND = %s ]
    [ , MSFUNC = %s ]
    [ , MINVFUNC = %s ]
    [ , MSTYPE = %s ]
    [ , MSSPACE = %s ]
    [ , MFINALFUNC = %s ]
    [ , MFINALFUNC_EXTRA ]
    [ , MFINALFUNC_MODIFY = { READ_ONLY | SHAREABLE | READ_WRITE } ]
    [ , MINITCOND = %s ]
    [ , SORTOP = %s ]
    [ , PARALLEL = { SAFE | RESTRICTED | UNSAFE } ]
)

CREATE [ OR REPLACE ] AGGREGATE %s ( [ [ %s ] [ %s ] %s [ , ... ] ]
                        ORDER BY [ %s ] [ %s ] %s [ , ... ] ) (
    SFUNC = %s,
    STYPE = %s
    [ , SSPACE = %s ]
    [ , FINALFUNC = %s ]
    [ , FINALFUNC_EXTRA ]
    [ , FINALFUNC_MODIFY = { READ_ONLY | SHAREABLE | READ_WRITE } ]
    [ , INITCOND = %s ]
    [ , PARALLEL = { SAFE | RESTRICTED | UNSAFE } ]
    [ , HYPOTHETICAL ]
)

%s

CREATE [ OR REPLACE ] AGGREGATE %s (
    BASETYPE = %s,
    SFUNC = %s,
    STYPE = %s
    [ , SSPACE = %s ]
    [ , FINALFUNC = %s ]
    [ , FINALFUNC_EXTRA ]
    [ , FINALFUNC_MODIFY = { READ_ONLY | SHAREABLE | READ_WRITE } ]
    [ , COMBINEFUNC = %s ]
    [ , SERIALFUNC = %s ]
    [ , DESERIALFUNC = %s ]
    [ , INITCOND = %s ]
    [ , MSFUNC = %s ]
    [ , MINVFUNC = %s ]
    [ , MSTYPE = %s ]
    [ , MSSPACE = %s ]
    [ , MFINALFUNC = %s ]
    [ , MFINALFUNC_EXTRA ]
    [ , MFINALFUNC_MODIFY = { READ_ONLY | SHAREABLE | READ_WRITE } ]
    [ , MINITCOND = %s ]
    [ , SORTOP = %s ]
)`,r("name"),r("argmode"),r("argname"),r("arg_data_type"),r("sfunc"),r("state_data_type"),r("state_data_size"),r("ffunc"),r("combinefunc"),r("serialfunc"),r("deserialfunc"),r("initial_condition"),r("msfunc"),r("minvfunc"),r("mstate_data_type"),r("mstate_data_size"),r("mffunc"),r("minitial_condition"),r("sort_operator"),r("name"),r("argmode"),r("argname"),r("arg_data_type"),r("argmode"),r("argname"),r("arg_data_type"),r("sfunc"),r("state_data_type"),r("state_data_size"),r("ffunc"),r("initial_condition"),r("or the old syntax"),r("name"),r("base_type"),r("sfunc"),r("state_data_type"),r("state_data_size"),r("ffunc"),r("combinefunc"),r("serialfunc"),r("deserialfunc"),r("initial_condition"),r("msfunc"),r("minvfunc"),r("mstate_data_type"),r("mstate_data_size"),r("mffunc"),r("minitial_condition"),r("sort_operator"))}function oy(e){b(e,`CREATE CAST (%s AS %s)
    WITH FUNCTION %s [ (%s [, ...]) ]
    [ AS ASSIGNMENT | AS IMPLICIT ]

CREATE CAST (%s AS %s)
    WITHOUT FUNCTION
    [ AS ASSIGNMENT | AS IMPLICIT ]

CREATE CAST (%s AS %s)
    WITH INOUT
    [ AS ASSIGNMENT | AS IMPLICIT ]`,r("source_type"),r("target_type"),r("function_name"),r("argument_type"),r("source_type"),r("target_type"),r("source_type"),r("target_type"))}function cy(e){b(e,`CREATE COLLATION [ IF NOT EXISTS ] %s (
    [ LOCALE = %s, ]
    [ LC_COLLATE = %s, ]
    [ LC_CTYPE = %s, ]
    [ PROVIDER = %s, ]
    [ DETERMINISTIC = %s, ]
    [ RULES = %s, ]
    [ VERSION = %s ]
)
CREATE COLLATION [ IF NOT EXISTS ] %s FROM %s`,r("name"),r("locale"),r("lc_collate"),r("lc_ctype"),r("provider"),r("boolean"),r("rules"),r("version"),r("name"),r("existing_collation"))}function ly(e){b(e,`CREATE [ DEFAULT ] CONVERSION %s
    FOR %s TO %s FROM %s`,r("name"),r("source_encoding"),r("dest_encoding"),r("function_name"))}function uy(e){b(e,`CREATE DATABASE %s
    [ WITH ] [ OWNER [=] %s ]
           [ TEMPLATE [=] %s ]
           [ ENCODING [=] %s ]
           [ STRATEGY [=] %s ]
           [ LOCALE [=] %s ]
           [ LC_COLLATE [=] %s ]
           [ LC_CTYPE [=] %s ]
           [ BUILTIN_LOCALE [=] %s ]
           [ ICU_LOCALE [=] %s ]
           [ ICU_RULES [=] %s ]
           [ LOCALE_PROVIDER [=] %s ]
           [ COLLATION_VERSION = %s ]
           [ TABLESPACE [=] %s ]
           [ ALLOW_CONNECTIONS [=] %s ]
           [ CONNECTION LIMIT [=] %s ]
           [ IS_TEMPLATE [=] %s ]
           [ OID [=] %s ]`,r("name"),r("user_name"),r("template"),r("encoding"),r("strategy"),r("locale"),r("lc_collate"),r("lc_ctype"),r("builtin_locale"),r("icu_locale"),r("icu_rules"),r("locale_provider"),r("collation_version"),r("tablespace_name"),r("allowconn"),r("connlimit"),r("istemplate"),r("oid"))}function py(e){b(e,`CREATE DOMAIN %s [ AS ] %s
    [ COLLATE %s ]
    [ DEFAULT %s ]
    [ %s [ ... ] ]

%s

[ CONSTRAINT %s ]
{ NOT NULL | NULL | CHECK (%s) }`,r("name"),r("data_type"),r("collation"),r("expression"),r("domain_constraint"),r("where domain_constraint is:"),r("constraint_name"),r("expression"))}function dy(e){b(e,`CREATE EVENT TRIGGER %s
    ON %s
    [ WHEN %s IN (%s [, ... ]) [ AND ... ] ]
    EXECUTE { FUNCTION | PROCEDURE } %s()`,r("name"),r("event"),r("filter_variable"),r("filter_value"),r("function_name"))}function fy(e){b(e,`CREATE EXTENSION [ IF NOT EXISTS ] %s
    [ WITH ] [ SCHEMA %s ]
             [ VERSION %s ]
             [ CASCADE ]`,r("extension_name"),r("schema_name"),r("version"))}function Ey(e){b(e,`CREATE FOREIGN DATA WRAPPER %s
    [ HANDLER %s | NO HANDLER ]
    [ VALIDATOR %s | NO VALIDATOR ]
    [ OPTIONS ( %s '%s' [, ... ] ) ]`,r("name"),r("handler_function"),r("validator_function"),r("option"),r("value"))}function hy(e){b(e,`CREATE FOREIGN TABLE [ IF NOT EXISTS ] %s ( [
  { %s %s [ OPTIONS ( %s '%s' [, ... ] ) ] [ COLLATE %s ] [ %s [ ... ] ]
    | %s }
    [, ... ]
] )
[ INHERITS ( %s [, ... ] ) ]
  SERVER %s
[ OPTIONS ( %s '%s' [, ... ] ) ]

CREATE FOREIGN TABLE [ IF NOT EXISTS ] %s
  PARTITION OF %s [ (
  { %s [ WITH OPTIONS ] [ %s [ ... ] ]
    | %s }
    [, ... ]
) ]
{ FOR VALUES %s | DEFAULT }
  SERVER %s
[ OPTIONS ( %s '%s' [, ... ] ) ]

%s

[ CONSTRAINT %s ]
{ NOT NULL |
  NULL |
  CHECK ( %s ) [ NO INHERIT ] |
  DEFAULT %s |
  GENERATED ALWAYS AS ( %s ) STORED }

%s

[ CONSTRAINT %s ]
CHECK ( %s ) [ NO INHERIT ]

%s

IN ( %s [, ...] ) |
FROM ( { %s | MINVALUE | MAXVALUE } [, ...] )
  TO ( { %s | MINVALUE | MAXVALUE } [, ...] ) |
WITH ( MODULUS %s, REMAINDER %s )`,r("table_name"),r("column_name"),r("data_type"),r("option"),r("value"),r("collation"),r("column_constraint"),r("table_constraint"),r("parent_table"),r("server_name"),r("option"),r("value"),r("table_name"),r("parent_table"),r("column_name"),r("column_constraint"),r("table_constraint"),r("partition_bound_spec"),r("server_name"),r("option"),r("value"),r("where column_constraint is:"),r("constraint_name"),r("expression"),r("default_expr"),r("generation_expr"),r("and table_constraint is:"),r("constraint_name"),r("expression"),r("and partition_bound_spec is:"),r("partition_bound_expr"),r("partition_bound_expr"),r("partition_bound_expr"),r("numeric_literal"),r("numeric_literal"))}function gy(e){b(e,`CREATE [ OR REPLACE ] FUNCTION
    %s ( [ [ %s ] [ %s ] %s [ { DEFAULT | = } %s ] [, ...] ] )
    [ RETURNS %s
      | RETURNS TABLE ( %s %s [, ...] ) ]
  { LANGUAGE %s
    | TRANSFORM { FOR TYPE %s } [, ... ]
    | WINDOW
    | { IMMUTABLE | STABLE | VOLATILE }
    | [ NOT ] LEAKPROOF
    | { CALLED ON NULL INPUT | RETURNS NULL ON NULL INPUT | STRICT }
    | { [ EXTERNAL ] SECURITY INVOKER | [ EXTERNAL ] SECURITY DEFINER }
    | PARALLEL { UNSAFE | RESTRICTED | SAFE }
    | COST %s
    | ROWS %s
    | SUPPORT %s
    | SET %s { TO %s | = %s | FROM CURRENT }
    | AS '%s'
    | AS '%s', '%s'
    | %s
  } ...`,r("name"),r("argmode"),r("argname"),r("argtype"),r("default_expr"),r("rettype"),r("column_name"),r("column_type"),r("lang_name"),r("type_name"),r("execution_cost"),r("result_rows"),r("support_function"),r("configuration_parameter"),r("value"),r("value"),r("definition"),r("obj_file"),r("link_symbol"),r("sql_body"))}function my(e){b(e,`CREATE GROUP %s [ [ WITH ] %s [ ... ] ]

%s

      SUPERUSER | NOSUPERUSER
    | CREATEDB | NOCREATEDB
    | CREATEROLE | NOCREATEROLE
    | INHERIT | NOINHERIT
    | LOGIN | NOLOGIN
    | REPLICATION | NOREPLICATION
    | BYPASSRLS | NOBYPASSRLS
    | CONNECTION LIMIT %s
    | [ ENCRYPTED ] PASSWORD '%s' | PASSWORD NULL
    | VALID UNTIL '%s'
    | IN ROLE %s [, ...]
    | IN GROUP %s [, ...]
    | ROLE %s [, ...]
    | ADMIN %s [, ...]
    | USER %s [, ...]
    | SYSID %s`,r("name"),r("option"),r("where option can be:"),r("connlimit"),r("password"),r("timestamp"),r("role_name"),r("role_name"),r("role_name"),r("role_name"),r("role_name"),r("uid"))}function _y(e){b(e,`CREATE [ UNIQUE ] INDEX [ CONCURRENTLY ] [ [ IF NOT EXISTS ] %s ] ON [ ONLY ] %s [ USING %s ]
    ( { %s | ( %s ) } [ COLLATE %s ] [ %s [ ( %s = %s [, ... ] ) ] ] [ ASC | DESC ] [ NULLS { FIRST | LAST } ] [, ...] )
    [ INCLUDE ( %s [, ...] ) ]
    [ NULLS [ NOT ] DISTINCT ]
    [ WITH ( %s [= %s] [, ... ] ) ]
    [ TABLESPACE %s ]
    [ WHERE %s ]`,r("name"),r("table_name"),r("method"),r("column_name"),r("expression"),r("collation"),r("opclass"),r("opclass_parameter"),r("value"),r("column_name"),r("storage_parameter"),r("value"),r("tablespace_name"),r("predicate"))}function Ty(e){b(e,`CREATE [ OR REPLACE ] [ TRUSTED ] [ PROCEDURAL ] LANGUAGE %s
    HANDLER %s [ INLINE %s ] [ VALIDATOR %s ]
CREATE [ OR REPLACE ] [ TRUSTED ] [ PROCEDURAL ] LANGUAGE %s`,r("name"),r("call_handler"),r("inline_handler"),r("valfunction"),r("name"))}function Sy(e){b(e,`CREATE MATERIALIZED VIEW [ IF NOT EXISTS ] %s
    [ (%s [, ...] ) ]
    [ USING %s ]
    [ WITH ( %s [= %s] [, ... ] ) ]
    [ TABLESPACE %s ]
    AS %s
    [ WITH [ NO ] DATA ]`,r("table_name"),r("column_name"),r("method"),r("storage_parameter"),r("value"),r("tablespace_name"),r("query"))}function Ry(e){b(e,`CREATE OPERATOR %s (
    {FUNCTION|PROCEDURE} = %s
    [, LEFTARG = %s ] [, RIGHTARG = %s ]
    [, COMMUTATOR = %s ] [, NEGATOR = %s ]
    [, RESTRICT = %s ] [, JOIN = %s ]
    [, HASHES ] [, MERGES ]
)`,r("name"),r("function_name"),r("left_type"),r("right_type"),r("com_op"),r("neg_op"),r("res_proc"),r("join_proc"))}function Ay(e){b(e,`CREATE OPERATOR CLASS %s [ DEFAULT ] FOR TYPE %s
  USING %s [ FAMILY %s ] AS
  {  OPERATOR %s %s [ ( %s, %s ) ] [ FOR SEARCH | FOR ORDER BY %s ]
   | FUNCTION %s [ ( %s [ , %s ] ) ] %s ( %s [, ...] )
   | STORAGE %s
  } [, ... ]`,r("name"),r("data_type"),r("index_method"),r("family_name"),r("strategy_number"),r("operator_name"),r("op_type"),r("op_type"),r("sort_family_name"),r("support_number"),r("op_type"),r("op_type"),r("function_name"),r("argument_type"),r("storage_type"))}function yy(e){b(e,"CREATE OPERATOR FAMILY %s USING %s",r("name"),r("index_method"))}function Ny(e){b(e,`CREATE POLICY %s ON %s
    [ AS { PERMISSIVE | RESTRICTIVE } ]
    [ FOR { ALL | SELECT | INSERT | UPDATE | DELETE } ]
    [ TO { %s | PUBLIC | CURRENT_ROLE | CURRENT_USER | SESSION_USER } [, ...] ]
    [ USING ( %s ) ]
    [ WITH CHECK ( %s ) ]`,r("name"),r("table_name"),r("role_name"),r("using_expression"),r("check_expression"))}function vy(e){b(e,`CREATE [ OR REPLACE ] PROCEDURE
    %s ( [ [ %s ] [ %s ] %s [ { DEFAULT | = } %s ] [, ...] ] )
  { LANGUAGE %s
    | TRANSFORM { FOR TYPE %s } [, ... ]
    | [ EXTERNAL ] SECURITY INVOKER | [ EXTERNAL ] SECURITY DEFINER
    | SET %s { TO %s | = %s | FROM CURRENT }
    | AS '%s'
    | AS '%s', '%s'
    | %s
  } ...`,r("name"),r("argmode"),r("argname"),r("argtype"),r("default_expr"),r("lang_name"),r("type_name"),r("configuration_parameter"),r("value"),r("value"),r("definition"),r("obj_file"),r("link_symbol"),r("sql_body"))}function Iy(e){b(e,`CREATE PUBLICATION %s
    [ FOR ALL TABLES
      | FOR %s [, ... ] ]
    [ WITH ( %s [= %s] [, ... ] ) ]

%s

    TABLE [ ONLY ] %s [ * ] [ ( %s [, ... ] ) ] [ WHERE ( %s ) ] [, ... ]
    TABLES IN SCHEMA { %s | CURRENT_SCHEMA } [, ... ]`,r("name"),r("publication_object"),r("publication_parameter"),r("value"),r("where publication_object is one of:"),r("table_name"),r("column_name"),r("expression"),r("schema_name"))}function Oy(e){b(e,`CREATE ROLE %s [ [ WITH ] %s [ ... ] ]

%s

      SUPERUSER | NOSUPERUSER
    | CREATEDB | NOCREATEDB
    | CREATEROLE | NOCREATEROLE
    | INHERIT | NOINHERIT
    | LOGIN | NOLOGIN
    | REPLICATION | NOREPLICATION
    | BYPASSRLS | NOBYPASSRLS
    | CONNECTION LIMIT %s
    | [ ENCRYPTED ] PASSWORD '%s' | PASSWORD NULL
    | VALID UNTIL '%s'
    | IN ROLE %s [, ...]
    | ROLE %s [, ...]
    | ADMIN %s [, ...]
    | SYSID %s`,r("name"),r("option"),r("where option can be:"),r("connlimit"),r("password"),r("timestamp"),r("role_name"),r("role_name"),r("role_name"),r("uid"))}function by(e){b(e,`CREATE [ OR REPLACE ] RULE %s AS ON %s
    TO %s [ WHERE %s ]
    DO [ ALSO | INSTEAD ] { NOTHING | %s | ( %s ; %s ... ) }

%s

    SELECT | INSERT | UPDATE | DELETE`,r("name"),r("event"),r("table_name"),r("condition"),r("command"),r("command"),r("command"),r("where event can be one of:"))}function Ly(e){b(e,`CREATE SCHEMA %s [ AUTHORIZATION %s ] [ %s [ ... ] ]
CREATE SCHEMA AUTHORIZATION %s [ %s [ ... ] ]
CREATE SCHEMA IF NOT EXISTS %s [ AUTHORIZATION %s ]
CREATE SCHEMA IF NOT EXISTS AUTHORIZATION %s

%s

    %s
  | CURRENT_ROLE
  | CURRENT_USER
  | SESSION_USER`,r("schema_name"),r("role_specification"),r("schema_element"),r("role_specification"),r("schema_element"),r("schema_name"),r("role_specification"),r("role_specification"),r("where role_specification can be:"),r("user_name"))}function Cy(e){b(e,`CREATE [ { TEMPORARY | TEMP } | UNLOGGED ] SEQUENCE [ IF NOT EXISTS ] %s
    [ AS %s ]
    [ INCREMENT [ BY ] %s ]
    [ MINVALUE %s | NO MINVALUE ] [ MAXVALUE %s | NO MAXVALUE ]
    [ START [ WITH ] %s ] [ CACHE %s ] [ [ NO ] CYCLE ]
    [ OWNED BY { %s.%s | NONE } ]`,r("name"),r("data_type"),r("increment"),r("minvalue"),r("maxvalue"),r("start"),r("cache"),r("table_name"),r("column_name"))}function wy(e){b(e,`CREATE SERVER [ IF NOT EXISTS ] %s [ TYPE '%s' ] [ VERSION '%s' ]
    FOREIGN DATA WRAPPER %s
    [ OPTIONS ( %s '%s' [, ... ] ) ]`,r("server_name"),r("server_type"),r("server_version"),r("fdw_name"),r("option"),r("value"))}function Dy(e){b(e,`CREATE STATISTICS [ [ IF NOT EXISTS ] %s ]
    ON ( %s )
    FROM %s

CREATE STATISTICS [ [ IF NOT EXISTS ] %s ]
    [ ( %s [, ... ] ) ]
    ON { %s | ( %s ) }, { %s | ( %s ) } [, ...]
    FROM %s`,r("statistics_name"),r("expression"),r("table_name"),r("statistics_name"),r("statistics_kind"),r("column_name"),r("expression"),r("column_name"),r("expression"),r("table_name"))}function Py(e){b(e,`CREATE SUBSCRIPTION %s
    CONNECTION '%s'
    PUBLICATION %s [, ...]
    [ WITH ( %s [= %s] [, ... ] ) ]`,r("subscription_name"),r("conninfo"),r("publication_name"),r("subscription_parameter"),r("value"))}function Uy(e){b(e,`CREATE [ [ GLOBAL | LOCAL ] { TEMPORARY | TEMP } | UNLOGGED ] TABLE [ IF NOT EXISTS ] %s ( [
  { %s %s [ STORAGE { PLAIN | EXTERNAL | EXTENDED | MAIN | DEFAULT } ] [ COMPRESSION %s ] [ COLLATE %s ] [ %s [ ... ] ]
    | %s
    | LIKE %s [ %s ... ] }
    [, ... ]
] )
[ INHERITS ( %s [, ... ] ) ]
[ PARTITION BY { RANGE | LIST | HASH } ( { %s | ( %s ) } [ COLLATE %s ] [ %s ] [, ... ] ) ]
[ USING %s ]
[ WITH ( %s [= %s] [, ... ] ) | WITHOUT OIDS ]
[ ON COMMIT { PRESERVE ROWS | DELETE ROWS | DROP } ]
[ TABLESPACE %s ]

CREATE [ [ GLOBAL | LOCAL ] { TEMPORARY | TEMP } | UNLOGGED ] TABLE [ IF NOT EXISTS ] %s
    OF %s [ (
  { %s [ WITH OPTIONS ] [ %s [ ... ] ]
    | %s }
    [, ... ]
) ]
[ PARTITION BY { RANGE | LIST | HASH } ( { %s | ( %s ) } [ COLLATE %s ] [ %s ] [, ... ] ) ]
[ USING %s ]
[ WITH ( %s [= %s] [, ... ] ) | WITHOUT OIDS ]
[ ON COMMIT { PRESERVE ROWS | DELETE ROWS | DROP } ]
[ TABLESPACE %s ]

CREATE [ [ GLOBAL | LOCAL ] { TEMPORARY | TEMP } | UNLOGGED ] TABLE [ IF NOT EXISTS ] %s
    PARTITION OF %s [ (
  { %s [ WITH OPTIONS ] [ %s [ ... ] ]
    | %s }
    [, ... ]
) ] { FOR VALUES %s | DEFAULT }
[ PARTITION BY { RANGE | LIST | HASH } ( { %s | ( %s ) } [ COLLATE %s ] [ %s ] [, ... ] ) ]
[ USING %s ]
[ WITH ( %s [= %s] [, ... ] ) | WITHOUT OIDS ]
[ ON COMMIT { PRESERVE ROWS | DELETE ROWS | DROP } ]
[ TABLESPACE %s ]

%s

[ CONSTRAINT %s ]
{ NOT NULL |
  NULL |
  CHECK ( %s ) [ NO INHERIT ] |
  DEFAULT %s |
  GENERATED ALWAYS AS ( %s ) STORED |
  GENERATED { ALWAYS | BY DEFAULT } AS IDENTITY [ ( %s ) ] |
  UNIQUE [ NULLS [ NOT ] DISTINCT ] %s |
  PRIMARY KEY %s |
  REFERENCES %s [ ( %s ) ] [ MATCH FULL | MATCH PARTIAL | MATCH SIMPLE ]
    [ ON DELETE %s ] [ ON UPDATE %s ] }
[ DEFERRABLE | NOT DEFERRABLE ] [ INITIALLY DEFERRED | INITIALLY IMMEDIATE ]

%s

[ CONSTRAINT %s ]
{ CHECK ( %s ) [ NO INHERIT ] |
  UNIQUE [ NULLS [ NOT ] DISTINCT ] ( %s [, ... ] ) %s |
  PRIMARY KEY ( %s [, ... ] ) %s |
  EXCLUDE [ USING %s ] ( %s WITH %s [, ... ] ) %s [ WHERE ( %s ) ] |
  FOREIGN KEY ( %s [, ... ] ) REFERENCES %s [ ( %s [, ... ] ) ]
    [ MATCH FULL | MATCH PARTIAL | MATCH SIMPLE ] [ ON DELETE %s ] [ ON UPDATE %s ] }
[ DEFERRABLE | NOT DEFERRABLE ] [ INITIALLY DEFERRED | INITIALLY IMMEDIATE ]

%s

{ INCLUDING | EXCLUDING } { COMMENTS | COMPRESSION | CONSTRAINTS | DEFAULTS | GENERATED | IDENTITY | INDEXES | STATISTICS | STORAGE | ALL }

%s

IN ( %s [, ...] ) |
FROM ( { %s | MINVALUE | MAXVALUE } [, ...] )
  TO ( { %s | MINVALUE | MAXVALUE } [, ...] ) |
WITH ( MODULUS %s, REMAINDER %s )

%s

[ INCLUDE ( %s [, ... ] ) ]
[ WITH ( %s [= %s] [, ... ] ) ]
[ USING INDEX TABLESPACE %s ]

%s

{ %s | ( %s ) } [ COLLATE %s ] [ %s [ ( %s = %s [, ... ] ) ] ] [ ASC | DESC ] [ NULLS { FIRST | LAST } ]

%s

{ NO ACTION | RESTRICT | CASCADE | SET NULL [ ( %s [, ... ] ) ] | SET DEFAULT [ ( %s [, ... ] ) ] }`,r("table_name"),r("column_name"),r("data_type"),r("compression_method"),r("collation"),r("column_constraint"),r("table_constraint"),r("source_table"),r("like_option"),r("parent_table"),r("column_name"),r("expression"),r("collation"),r("opclass"),r("method"),r("storage_parameter"),r("value"),r("tablespace_name"),r("table_name"),r("type_name"),r("column_name"),r("column_constraint"),r("table_constraint"),r("column_name"),r("expression"),r("collation"),r("opclass"),r("method"),r("storage_parameter"),r("value"),r("tablespace_name"),r("table_name"),r("parent_table"),r("column_name"),r("column_constraint"),r("table_constraint"),r("partition_bound_spec"),r("column_name"),r("expression"),r("collation"),r("opclass"),r("method"),r("storage_parameter"),r("value"),r("tablespace_name"),r("where column_constraint is:"),r("constraint_name"),r("expression"),r("default_expr"),r("generation_expr"),r("sequence_options"),r("index_parameters"),r("index_parameters"),r("reftable"),r("refcolumn"),r("referential_action"),r("referential_action"),r("and table_constraint is:"),r("constraint_name"),r("expression"),r("column_name"),r("index_parameters"),r("column_name"),r("index_parameters"),r("index_method"),r("exclude_element"),r("operator"),r("index_parameters"),r("predicate"),r("column_name"),r("reftable"),r("refcolumn"),r("referential_action"),r("referential_action"),r("and like_option is:"),r("and partition_bound_spec is:"),r("partition_bound_expr"),r("partition_bound_expr"),r("partition_bound_expr"),r("numeric_literal"),r("numeric_literal"),r("index_parameters in UNIQUE, PRIMARY KEY, and EXCLUDE constraints are:"),r("column_name"),r("storage_parameter"),r("value"),r("tablespace_name"),r("exclude_element in an EXCLUDE constraint is:"),r("column_name"),r("expression"),r("collation"),r("opclass"),r("opclass_parameter"),r("value"),r("referential_action in a FOREIGN KEY/REFERENCES constraint is:"),r("column_name"),r("column_name"))}function My(e){b(e,`CREATE [ [ GLOBAL | LOCAL ] { TEMPORARY | TEMP } | UNLOGGED ] TABLE [ IF NOT EXISTS ] %s
    [ (%s [, ...] ) ]
    [ USING %s ]
    [ WITH ( %s [= %s] [, ... ] ) | WITHOUT OIDS ]
    [ ON COMMIT { PRESERVE ROWS | DELETE ROWS | DROP } ]
    [ TABLESPACE %s ]
    AS %s
    [ WITH [ NO ] DATA ]`,r("table_name"),r("column_name"),r("method"),r("storage_parameter"),r("value"),r("tablespace_name"),r("query"))}function Fy(e){b(e,`CREATE TABLESPACE %s
    [ OWNER { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER } ]
    LOCATION '%s'
    [ WITH ( %s = %s [, ... ] ) ]`,r("tablespace_name"),r("new_owner"),r("directory"),r("tablespace_option"),r("value"))}function xy(e){b(e,`CREATE TEXT SEARCH CONFIGURATION %s (
    PARSER = %s |
    COPY = %s
)`,r("name"),r("parser_name"),r("source_config"))}function ky(e){b(e,`CREATE TEXT SEARCH DICTIONARY %s (
    TEMPLATE = %s
    [, %s = %s [, ... ]]
)`,r("name"),r("template"),r("option"),r("value"))}function Hy(e){b(e,`CREATE TEXT SEARCH PARSER %s (
    START = %s ,
    GETTOKEN = %s ,
    END = %s ,
    LEXTYPES = %s
    [, HEADLINE = %s ]
)`,r("name"),r("start_function"),r("gettoken_function"),r("end_function"),r("lextypes_function"),r("headline_function"))}function By(e){b(e,`CREATE TEXT SEARCH TEMPLATE %s (
    [ INIT = %s , ]
    LEXIZE = %s
)`,r("name"),r("init_function"),r("lexize_function"))}function Wy(e){b(e,`CREATE [ OR REPLACE ] TRANSFORM FOR %s LANGUAGE %s (
    FROM SQL WITH FUNCTION %s [ (%s [, ...]) ],
    TO SQL WITH FUNCTION %s [ (%s [, ...]) ]
);`,r("type_name"),r("lang_name"),r("from_sql_function_name"),r("argument_type"),r("to_sql_function_name"),r("argument_type"))}function Gy(e){b(e,`CREATE [ OR REPLACE ] [ CONSTRAINT ] TRIGGER %s { BEFORE | AFTER | INSTEAD OF } { %s [ OR ... ] }
    ON %s
    [ FROM %s ]
    [ NOT DEFERRABLE | [ DEFERRABLE ] [ INITIALLY IMMEDIATE | INITIALLY DEFERRED ] ]
    [ REFERENCING { { OLD | NEW } TABLE [ AS ] %s } [ ... ] ]
    [ FOR [ EACH ] { ROW | STATEMENT } ]
    [ WHEN ( %s ) ]
    EXECUTE { FUNCTION | PROCEDURE } %s ( %s )

%s

    INSERT
    UPDATE [ OF %s [, ... ] ]
    DELETE
    TRUNCATE`,r("name"),r("event"),r("table_name"),r("referenced_table_name"),r("transition_relation_name"),r("condition"),r("function_name"),r("arguments"),r("where event can be one of:"),r("column_name"))}function qy(e){b(e,`CREATE TYPE %s AS
    ( [ %s %s [ COLLATE %s ] [, ... ] ] )

CREATE TYPE %s AS ENUM
    ( [ '%s' [, ... ] ] )

CREATE TYPE %s AS RANGE (
    SUBTYPE = %s
    [ , SUBTYPE_OPCLASS = %s ]
    [ , COLLATION = %s ]
    [ , CANONICAL = %s ]
    [ , SUBTYPE_DIFF = %s ]
    [ , MULTIRANGE_TYPE_NAME = %s ]
)

CREATE TYPE %s (
    INPUT = %s,
    OUTPUT = %s
    [ , RECEIVE = %s ]
    [ , SEND = %s ]
    [ , TYPMOD_IN = %s ]
    [ , TYPMOD_OUT = %s ]
    [ , ANALYZE = %s ]
    [ , SUBSCRIPT = %s ]
    [ , INTERNALLENGTH = { %s | VARIABLE } ]
    [ , PASSEDBYVALUE ]
    [ , ALIGNMENT = %s ]
    [ , STORAGE = %s ]
    [ , LIKE = %s ]
    [ , CATEGORY = %s ]
    [ , PREFERRED = %s ]
    [ , DEFAULT = %s ]
    [ , ELEMENT = %s ]
    [ , DELIMITER = %s ]
    [ , COLLATABLE = %s ]
)

CREATE TYPE %s`,r("name"),r("attribute_name"),r("data_type"),r("collation"),r("name"),r("label"),r("name"),r("subtype"),r("subtype_operator_class"),r("collation"),r("canonical_function"),r("subtype_diff_function"),r("multirange_type_name"),r("name"),r("input_function"),r("output_function"),r("receive_function"),r("send_function"),r("type_modifier_input_function"),r("type_modifier_output_function"),r("analyze_function"),r("subscript_function"),r("internallength"),r("alignment"),r("storage"),r("like_type"),r("category"),r("preferred"),r("default"),r("element"),r("delimiter"),r("collatable"),r("name"))}function Yy(e){b(e,`CREATE USER %s [ [ WITH ] %s [ ... ] ]

%s

      SUPERUSER | NOSUPERUSER
    | CREATEDB | NOCREATEDB
    | CREATEROLE | NOCREATEROLE
    | INHERIT | NOINHERIT
    | LOGIN | NOLOGIN
    | REPLICATION | NOREPLICATION
    | BYPASSRLS | NOBYPASSRLS
    | CONNECTION LIMIT %s
    | [ ENCRYPTED ] PASSWORD '%s' | PASSWORD NULL
    | VALID UNTIL '%s'
    | IN ROLE %s [, ...]
    | IN GROUP %s [, ...]
    | ROLE %s [, ...]
    | ADMIN %s [, ...]
    | USER %s [, ...]
    | SYSID %s`,r("name"),r("option"),r("where option can be:"),r("connlimit"),r("password"),r("timestamp"),r("role_name"),r("role_name"),r("role_name"),r("role_name"),r("role_name"),r("uid"))}function jy(e){b(e,`CREATE USER MAPPING [ IF NOT EXISTS ] FOR { %s | USER | CURRENT_ROLE | CURRENT_USER | PUBLIC }
    SERVER %s
    [ OPTIONS ( %s '%s' [ , ... ] ) ]`,r("user_name"),r("server_name"),r("option"),r("value"))}function $y(e){b(e,`CREATE [ OR REPLACE ] [ TEMP | TEMPORARY ] [ RECURSIVE ] VIEW %s [ ( %s [, ...] ) ]
    [ WITH ( %s [= %s] [, ... ] ) ]
    AS %s
    [ WITH [ CASCADED | LOCAL ] CHECK OPTION ]`,r("name"),r("column_name"),r("view_option_name"),r("view_option_value"),r("query"))}function Vy(e){b(e,"DEALLOCATE [ PREPARE ] { %s | ALL }",r("name"))}function Xy(e){b(e,`DECLARE %s [ BINARY ] [ ASENSITIVE | INSENSITIVE ] [ [ NO ] SCROLL ]
    CURSOR [ { WITH | WITHOUT } HOLD ] FOR %s`,r("name"),r("query"))}function Qy(e){b(e,`[ WITH [ RECURSIVE ] %s [, ...] ]
DELETE FROM [ ONLY ] %s [ * ] [ [ AS ] %s ]
    [ USING %s [, ...] ]
    [ WHERE %s | WHERE CURRENT OF %s ]
    [ RETURNING { * | %s [ [ AS ] %s ] } [, ...] ]`,r("with_query"),r("table_name"),r("alias"),r("from_item"),r("condition"),r("cursor_name"),r("output_expression"),r("output_name"))}function Ky(e){b(e,"DISCARD { ALL | PLANS | SEQUENCES | TEMPORARY | TEMP }")}function zy(e){b(e,"DO [ LANGUAGE %s ] %s",r("lang_name"),r("code"))}function Jy(e){b(e,"DROP ACCESS METHOD [ IF EXISTS ] %s [ CASCADE | RESTRICT ]",r("name"))}function Zy(e){b(e,`DROP AGGREGATE [ IF EXISTS ] %s ( %s ) [, ...] [ CASCADE | RESTRICT ]

%s

* |
[ %s ] [ %s ] %s [ , ... ] |
[ [ %s ] [ %s ] %s [ , ... ] ] ORDER BY [ %s ] [ %s ] %s [ , ... ]`,r("name"),r("aggregate_signature"),r("where aggregate_signature is:"),r("argmode"),r("argname"),r("argtype"),r("argmode"),r("argname"),r("argtype"),r("argmode"),r("argname"),r("argtype"))}function eN(e){b(e,"DROP CAST [ IF EXISTS ] (%s AS %s) [ CASCADE | RESTRICT ]",r("source_type"),r("target_type"))}function tN(e){b(e,"DROP COLLATION [ IF EXISTS ] %s [ CASCADE | RESTRICT ]",r("name"))}function nN(e){b(e,"DROP CONVERSION [ IF EXISTS ] %s [ CASCADE | RESTRICT ]",r("name"))}function rN(e){b(e,`DROP DATABASE [ IF EXISTS ] %s [ [ WITH ] ( %s [, ...] ) ]

%s

    FORCE`,r("name"),r("option"),r("where option can be:"))}function sN(e){b(e,"DROP DOMAIN [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function iN(e){b(e,"DROP EVENT TRIGGER [ IF EXISTS ] %s [ CASCADE | RESTRICT ]",r("name"))}function aN(e){b(e,"DROP EXTENSION [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function oN(e){b(e,"DROP FOREIGN DATA WRAPPER [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function cN(e){b(e,"DROP FOREIGN TABLE [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function lN(e){b(e,`DROP FUNCTION [ IF EXISTS ] %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] [, ...]
    [ CASCADE | RESTRICT ]`,r("name"),r("argmode"),r("argname"),r("argtype"))}function uN(e){b(e,"DROP GROUP [ IF EXISTS ] %s [, ...]",r("name"))}function pN(e){b(e,"DROP INDEX [ CONCURRENTLY ] [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function dN(e){b(e,"DROP [ PROCEDURAL ] LANGUAGE [ IF EXISTS ] %s [ CASCADE | RESTRICT ]",r("name"))}function fN(e){b(e,"DROP MATERIALIZED VIEW [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function EN(e){b(e,"DROP OPERATOR [ IF EXISTS ] %s ( { %s | NONE } , %s ) [, ...] [ CASCADE | RESTRICT ]",r("name"),r("left_type"),r("right_type"))}function hN(e){b(e,"DROP OPERATOR CLASS [ IF EXISTS ] %s USING %s [ CASCADE | RESTRICT ]",r("name"),r("index_method"))}function gN(e){b(e,"DROP OPERATOR FAMILY [ IF EXISTS ] %s USING %s [ CASCADE | RESTRICT ]",r("name"),r("index_method"))}function mN(e){b(e,"DROP OWNED BY { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER } [, ...] [ CASCADE | RESTRICT ]",r("name"))}function _N(e){b(e,"DROP POLICY [ IF EXISTS ] %s ON %s [ CASCADE | RESTRICT ]",r("name"),r("table_name"))}function TN(e){b(e,`DROP PROCEDURE [ IF EXISTS ] %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] [, ...]
    [ CASCADE | RESTRICT ]`,r("name"),r("argmode"),r("argname"),r("argtype"))}function SN(e){b(e,"DROP PUBLICATION [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function RN(e){b(e,"DROP ROLE [ IF EXISTS ] %s [, ...]",r("name"))}function AN(e){b(e,`DROP ROUTINE [ IF EXISTS ] %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] [, ...]
    [ CASCADE | RESTRICT ]`,r("name"),r("argmode"),r("argname"),r("argtype"))}function yN(e){b(e,"DROP RULE [ IF EXISTS ] %s ON %s [ CASCADE | RESTRICT ]",r("name"),r("table_name"))}function NN(e){b(e,"DROP SCHEMA [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function vN(e){b(e,"DROP SEQUENCE [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function IN(e){b(e,"DROP SERVER [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function ON(e){b(e,"DROP STATISTICS [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function bN(e){b(e,"DROP SUBSCRIPTION [ IF EXISTS ] %s [ CASCADE | RESTRICT ]",r("name"))}function LN(e){b(e,"DROP TABLE [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function CN(e){b(e,"DROP TABLESPACE [ IF EXISTS ] %s",r("name"))}function wN(e){b(e,"DROP TEXT SEARCH CONFIGURATION [ IF EXISTS ] %s [ CASCADE | RESTRICT ]",r("name"))}function DN(e){b(e,"DROP TEXT SEARCH DICTIONARY [ IF EXISTS ] %s [ CASCADE | RESTRICT ]",r("name"))}function PN(e){b(e,"DROP TEXT SEARCH PARSER [ IF EXISTS ] %s [ CASCADE | RESTRICT ]",r("name"))}function UN(e){b(e,"DROP TEXT SEARCH TEMPLATE [ IF EXISTS ] %s [ CASCADE | RESTRICT ]",r("name"))}function MN(e){b(e,"DROP TRANSFORM [ IF EXISTS ] FOR %s LANGUAGE %s [ CASCADE | RESTRICT ]",r("type_name"),r("lang_name"))}function FN(e){b(e,"DROP TRIGGER [ IF EXISTS ] %s ON %s [ CASCADE | RESTRICT ]",r("name"),r("table_name"))}function xN(e){b(e,"DROP TYPE [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function kN(e){b(e,"DROP USER [ IF EXISTS ] %s [, ...]",r("name"))}function HN(e){b(e,"DROP USER MAPPING [ IF EXISTS ] FOR { %s | USER | CURRENT_ROLE | CURRENT_USER | PUBLIC } SERVER %s",r("user_name"),r("server_name"))}function BN(e){b(e,"DROP VIEW [ IF EXISTS ] %s [, ...] [ CASCADE | RESTRICT ]",r("name"))}function WN(e){b(e,"END [ WORK | TRANSACTION ] [ AND [ NO ] CHAIN ]")}function GN(e){b(e,"EXECUTE %s [ ( %s [, ...] ) ]",r("name"),r("parameter"))}function qN(e){b(e,`EXPLAIN [ ( %s [, ...] ) ] %s

%s

    ANALYZE [ %s ]
    VERBOSE [ %s ]
    COSTS [ %s ]
    SETTINGS [ %s ]
    GENERIC_PLAN [ %s ]
    BUFFERS [ %s ]
    SERIALIZE [ { NONE | TEXT | BINARY } ]
    WAL [ %s ]
    TIMING [ %s ]
    SUMMARY [ %s ]
    MEMORY [ %s ]
    FORMAT { TEXT | XML | JSON | YAML }`,r("option"),r("statement"),r("where option can be one of:"),r("boolean"),r("boolean"),r("boolean"),r("boolean"),r("boolean"),r("boolean"),r("boolean"),r("boolean"),r("boolean"),r("boolean"))}function YN(e){b(e,`FETCH [ %s ] [ FROM | IN ] %s

%s

    NEXT
    PRIOR
    FIRST
    LAST
    ABSOLUTE %s
    RELATIVE %s
    %s
    ALL
    FORWARD
    FORWARD %s
    FORWARD ALL
    BACKWARD
    BACKWARD %s
    BACKWARD ALL`,r("direction"),r("cursor_name"),r("where direction can be one of:"),r("count"),r("count"),r("count"),r("count"),r("count"))}function jN(e){b(e,`GRANT { { SELECT | INSERT | UPDATE | DELETE | TRUNCATE | REFERENCES | TRIGGER | MAINTAIN }
    [, ...] | ALL [ PRIVILEGES ] }
    ON { [ TABLE ] %s [, ...]
         | ALL TABLES IN SCHEMA %s [, ...] }
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT { { SELECT | INSERT | UPDATE | REFERENCES } ( %s [, ...] )
    [, ...] | ALL [ PRIVILEGES ] ( %s [, ...] ) }
    ON [ TABLE ] %s [, ...]
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT { { USAGE | SELECT | UPDATE }
    [, ...] | ALL [ PRIVILEGES ] }
    ON { SEQUENCE %s [, ...]
         | ALL SEQUENCES IN SCHEMA %s [, ...] }
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT { { CREATE | CONNECT | TEMPORARY | TEMP } [, ...] | ALL [ PRIVILEGES ] }
    ON DATABASE %s [, ...]
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT { USAGE | ALL [ PRIVILEGES ] }
    ON DOMAIN %s [, ...]
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT { USAGE | ALL [ PRIVILEGES ] }
    ON FOREIGN DATA WRAPPER %s [, ...]
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT { USAGE | ALL [ PRIVILEGES ] }
    ON FOREIGN SERVER %s [, ...]
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT { EXECUTE | ALL [ PRIVILEGES ] }
    ON { { FUNCTION | PROCEDURE | ROUTINE } %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] [, ...]
         | ALL { FUNCTIONS | PROCEDURES | ROUTINES } IN SCHEMA %s [, ...] }
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT { USAGE | ALL [ PRIVILEGES ] }
    ON LANGUAGE %s [, ...]
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT { { SELECT | UPDATE } [, ...] | ALL [ PRIVILEGES ] }
    ON LARGE OBJECT %s [, ...]
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT { { SET | ALTER SYSTEM } [, ... ] | ALL [ PRIVILEGES ] }
    ON PARAMETER %s [, ...]
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT { { CREATE | USAGE } [, ...] | ALL [ PRIVILEGES ] }
    ON SCHEMA %s [, ...]
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT { CREATE | ALL [ PRIVILEGES ] }
    ON TABLESPACE %s [, ...]
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT { USAGE | ALL [ PRIVILEGES ] }
    ON TYPE %s [, ...]
    TO %s [, ...] [ WITH GRANT OPTION ]
    [ GRANTED BY %s ]

GRANT %s [, ...] TO %s [, ...]
    [ WITH { ADMIN | INHERIT | SET } { OPTION | TRUE | FALSE } ]
    [ GRANTED BY %s ]

%s

    [ GROUP ] %s
  | PUBLIC
  | CURRENT_ROLE
  | CURRENT_USER
  | SESSION_USER`,r("table_name"),r("schema_name"),r("role_specification"),r("role_specification"),r("column_name"),r("column_name"),r("table_name"),r("role_specification"),r("role_specification"),r("sequence_name"),r("schema_name"),r("role_specification"),r("role_specification"),r("database_name"),r("role_specification"),r("role_specification"),r("domain_name"),r("role_specification"),r("role_specification"),r("fdw_name"),r("role_specification"),r("role_specification"),r("server_name"),r("role_specification"),r("role_specification"),r("routine_name"),r("argmode"),r("arg_name"),r("arg_type"),r("schema_name"),r("role_specification"),r("role_specification"),r("lang_name"),r("role_specification"),r("role_specification"),r("loid"),r("role_specification"),r("role_specification"),r("configuration_parameter"),r("role_specification"),r("role_specification"),r("schema_name"),r("role_specification"),r("role_specification"),r("tablespace_name"),r("role_specification"),r("role_specification"),r("type_name"),r("role_specification"),r("role_specification"),r("role_name"),r("role_specification"),r("role_specification"),r("where role_specification can be:"),r("role_name"))}function $N(e){b(e,`IMPORT FOREIGN SCHEMA %s
    [ { LIMIT TO | EXCEPT } ( %s [, ...] ) ]
    FROM SERVER %s
    INTO %s
    [ OPTIONS ( %s '%s' [, ... ] ) ]`,r("remote_schema"),r("table_name"),r("server_name"),r("local_schema"),r("option"),r("value"))}function VN(e){b(e,`[ WITH [ RECURSIVE ] %s [, ...] ]
INSERT INTO %s [ AS %s ] [ ( %s [, ...] ) ]
    [ OVERRIDING { SYSTEM | USER } VALUE ]
    { DEFAULT VALUES | VALUES ( { %s | DEFAULT } [, ...] ) [, ...] | %s }
    [ ON CONFLICT [ %s ] %s ]
    [ RETURNING { * | %s [ [ AS ] %s ] } [, ...] ]

%s

    ( { %s | ( %s ) } [ COLLATE %s ] [ %s ] [, ...] ) [ WHERE %s ]
    ON CONSTRAINT %s

%s

    DO NOTHING
    DO UPDATE SET { %s = { %s | DEFAULT } |
                    ( %s [, ...] ) = [ ROW ] ( { %s | DEFAULT } [, ...] ) |
                    ( %s [, ...] ) = ( %s )
                  } [, ...]
              [ WHERE %s ]`,r("with_query"),r("table_name"),r("alias"),r("column_name"),r("expression"),r("query"),r("conflict_target"),r("conflict_action"),r("output_expression"),r("output_name"),r("where conflict_target can be one of:"),r("index_column_name"),r("index_expression"),r("collation"),r("opclass"),r("index_predicate"),r("constraint_name"),r("and conflict_action is one of:"),r("column_name"),r("expression"),r("column_name"),r("expression"),r("column_name"),r("sub-SELECT"),r("condition"))}function XN(e){b(e,"LISTEN %s",r("channel"))}function QN(e){b(e,"LOAD '%s'",r("filename"))}function KN(e){b(e,`LOCK [ TABLE ] [ ONLY ] %s [ * ] [, ...] [ IN %s MODE ] [ NOWAIT ]

%s

    ACCESS SHARE | ROW SHARE | ROW EXCLUSIVE | SHARE UPDATE EXCLUSIVE
    | SHARE | SHARE ROW EXCLUSIVE | EXCLUSIVE | ACCESS EXCLUSIVE`,r("name"),r("lockmode"),r("where lockmode is one of:"))}function zN(e){b(e,`[ WITH %s [, ...] ]
MERGE INTO [ ONLY ] %s [ * ] [ [ AS ] %s ]
USING %s ON %s
%s [...]
[ RETURNING { * | %s [ [ AS ] %s ] } [, ...] ]

%s

{ [ ONLY ] %s [ * ] | ( %s ) } [ [ AS ] %s ]

%s

{ WHEN MATCHED [ AND %s ] THEN { %s | %s | DO NOTHING } |
  WHEN NOT MATCHED BY SOURCE [ AND %s ] THEN { %s | %s | DO NOTHING } |
  WHEN NOT MATCHED [ BY TARGET ] [ AND %s ] THEN { %s | DO NOTHING } }

%s

INSERT [( %s [, ...] )]
[ OVERRIDING { SYSTEM | USER } VALUE ]
{ VALUES ( { %s | DEFAULT } [, ...] ) | DEFAULT VALUES }

%s

UPDATE SET { %s = { %s | DEFAULT } |
             ( %s [, ...] ) = [ ROW ] ( { %s | DEFAULT } [, ...] ) |
             ( %s [, ...] ) = ( %s )
           } [, ...]

%s

DELETE`,r("with_query"),r("target_table_name"),r("target_alias"),r("data_source"),r("join_condition"),r("when_clause"),r("output_expression"),r("output_name"),r("where data_source is:"),r("source_table_name"),r("source_query"),r("source_alias"),r("and when_clause is:"),r("condition"),r("merge_update"),r("merge_delete"),r("condition"),r("merge_update"),r("merge_delete"),r("condition"),r("merge_insert"),r("and merge_insert is:"),r("column_name"),r("expression"),r("and merge_update is:"),r("column_name"),r("expression"),r("column_name"),r("expression"),r("column_name"),r("sub-SELECT"),r("and merge_delete is:"))}function JN(e){b(e,`MOVE [ %s ] [ FROM | IN ] %s

%s

    NEXT
    PRIOR
    FIRST
    LAST
    ABSOLUTE %s
    RELATIVE %s
    %s
    ALL
    FORWARD
    FORWARD %s
    FORWARD ALL
    BACKWARD
    BACKWARD %s
    BACKWARD ALL`,r("direction"),r("cursor_name"),r("where direction can be one of:"),r("count"),r("count"),r("count"),r("count"),r("count"))}function ZN(e){b(e,"NOTIFY %s [ , %s ]",r("channel"),r("payload"))}function ev(e){b(e,"PREPARE %s [ ( %s [, ...] ) ] AS %s",r("name"),r("data_type"),r("statement"))}function tv(e){b(e,"PREPARE TRANSACTION %s",r("transaction_id"))}function nv(e){b(e,`REASSIGN OWNED BY { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER } [, ...]
               TO { %s | CURRENT_ROLE | CURRENT_USER | SESSION_USER }`,r("old_role"),r("new_role"))}function rv(e){b(e,`REFRESH MATERIALIZED VIEW [ CONCURRENTLY ] %s
    [ WITH [ NO ] DATA ]`,r("name"))}function sv(e){b(e,`REINDEX [ ( %s [, ...] ) ] { INDEX | TABLE | SCHEMA } [ CONCURRENTLY ] %s
REINDEX [ ( %s [, ...] ) ] { DATABASE | SYSTEM } [ CONCURRENTLY ] [ %s ]

%s

    CONCURRENTLY [ %s ]
    TABLESPACE %s
    VERBOSE [ %s ]`,r("option"),r("name"),r("option"),r("name"),r("where option can be one of:"),r("boolean"),r("new_tablespace"),r("boolean"))}function iv(e){b(e,"RELEASE [ SAVEPOINT ] %s",r("savepoint_name"))}function av(e){b(e,`RESET %s
RESET ALL`,r("configuration_parameter"))}function ov(e){b(e,`REVOKE [ GRANT OPTION FOR ]
    { { SELECT | INSERT | UPDATE | DELETE | TRUNCATE | REFERENCES | TRIGGER | MAINTAIN }
    [, ...] | ALL [ PRIVILEGES ] }
    ON { [ TABLE ] %s [, ...]
         | ALL TABLES IN SCHEMA %s [, ...] }
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { { SELECT | INSERT | UPDATE | REFERENCES } ( %s [, ...] )
    [, ...] | ALL [ PRIVILEGES ] ( %s [, ...] ) }
    ON [ TABLE ] %s [, ...]
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { { USAGE | SELECT | UPDATE }
    [, ...] | ALL [ PRIVILEGES ] }
    ON { SEQUENCE %s [, ...]
         | ALL SEQUENCES IN SCHEMA %s [, ...] }
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { { CREATE | CONNECT | TEMPORARY | TEMP } [, ...] | ALL [ PRIVILEGES ] }
    ON DATABASE %s [, ...]
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { USAGE | ALL [ PRIVILEGES ] }
    ON DOMAIN %s [, ...]
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { USAGE | ALL [ PRIVILEGES ] }
    ON FOREIGN DATA WRAPPER %s [, ...]
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { USAGE | ALL [ PRIVILEGES ] }
    ON FOREIGN SERVER %s [, ...]
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { EXECUTE | ALL [ PRIVILEGES ] }
    ON { { FUNCTION | PROCEDURE | ROUTINE } %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] [, ...]
         | ALL { FUNCTIONS | PROCEDURES | ROUTINES } IN SCHEMA %s [, ...] }
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { USAGE | ALL [ PRIVILEGES ] }
    ON LANGUAGE %s [, ...]
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { { SELECT | UPDATE } [, ...] | ALL [ PRIVILEGES ] }
    ON LARGE OBJECT %s [, ...]
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { { SET | ALTER SYSTEM } [, ...] | ALL [ PRIVILEGES ] }
    ON PARAMETER %s [, ...]
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { { CREATE | USAGE } [, ...] | ALL [ PRIVILEGES ] }
    ON SCHEMA %s [, ...]
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { CREATE | ALL [ PRIVILEGES ] }
    ON TABLESPACE %s [, ...]
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ GRANT OPTION FOR ]
    { USAGE | ALL [ PRIVILEGES ] }
    ON TYPE %s [, ...]
    FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

REVOKE [ { ADMIN | INHERIT | SET } OPTION FOR ]
    %s [, ...] FROM %s [, ...]
    [ GRANTED BY %s ]
    [ CASCADE | RESTRICT ]

%s

    [ GROUP ] %s
  | PUBLIC
  | CURRENT_ROLE
  | CURRENT_USER
  | SESSION_USER`,r("table_name"),r("schema_name"),r("role_specification"),r("role_specification"),r("column_name"),r("column_name"),r("table_name"),r("role_specification"),r("role_specification"),r("sequence_name"),r("schema_name"),r("role_specification"),r("role_specification"),r("database_name"),r("role_specification"),r("role_specification"),r("domain_name"),r("role_specification"),r("role_specification"),r("fdw_name"),r("role_specification"),r("role_specification"),r("server_name"),r("role_specification"),r("role_specification"),r("function_name"),r("argmode"),r("arg_name"),r("arg_type"),r("schema_name"),r("role_specification"),r("role_specification"),r("lang_name"),r("role_specification"),r("role_specification"),r("loid"),r("role_specification"),r("role_specification"),r("configuration_parameter"),r("role_specification"),r("role_specification"),r("schema_name"),r("role_specification"),r("role_specification"),r("tablespace_name"),r("role_specification"),r("role_specification"),r("type_name"),r("role_specification"),r("role_specification"),r("role_name"),r("role_specification"),r("role_specification"),r("where role_specification can be:"),r("role_name"))}function cv(e){b(e,"ROLLBACK [ WORK | TRANSACTION ] [ AND [ NO ] CHAIN ]")}function lv(e){b(e,"ROLLBACK PREPARED %s",r("transaction_id"))}function uv(e){b(e,"ROLLBACK [ WORK | TRANSACTION ] TO [ SAVEPOINT ] %s",r("savepoint_name"))}function pv(e){b(e,"SAVEPOINT %s",r("savepoint_name"))}function dv(e){b(e,`SECURITY LABEL [ FOR %s ] ON
{
  TABLE %s |
  COLUMN %s.%s |
  AGGREGATE %s ( %s ) |
  DATABASE %s |
  DOMAIN %s |
  EVENT TRIGGER %s |
  FOREIGN TABLE %s |
  FUNCTION %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] |
  LARGE OBJECT %s |
  MATERIALIZED VIEW %s |
  [ PROCEDURAL ] LANGUAGE %s |
  PROCEDURE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] |
  PUBLICATION %s |
  ROLE %s |
  ROUTINE %s [ ( [ [ %s ] [ %s ] %s [, ...] ] ) ] |
  SCHEMA %s |
  SEQUENCE %s |
  SUBSCRIPTION %s |
  TABLESPACE %s |
  TYPE %s |
  VIEW %s
} IS { %s | NULL }

%s

* |
[ %s ] [ %s ] %s [ , ... ] |
[ [ %s ] [ %s ] %s [ , ... ] ] ORDER BY [ %s ] [ %s ] %s [ , ... ]`,r("provider"),r("object_name"),r("table_name"),r("column_name"),r("aggregate_name"),r("aggregate_signature"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("function_name"),r("argmode"),r("argname"),r("argtype"),r("large_object_oid"),r("object_name"),r("object_name"),r("procedure_name"),r("argmode"),r("argname"),r("argtype"),r("object_name"),r("object_name"),r("routine_name"),r("argmode"),r("argname"),r("argtype"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("object_name"),r("string_literal"),r("where aggregate_signature is:"),r("argmode"),r("argname"),r("argtype"),r("argmode"),r("argname"),r("argtype"),r("argmode"),r("argname"),r("argtype"))}function fv(e){b(e,`[ WITH [ RECURSIVE ] %s [, ...] ]
SELECT [ ALL | DISTINCT [ ON ( %s [, ...] ) ] ]
    [ { * | %s [ [ AS ] %s ] } [, ...] ]
    [ FROM %s [, ...] ]
    [ WHERE %s ]
    [ GROUP BY [ ALL | DISTINCT ] %s [, ...] ]
    [ HAVING %s ]
    [ WINDOW %s AS ( %s ) [, ...] ]
    [ { UNION | INTERSECT | EXCEPT } [ ALL | DISTINCT ] %s ]
    [ ORDER BY %s [ ASC | DESC | USING %s ] [ NULLS { FIRST | LAST } ] [, ...] ]
    [ LIMIT { %s | ALL } ]
    [ OFFSET %s [ ROW | ROWS ] ]
    [ FETCH { FIRST | NEXT } [ %s ] { ROW | ROWS } { ONLY | WITH TIES } ]
    [ FOR { UPDATE | NO KEY UPDATE | SHARE | KEY SHARE } [ OF %s [, ...] ] [ NOWAIT | SKIP LOCKED ] [...] ]

%s

    [ ONLY ] %s [ * ] [ [ AS ] %s [ ( %s [, ...] ) ] ]
                [ TABLESAMPLE %s ( %s [, ...] ) [ REPEATABLE ( %s ) ] ]
    [ LATERAL ] ( %s ) [ [ AS ] %s [ ( %s [, ...] ) ] ]
    %s [ [ AS ] %s [ ( %s [, ...] ) ] ]
    [ LATERAL ] %s ( [ %s [, ...] ] )
                [ WITH ORDINALITY ] [ [ AS ] %s [ ( %s [, ...] ) ] ]
    [ LATERAL ] %s ( [ %s [, ...] ] ) [ AS ] %s ( %s [, ...] )
    [ LATERAL ] %s ( [ %s [, ...] ] ) AS ( %s [, ...] )
    [ LATERAL ] ROWS FROM( %s ( [ %s [, ...] ] ) [ AS ( %s [, ...] ) ] [, ...] )
                [ WITH ORDINALITY ] [ [ AS ] %s [ ( %s [, ...] ) ] ]
    %s %s %s { ON %s | USING ( %s [, ...] ) [ AS %s ] }
    %s NATURAL %s %s
    %s CROSS JOIN %s

%s

    ( )
    %s
    ( %s [, ...] )
    ROLLUP ( { %s | ( %s [, ...] ) } [, ...] )
    CUBE ( { %s | ( %s [, ...] ) } [, ...] )
    GROUPING SETS ( %s [, ...] )

%s

    %s [ ( %s [, ...] ) ] AS [ [ NOT ] MATERIALIZED ] ( %s | %s | %s | %s | %s | %s )
        [ SEARCH { BREADTH | DEPTH } FIRST BY %s [, ...] SET %s ]
        [ CYCLE %s [, ...] SET %s [ TO %s DEFAULT %s ] USING %s ]

TABLE [ ONLY ] %s [ * ]`,r("with_query"),r("expression"),r("expression"),r("output_name"),r("from_item"),r("condition"),r("grouping_element"),r("condition"),r("window_name"),r("window_definition"),r("select"),r("expression"),r("operator"),r("count"),r("start"),r("count"),r("from_reference"),r("where from_item can be one of:"),r("table_name"),r("alias"),r("column_alias"),r("sampling_method"),r("argument"),r("seed"),r("select"),r("alias"),r("column_alias"),r("with_query_name"),r("alias"),r("column_alias"),r("function_name"),r("argument"),r("alias"),r("column_alias"),r("function_name"),r("argument"),r("alias"),r("column_definition"),r("function_name"),r("argument"),r("column_definition"),r("function_name"),r("argument"),r("column_definition"),r("alias"),r("column_alias"),r("from_item"),r("join_type"),r("from_item"),r("join_condition"),r("join_column"),r("join_using_alias"),r("from_item"),r("join_type"),r("from_item"),r("from_item"),r("from_item"),r("and grouping_element can be one of:"),r("expression"),r("expression"),r("expression"),r("expression"),r("expression"),r("expression"),r("grouping_element"),r("and with_query is:"),r("with_query_name"),r("column_name"),r("select"),r("values"),r("insert"),r("update"),r("delete"),r("merge"),r("column_name"),r("search_seq_col_name"),r("column_name"),r("cycle_mark_col_name"),r("cycle_mark_value"),r("cycle_mark_default"),r("cycle_path_col_name"),r("table_name"))}function Ev(e){b(e,`[ WITH [ RECURSIVE ] %s [, ...] ]
SELECT [ ALL | DISTINCT [ ON ( %s [, ...] ) ] ]
    [ { * | %s [ [ AS ] %s ] } [, ...] ]
    INTO [ TEMPORARY | TEMP | UNLOGGED ] [ TABLE ] %s
    [ FROM %s [, ...] ]
    [ WHERE %s ]
    [ GROUP BY %s [, ...] ]
    [ HAVING %s ]
    [ WINDOW %s AS ( %s ) [, ...] ]
    [ { UNION | INTERSECT | EXCEPT } [ ALL | DISTINCT ] %s ]
    [ ORDER BY %s [ ASC | DESC | USING %s ] [ NULLS { FIRST | LAST } ] [, ...] ]
    [ LIMIT { %s | ALL } ]
    [ OFFSET %s [ ROW | ROWS ] ]
    [ FETCH { FIRST | NEXT } [ %s ] { ROW | ROWS } ONLY ]
    [ FOR { UPDATE | SHARE } [ OF %s [, ...] ] [ NOWAIT ] [...] ]`,r("with_query"),r("expression"),r("expression"),r("output_name"),r("new_table"),r("from_item"),r("condition"),r("expression"),r("condition"),r("window_name"),r("window_definition"),r("select"),r("expression"),r("operator"),r("count"),r("start"),r("count"),r("table_name"))}function hv(e){b(e,`SET [ SESSION | LOCAL ] %s { TO | = } { %s | '%s' | DEFAULT }
SET [ SESSION | LOCAL ] TIME ZONE { %s | '%s' | LOCAL | DEFAULT }`,r("configuration_parameter"),r("value"),r("value"),r("value"),r("value"))}function gv(e){b(e,"SET CONSTRAINTS { ALL | %s [, ...] } { DEFERRED | IMMEDIATE }",r("name"))}function mv(e){b(e,`SET [ SESSION | LOCAL ] ROLE %s
SET [ SESSION | LOCAL ] ROLE NONE
RESET ROLE`,r("role_name"))}function _v(e){b(e,`SET [ SESSION | LOCAL ] SESSION AUTHORIZATION %s
SET [ SESSION | LOCAL ] SESSION AUTHORIZATION DEFAULT
RESET SESSION AUTHORIZATION`,r("user_name"))}function Tv(e){b(e,`SET TRANSACTION %s [, ...]
SET TRANSACTION SNAPSHOT %s
SET SESSION CHARACTERISTICS AS TRANSACTION %s [, ...]

%s

    ISOLATION LEVEL { SERIALIZABLE | REPEATABLE READ | READ COMMITTED | READ UNCOMMITTED }
    READ WRITE | READ ONLY
    [ NOT ] DEFERRABLE`,r("transaction_mode"),r("snapshot_id"),r("transaction_mode"),r("where transaction_mode is one of:"))}function Sv(e){b(e,`SHOW %s
SHOW ALL`,r("name"))}function Rv(e){b(e,`START TRANSACTION [ %s [, ...] ]

%s

    ISOLATION LEVEL { SERIALIZABLE | REPEATABLE READ | READ COMMITTED | READ UNCOMMITTED }
    READ WRITE | READ ONLY
    [ NOT ] DEFERRABLE`,r("transaction_mode"),r("where transaction_mode is one of:"))}function Av(e){b(e,`[ WITH [ RECURSIVE ] %s [, ...] ]
SELECT [ ALL | DISTINCT [ ON ( %s [, ...] ) ] ]
    [ { * | %s [ [ AS ] %s ] } [, ...] ]
    [ FROM %s [, ...] ]
    [ WHERE %s ]
    [ GROUP BY [ ALL | DISTINCT ] %s [, ...] ]
    [ HAVING %s ]
    [ WINDOW %s AS ( %s ) [, ...] ]
    [ { UNION | INTERSECT | EXCEPT } [ ALL | DISTINCT ] %s ]
    [ ORDER BY %s [ ASC | DESC | USING %s ] [ NULLS { FIRST | LAST } ] [, ...] ]
    [ LIMIT { %s | ALL } ]
    [ OFFSET %s [ ROW | ROWS ] ]
    [ FETCH { FIRST | NEXT } [ %s ] { ROW | ROWS } { ONLY | WITH TIES } ]
    [ FOR { UPDATE | NO KEY UPDATE | SHARE | KEY SHARE } [ OF %s [, ...] ] [ NOWAIT | SKIP LOCKED ] [...] ]

%s

    [ ONLY ] %s [ * ] [ [ AS ] %s [ ( %s [, ...] ) ] ]
                [ TABLESAMPLE %s ( %s [, ...] ) [ REPEATABLE ( %s ) ] ]
    [ LATERAL ] ( %s ) [ [ AS ] %s [ ( %s [, ...] ) ] ]
    %s [ [ AS ] %s [ ( %s [, ...] ) ] ]
    [ LATERAL ] %s ( [ %s [, ...] ] )
                [ WITH ORDINALITY ] [ [ AS ] %s [ ( %s [, ...] ) ] ]
    [ LATERAL ] %s ( [ %s [, ...] ] ) [ AS ] %s ( %s [, ...] )
    [ LATERAL ] %s ( [ %s [, ...] ] ) AS ( %s [, ...] )
    [ LATERAL ] ROWS FROM( %s ( [ %s [, ...] ] ) [ AS ( %s [, ...] ) ] [, ...] )
                [ WITH ORDINALITY ] [ [ AS ] %s [ ( %s [, ...] ) ] ]
    %s %s %s { ON %s | USING ( %s [, ...] ) [ AS %s ] }
    %s NATURAL %s %s
    %s CROSS JOIN %s

%s

    ( )
    %s
    ( %s [, ...] )
    ROLLUP ( { %s | ( %s [, ...] ) } [, ...] )
    CUBE ( { %s | ( %s [, ...] ) } [, ...] )
    GROUPING SETS ( %s [, ...] )

%s

    %s [ ( %s [, ...] ) ] AS [ [ NOT ] MATERIALIZED ] ( %s | %s | %s | %s | %s | %s )
        [ SEARCH { BREADTH | DEPTH } FIRST BY %s [, ...] SET %s ]
        [ CYCLE %s [, ...] SET %s [ TO %s DEFAULT %s ] USING %s ]

TABLE [ ONLY ] %s [ * ]`,r("with_query"),r("expression"),r("expression"),r("output_name"),r("from_item"),r("condition"),r("grouping_element"),r("condition"),r("window_name"),r("window_definition"),r("select"),r("expression"),r("operator"),r("count"),r("start"),r("count"),r("from_reference"),r("where from_item can be one of:"),r("table_name"),r("alias"),r("column_alias"),r("sampling_method"),r("argument"),r("seed"),r("select"),r("alias"),r("column_alias"),r("with_query_name"),r("alias"),r("column_alias"),r("function_name"),r("argument"),r("alias"),r("column_alias"),r("function_name"),r("argument"),r("alias"),r("column_definition"),r("function_name"),r("argument"),r("column_definition"),r("function_name"),r("argument"),r("column_definition"),r("alias"),r("column_alias"),r("from_item"),r("join_type"),r("from_item"),r("join_condition"),r("join_column"),r("join_using_alias"),r("from_item"),r("join_type"),r("from_item"),r("from_item"),r("from_item"),r("and grouping_element can be one of:"),r("expression"),r("expression"),r("expression"),r("expression"),r("expression"),r("expression"),r("grouping_element"),r("and with_query is:"),r("with_query_name"),r("column_name"),r("select"),r("values"),r("insert"),r("update"),r("delete"),r("merge"),r("column_name"),r("search_seq_col_name"),r("column_name"),r("cycle_mark_col_name"),r("cycle_mark_value"),r("cycle_mark_default"),r("cycle_path_col_name"),r("table_name"))}function yv(e){b(e,`TRUNCATE [ TABLE ] [ ONLY ] %s [ * ] [, ... ]
    [ RESTART IDENTITY | CONTINUE IDENTITY ] [ CASCADE | RESTRICT ]`,r("name"))}function Nv(e){b(e,"UNLISTEN { %s | * }",r("channel"))}function vv(e){b(e,`[ WITH [ RECURSIVE ] %s [, ...] ]
UPDATE [ ONLY ] %s [ * ] [ [ AS ] %s ]
    SET { %s = { %s | DEFAULT } |
          ( %s [, ...] ) = [ ROW ] ( { %s | DEFAULT } [, ...] ) |
          ( %s [, ...] ) = ( %s )
        } [, ...]
    [ FROM %s [, ...] ]
    [ WHERE %s | WHERE CURRENT OF %s ]
    [ RETURNING { * | %s [ [ AS ] %s ] } [, ...] ]`,r("with_query"),r("table_name"),r("alias"),r("column_name"),r("expression"),r("column_name"),r("expression"),r("column_name"),r("sub-SELECT"),r("from_item"),r("condition"),r("cursor_name"),r("output_expression"),r("output_name"))}function Iv(e){b(e,`VACUUM [ ( %s [, ...] ) ] [ %s [, ...] ]

%s

    FULL [ %s ]
    FREEZE [ %s ]
    VERBOSE [ %s ]
    ANALYZE [ %s ]
    DISABLE_PAGE_SKIPPING [ %s ]
    SKIP_LOCKED [ %s ]
    INDEX_CLEANUP { AUTO | ON | OFF }
    PROCESS_MAIN [ %s ]
    PROCESS_TOAST [ %s ]
    TRUNCATE [ %s ]
    PARALLEL %s
    SKIP_DATABASE_STATS [ %s ]
    ONLY_DATABASE_STATS [ %s ]
    BUFFER_USAGE_LIMIT %s

%s

    %s [ ( %s [, ...] ) ]`,r("option"),r("table_and_columns"),r("where option can be one of:"),r("boolean"),r("boolean"),r("boolean"),r("boolean"),r("boolean"),r("boolean"),r("boolean"),r("boolean"),r("boolean"),r("integer"),r("boolean"),r("boolean"),r("size"),r("and table_and_columns is:"),r("table_name"),r("column_name"))}function Ov(e){b(e,`VALUES ( %s [, ...] ) [, ...]
    [ ORDER BY %s [ ASC | DESC | USING %s ] [, ...] ]
    [ LIMIT { %s | ALL } ]
    [ OFFSET %s [ ROW | ROWS ] ]
    [ FETCH { FIRST | NEXT } [ %s ] { ROW | ROWS } ONLY ]`,r("expression"),r("sort_expression"),r("operator"),r("count"),r("start"),r("count"))}function bv(e){b(e,`[ WITH [ RECURSIVE ] %s [, ...] ]
SELECT [ ALL | DISTINCT [ ON ( %s [, ...] ) ] ]
    [ { * | %s [ [ AS ] %s ] } [, ...] ]
    [ FROM %s [, ...] ]
    [ WHERE %s ]
    [ GROUP BY [ ALL | DISTINCT ] %s [, ...] ]
    [ HAVING %s ]
    [ WINDOW %s AS ( %s ) [, ...] ]
    [ { UNION | INTERSECT | EXCEPT } [ ALL | DISTINCT ] %s ]
    [ ORDER BY %s [ ASC | DESC | USING %s ] [ NULLS { FIRST | LAST } ] [, ...] ]
    [ LIMIT { %s | ALL } ]
    [ OFFSET %s [ ROW | ROWS ] ]
    [ FETCH { FIRST | NEXT } [ %s ] { ROW | ROWS } { ONLY | WITH TIES } ]
    [ FOR { UPDATE | NO KEY UPDATE | SHARE | KEY SHARE } [ OF %s [, ...] ] [ NOWAIT | SKIP LOCKED ] [...] ]

%s

    [ ONLY ] %s [ * ] [ [ AS ] %s [ ( %s [, ...] ) ] ]
                [ TABLESAMPLE %s ( %s [, ...] ) [ REPEATABLE ( %s ) ] ]
    [ LATERAL ] ( %s ) [ [ AS ] %s [ ( %s [, ...] ) ] ]
    %s [ [ AS ] %s [ ( %s [, ...] ) ] ]
    [ LATERAL ] %s ( [ %s [, ...] ] )
                [ WITH ORDINALITY ] [ [ AS ] %s [ ( %s [, ...] ) ] ]
    [ LATERAL ] %s ( [ %s [, ...] ] ) [ AS ] %s ( %s [, ...] )
    [ LATERAL ] %s ( [ %s [, ...] ] ) AS ( %s [, ...] )
    [ LATERAL ] ROWS FROM( %s ( [ %s [, ...] ] ) [ AS ( %s [, ...] ) ] [, ...] )
                [ WITH ORDINALITY ] [ [ AS ] %s [ ( %s [, ...] ) ] ]
    %s %s %s { ON %s | USING ( %s [, ...] ) [ AS %s ] }
    %s NATURAL %s %s
    %s CROSS JOIN %s

%s

    ( )
    %s
    ( %s [, ...] )
    ROLLUP ( { %s | ( %s [, ...] ) } [, ...] )
    CUBE ( { %s | ( %s [, ...] ) } [, ...] )
    GROUPING SETS ( %s [, ...] )

%s

    %s [ ( %s [, ...] ) ] AS [ [ NOT ] MATERIALIZED ] ( %s | %s | %s | %s | %s | %s )
        [ SEARCH { BREADTH | DEPTH } FIRST BY %s [, ...] SET %s ]
        [ CYCLE %s [, ...] SET %s [ TO %s DEFAULT %s ] USING %s ]

TABLE [ ONLY ] %s [ * ]`,r("with_query"),r("expression"),r("expression"),r("output_name"),r("from_item"),r("condition"),r("grouping_element"),r("condition"),r("window_name"),r("window_definition"),r("select"),r("expression"),r("operator"),r("count"),r("start"),r("count"),r("from_reference"),r("where from_item can be one of:"),r("table_name"),r("alias"),r("column_alias"),r("sampling_method"),r("argument"),r("seed"),r("select"),r("alias"),r("column_alias"),r("with_query_name"),r("alias"),r("column_alias"),r("function_name"),r("argument"),r("alias"),r("column_alias"),r("function_name"),r("argument"),r("alias"),r("column_definition"),r("function_name"),r("argument"),r("column_definition"),r("function_name"),r("argument"),r("column_definition"),r("alias"),r("column_alias"),r("from_item"),r("join_type"),r("from_item"),r("join_condition"),r("join_column"),r("join_using_alias"),r("from_item"),r("join_type"),r("from_item"),r("from_item"),r("from_item"),r("and grouping_element can be one of:"),r("expression"),r("expression"),r("expression"),r("expression"),r("expression"),r("expression"),r("grouping_element"),r("and with_query is:"),r("with_query_name"),r("column_name"),r("select"),r("values"),r("insert"),r("update"),r("delete"),r("merge"),r("column_name"),r("search_seq_col_name"),r("column_name"),r("cycle_mark_col_name"),r("cycle_mark_value"),r("cycle_mark_default"),r("cycle_path_col_name"),r("table_name"))}const Lv=30,Cv=10;function wv(){const e=window.innerWidth;return Math.floor(e/Cv)}function Dv(e,t){const n=Math.max(Math.floor((t-e.length)/2),1);return(" ".repeat(n)+e+" ".repeat(n)+(n===(t-e.length)/2?"":" ")).slice(0,t)}function ml(e,t){return(e+" ".repeat(Math.max(t-e.length,1))).slice(0,t)}function Pv(e,t){return(" ".repeat(Math.max(t-e.length,1))+e).slice(0,t)}class _l{constructor(t){this.title=t}width(){return this.title.length+2}}class Uv{constructor(t){Be(this,"strValue");this.value=t,this.strValue=typeof t=="string"?t:t instanceof Date?t.toISOString():JSON.stringify(t),this.strValue=this.strValue.replace(/\n/g," ")}width(){return this.strValue.length}span(t){return Math.ceil((this.strValue.length+2)/t)}print(t){return typeof this.value=="number"?Pv(this.strValue,t):ml(this.strValue,t)}getLine(t,n){return this.span(n)===1?t===0?this.print(n):" ".repeat(n):ml(this.strValue.slice(t*n,(t+1)*n),n)}}class Mv{constructor(){Be(this,"cells",[])}}class Fv{constructor(){Be(this,"columns",[]);Be(this,"rows",[])}addColumn(t){this.columns.push(new _l(t))}addRow(){const t=new Mv;return this.rows.push(t),{addCell:n=>{const s=new Uv(n),i=t.cells.push(s)-1;this.columns[i]||(this.columns[i]=new _l("?column?"))}}}*print(){const t=Math.max(Lv,wv()/this.columns.length-1),n=this.columns.map(s=>Math.min(s.width(),t));for(const s of this.rows)for(let i=0;i<s.cells.length;i++){const a=s.cells[i];n[i]=Math.min(Math.max(n[i],a.width()),t)}yield this.columns.map((s,i)=>Dv(s.title,n[i])).join("|"),yield this.columns.map((s,i)=>"-".repeat(n[i])).join("|");for(const s of this.rows){let i=1,a=[];for(let o=0;o<s.cells.length;o++){const c=n[o],l=s.cells[o];i=Math.max(i,s.cells[o].span(c)),a.push(l.getLine(0,c))}yield a.join("|");for(let o=1;o<i;o++){a=[];for(let c=0;c<s.cells.length;c++)a.push(s.cells[c].getLine(o,n[c]));yield a.join("|")}yield this.columns.map((o,c)=>"-".repeat(n[c])).join("|")}yield`(${this.rows.length} row${this.rows.length===1?"":"s"})`}}const xv=e=>{const t=new Fv;for(const n of e.fields)t.addColumn(n.name);for(const n of e.rows){const s=t.addRow();for(const i of n)s.addCell(i)}return t.print()};async function*kv(e,t,n){const s=await e.connect();if(s.on("error",c=>{console.log("Unexpected error on client",c)}),t.startsWith("\\")){let c="";const{rows:[l]}=await s.query("select current_database()"),{rows:[E]}=await s.query("show server_version_num"),{rows:[h]}=await s.query("show standard_conforming_strings"),{promise:g}=KR(t.replace(/;$/,""),l.current_database,S=>s.query({text:S,rowMode:"array"}),S=>{tt.track("bslash_command",{command:t}),c+=QR(S)},!1,E.server_version_num,h.standard_conforming_strings==="on",S=>`https://neon.tech/docs/postgres/${S}`);await g;for(const S of c.split(`
`))yield S;return}const i=await s.query({rowMode:"array",text:t}),{rows:[a]}=await s.query("select now() = statement_timestamp() as is_not_transaction");n(!a.is_not_transaction);const o=Array.isArray(i)?i:[i];for(let c=0;c<o.length;c++){const l=o[c];if(l.fields.length===0){yield l.command||"Query returned no results";continue}for(const E of xv(l))yield E;c<o.length-1&&(yield"")}s.release()}class Hv{constructor(t){Be(this,"cursorPosition",0);Be(this,"callbacks",{});this.inputNode=t}trigger(t,...n){var s;(s=this.callbacks[t])==null||s.forEach(i=>i(...n))}on(t,n){this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n)}off(t,n){var s;this.callbacks[t]=(s=this.callbacks[t])==null?void 0:s.filter(i=>i!==n)}resetText(t){this.inputNode.value=t,this.cursorPosition=t.length,this.inputNode.setSelectionRange(this.cursorPosition,this.cursorPosition)}focus(){this.inputNode.focus()}init(){this.inputNode.addEventListener("keydown",async t=>{t.key==="ArrowLeft"?(t.preventDefault(),this.cursorPosition=Math.max(0,this.cursorPosition-1),this.inputNode.setSelectionRange(this.cursorPosition,this.cursorPosition),this.trigger("left",this.cursorPosition)):t.key==="ArrowRight"?(t.preventDefault(),this.cursorPosition=Math.min(this.inputNode.value.length,this.cursorPosition+1),this.inputNode.setSelectionRange(this.cursorPosition,this.cursorPosition),this.trigger("right",this.cursorPosition)):t.key==="ArrowUp"?(t.preventDefault(),this.trigger("up")):t.key==="ArrowDown"&&(t.preventDefault(),this.trigger("down"))}),this.inputNode.addEventListener("input",async t=>{t.preventDefault(),t.inputType==="insertLineBreak"?this.trigger("enter",this.inputNode.value):t.inputType==="deleteContentBackward"?(this.cursorPosition=Math.max(0,this.cursorPosition-1),this.trigger("inputChange",this.inputNode.value,this.cursorPosition)):(t.inputType==="insertText"||t.inputType==="insertCompositionText")&&(this.cursorPosition++,this.trigger("inputChange",this.inputNode.value,this.cursorPosition))}),this.inputNode.addEventListener("paste",async t=>{var s;t.preventDefault();const n=(s=t.clipboardData)==null?void 0:s.getData("text");n&&(this.inputNode.value=this.inputNode.value.slice(0,this.cursorPosition)+n+this.inputNode.value.slice(this.cursorPosition),this.cursorPosition+=n.length,this.trigger("inputChange",this.inputNode.value,this.cursorPosition))}),this.inputNode.focus()}}class Bv{constructor(t,n,s){Be(this,"currentIndex",0);Be(this,"selectNode");Be(this,"onChoice");Be(this,"disabled",!1);Be(this,"onUp",()=>{this.currentIndex>0&&(this.currentIndex--,this.render())});Be(this,"onDown",()=>{this.currentIndex<this.options.length-1&&(this.currentIndex++,this.render())});Be(this,"onEnter",()=>{this.onChoice&&!this.disabled&&this.onChoice(this.options[this.currentIndex])});if(this.appNode=t,this.inputManager=n,this.options=s,s.length===0)throw new Error("No options provided");this.selectNode=document.createElement("div"),this.selectNode.classList.add("select"),this.appNode.appendChild(this.selectNode)}async pickOption(){return this.selectNode.innerHTML="",this.options.forEach((t,n)=>{const s=document.createElement("div");s.classList.add("option"),s.dataset.index=n.toString(),this.selectNode.appendChild(s);const i=document.createElement("div");if(i.classList.add("option-value"),i.textContent=t.value,s.appendChild(i),t.description){const o=document.createElement("div");o.classList.add("option-description"),o.innerHTML=t.description,s.appendChild(o)}const a=()=>{this.onChoice&&!this.disabled&&(this.currentIndex=n,this.render(),this.onChoice(t))};i.addEventListener("click",a)}),this.registerHandlers(),this.render(),new Promise(t=>{this.onChoice=n=>{this.unregisterHandlers(),t(n)}})}registerHandlers(){this.inputManager.on("up",this.onUp),this.inputManager.on("down",this.onDown),this.inputManager.on("enter",this.onEnter)}unregisterHandlers(){this.inputManager.off("up",this.onUp),this.inputManager.off("down",this.onDown),this.inputManager.off("enter",this.onEnter)}render(){this.selectNode.querySelectorAll(".option").forEach((n,s)=>{s===this.currentIndex?n.classList.add("option-selected"):n.classList.remove("option-selected")})}destroy(){this.unregisterHandlers(),this.selectNode.remove()}disable(){this.disabled=!0}}function Wv(e){return e instanceof Error&&"code"in e?e.code==="XX000":!1}class Gv{constructor(t,n){Be(this,"termWrapper");Be(this,"inputManager");Be(this,"sourceBranch");this.appMode=t,this.appNode=n;const s=document.createElement("textarea");s.classList.add("terminal-input-hidden"),s.setAttribute("tabindex","-1"),n.addEventListener("click",()=>{var a;const i=document.getSelection();i&&i.rangeCount>0&&!((a=i==null?void 0:i.getRangeAt(0))!=null&&a.collapsed)||setTimeout(()=>{s.focus()},1)}),document.body.addEventListener("keydown",i=>{var o;const a=document.getSelection();a&&a.rangeCount>0&&!((o=a==null?void 0:a.getRangeAt(0))!=null&&o.collapsed)&&!(i.ctrlKey||i.metaKey)&&s.focus()}),n.appendChild(s),this.inputManager=new Hv(s),this.termWrapper=new PR(n,this.inputManager),document.getElementById("info").addEventListener("click",()=>{this.showBanner()}),document.getElementById("back").addEventListener("click",()=>this.hideBanner()),document.addEventListener("keydown",i=>{i.key==="Escape"&&this.hideBanner()})}async startConnection(){const{termWrapper:t}=this;t.hideCursor(),t.addLine(),t.writeln("Starting the database connection..."),t.addLine();let n;try{n=(await ca.issueDatabase({sourceBranch:this.sourceBranch})).connectionString}catch(o){const c=o.message;t.writeln(`ERROR: ${c}`),tt.track("database_issue_error",{message:c}),console.log("Error:",o);return}const s=new DR({connectionString:n});s.on("error",o=>{console.log("Unexpected error on idle client",o)}),tt.track("database_issued");try{const o=await s.connect();o.on("error",l=>{console.log("Unexpected error on client",l)});const{rows:c}=await o.query("show server_version");c.length===0&&t.writeln("Something went wrong. Please try again."),t.write("psql (Neon, server "),t.write(c[0].server_version,gr.Green),t.writeln(")"),o.release()}catch(o){const c=o.message;t.writeln(`ERROR: ${c}`),tt.track("database_connection_error",{message:c}),console.log("Error:",o);return}tt.track("database_connected"),t.writeln('Type "\\?" for help.'),t.writeln('You can also type "\\ai &lt;your query description&gt;" to generate SQL with AI.'),t.addLine();let i=!1;const a=async o=>{t.hideCursor();let c=1e3;for await(const l of kv(s,o,E=>{i=E}))if(t.writeln(l),c--<=0){t.writeln("Result is too large. Showing only the first 1000 lines.");break}};for(;;){t.startPromptMode(`neondb=${i?"*":""}> `),t.showCursor();const o=await t.waitLine();tt.track("query_started"),t.stopPromptMode(),t.addLine();try{if(o==="\\q")this.showBanner();else if(o.startsWith("\\ai ")){tt.track("ai_query_started");const c=await ca.textToSql({text:o.slice(4)});if(c.startsWith("SQL: ")){const l=c.slice(5);t.addLine(),t.write("Generated SQL: `"),t.writeChunks(t.wrapSql(l)),t.writeln("`"),t.addLine(),await a(l),tt.track("ai_query_finished")}else c.startsWith("ERROR: ")?(t.writeln(c,gr.Red),tt.track("ai_query_error",{error:c.slice(0,100)})):(t.writeln("Sorry, we were unable to successfully convert your prompt to SQL."),tt.track("ai_query_error",{error:c}))}else await a(o),tt.track("query_finished")}catch(c){const l=c;if(t.write("ERROR: ",gr.Red),t.writeln(l.message),l.hint&&(t.write("HINT: ",gr.Yellow),t.writeln(l.hint)),tt.track("query_error",{message:l.message,code:l.code}),Wv(c)){t.writeln("To start a new connection, press Enter");return}"code"in l||Ha(c)}finally{t.addLine()}}}async pickTemplate(){var i;const t=await ca.listTemplates(),n=new Bv(this.appNode,this.inputManager,t.map(({name:a,description:o})=>({value:a,description:o}))),s=await n.pickOption();this.sourceBranch=(i=t.find(a=>a.name===s.value))==null?void 0:i.branch,tt.track("template_selected",{template:s.value}),n.disable()}async start(){const{termWrapper:t,inputManager:n}=this;for(n.init(),t.init(),this.appMode==="templates"?(t.writeln("Welcome to Neon! To start, select a dataset:"),await this.pickTemplate()):(t.write("Welcome to Neon! To start, press Enter"),t.showCursor(),await t.waitLine());;){tt.track("new_connection");try{await this.startConnection()}catch(s){Ha(s)}await t.waitLine()}}showBanner(){tt.track("info_banner_shown"),document.body.classList.add("banner-visible")}hideBanner(){document.body.classList.contains("banner-visible")&&(tt.track("info_banner_hidden"),document.body.classList.remove("banner-visible"),this.inputManager.focus())}}const qv="templates",Xp=new Gv(qv,document.getElementById("app"));Xp.start();window.app=Xp;document.querySelectorAll(".signup").forEach(e=>{e.addEventListener("click",()=>{tt.track("signup_clicked")})});document.querySelectorAll(".github-link").forEach(e=>e.addEventListener("click",()=>{tt.track("github_clicked")}));export{Rr as C,eo as P,de as _,fe as a,rt as b,ne as c,Jl as d,Rn as e,jv as f,Vv as g,xt as h,ps as i,Sl as j,so as k,Ki as l,DE as m,os as n,Vd as o,RE as p,cn as q,qs as r,Ft as s,Cd as t,Xv as u,PE as v,$v as w};
//# sourceMappingURL=index-as7EEMkH.js.map
