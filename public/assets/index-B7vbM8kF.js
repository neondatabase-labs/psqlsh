import{c as u}from"./index-as7EEMkH.js";import{i as d}from"./is-plan-event-enabled-DZPL-m0P.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new e.Error().stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="10eb3b1b-2c02-4de9-8d5a-cf5f84a40c6c",e._sentryDebugIdIdentifier="sentry-dbid-10eb3b1b-2c02-4de9-8d5a-cf5f84a40c6c")}catch{}})();function c(e,o){var i,t;if(!e||!Object.keys(e))return{};var s=e.integrations?Object.keys(e.integrations).filter(function(n){return e.integrations[n]===!1}):[],a=[];return((i=o.remotePlugins)!==null&&i!==void 0?i:[]).forEach(function(n){s.forEach(function(r){n.creationName==r&&a.push(n.name)})}),((t=o.remotePlugins)!==null&&t!==void 0?t:[]).reduce(function(n,r){return r.settings.subscriptions&&a.includes(r.name)&&r.settings.subscriptions.forEach(function(f){return n["".concat(r.name," ").concat(f.partnerAction)]=!1}),n},{})}function g(e,o){function i(t){var s=e,a=t.event.event;if(s&&a){var n=s[a];if(d(s,n)){var r=c(n,o);t.updateEvent("integrations",u(u(u({},t.event.integrations),n==null?void 0:n.integrations),r))}else return t.updateEvent("integrations",u(u({},t.event.integrations),{All:!1,"Segment.io":!0})),t}return t}return{name:"Schema Filter",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},type:"before",page:i,alias:i,track:i,identify:i,group:i}}export{g as schemaFilter};
//# sourceMappingURL=index-B7vbM8kF.js.map
