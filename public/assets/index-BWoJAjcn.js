import{_ as g,a as p,f as h,g as y,l as _}from"./index-as7EEMkH.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a=new e.Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="f818969f-facd-4e1e-9906-ee8f04e642a8",e._sentryDebugIdIdentifier="sentry-dbid-f818969f-facd-4e1e-9906-ee8f04e642a8")}catch{}})();function D(e,a,d){var o;return g(this,void 0,void 0,function(){var l,c,f,u,i,v=this;return p(this,function(m){switch(m.label){case 0:return h()?[2,[]]:(l=y(),c=(o=a.enabledMiddleware)!==null&&o!==void 0?o:{},f=Object.entries(c).filter(function(t){t[0];var r=t[1];return r}).map(function(t){var r=t[0];return r}),u=f.map(function(t){return g(v,void 0,void 0,function(){var r,s,w,b;return p(this,function(n){switch(n.label){case 0:r=t.replace("@segment/",""),s=r,d&&(s=btoa(r).replace(/=/g,"")),w="".concat(l,"/middleware/").concat(s,"/latest/").concat(s,".js.gz"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,_(w)];case 2:return n.sent(),[2,window["".concat(r,"Middleware")]];case 3:return b=n.sent(),e.log("error",b),e.stats.increment("failed_remote_middleware"),[3,4];case 4:return[2]}})})}),[4,Promise.all(u)]);case 1:return i=m.sent(),i=i.filter(Boolean),[2,i]}})})}export{D as remoteMiddlewares};
//# sourceMappingURL=index-BWoJAjcn.js.map
